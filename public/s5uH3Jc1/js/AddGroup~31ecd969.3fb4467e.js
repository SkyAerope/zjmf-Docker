(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddGroup~31ecd969"],{"0108":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-group"},[r("h2",[e._v(e._s("edit"===e.$route.query.type?e.$lang.editing_group:e.$lang.create_group))]),r("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,"label-width":"80px","label-position":"top"}},[r("el-form-item",{attrs:{prop:"group_name",label:e.$lang.interface_group_name}},[r("el-input",{staticStyle:{width:"260px"},attrs:{type:"text",size:"small",placeholder:e.$lang.enter_interface_group_name},model:{value:e.formData.group_name,callback:function(t){e.$set(e.formData,"group_name",t)},expression:"formData.group_name"}})],1),r("el-form-item",{attrs:{prop:"mode",label:e.$lang.allocation}},[r("el-radio-group",{staticStyle:{width:"100%"},attrs:{size:"medium"},model:{value:e.formData.mode,callback:function(t){e.$set(e.formData,"mode",t)},expression:"formData.mode"}},e._l(e.modes,(function(t,a){return r("div",{key:a,staticStyle:{width:"100%","margin-top":"20px"}},[r("el-radio",{attrs:{label:t.value}},[e._v(" "+e._s(t.name)+" "),r("span",{staticClass:"ml-10 gray"},[e._v(" "+e._s(t.desc)+" ")])])],1)})),0)],1),r("el-form-item",{attrs:{label:e.$lang.select_idle_interface}},[r("el-transfer",{staticClass:"mt-10",attrs:{titles:[e.$lang.free_interface,e.$lang.selected_interface],data:e.serversData},on:{"left-check-change":e.leftCheckChange,change:e.rightChange},model:{value:e.formData.sid,callback:function(t){e.$set(e.formData,"sid",t)},expression:"formData.sid"}})],1)],1),r("div",{staticClass:"bottomOperationAdd"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$lang.submit))]),r("el-button",{attrs:{size:"small",type:"default"},on:{click:e.back}},[e._v(e._s(e.$lang.get_back))]),r("el-button",{attrs:{size:"small",type:"default"},on:{click:e.reset}},[e._v(e._s(e.$lang.reset))])],1)],1)},n=[],s=(r("4de4"),r("4160"),r("d81d"),r("b0c0"),r("159b"),r("5530")),o=r("bdf0"),i={data:function(){return{serversData:[],interfaces:[],modes:[],formData:{group_name:"",sid:[],mode:""},rules:{group_name:[{required:!0,message:this.$lang.enter_name_of_interface_group,trigger:"blur"}],mode:[{required:!0,message:this.$lang.select_the_assignment_method,trigger:"change"}]},noDataText:this.$lang.no_free_interface}},mounted:function(){this.getData(),this.resetTransfer()},methods:{resetTransfer:function(){document.getElementsByClassName("el-checkbox__input")[0].classList.add("is-disabled"),document.getElementsByClassName("el-checkbox__input")[0].style.visibility="hidden",document.getElementsByClassName("el-checkbox__original")[0].disabled=!0},rightChange:function(e){var t=this;if(e.length>0){var r=this.serversData.filter((function(e){return e.key==t.formData.sid[0]}))[0];this.serversData.forEach((function(e){e.type!==r.type&&(e.disabled=!0)}))}else this.serversData.forEach((function(e){e.disabled=!1}))},leftCheckChange:function(e){var t=this;if(e.length>0){var r=this.serversData.filter((function(t){return t.key==e[0]}))[0];this.serversData.forEach((function(e){e.type!==r.type&&(e.disabled=!0)}))}else if(this.formData.sid.length>0){var a=this.serversData.filter((function(e){return e.key==t.formData.sid[0]}))[0];this.serversData.forEach((function(e){e.type!==a.type&&(e.disabled=!0)}))}else this.serversData.forEach((function(e){e.disabled=!1}))},getCreateGroups:function(){var e=this;Object(o["e"])().then((function(t){200===t.data.status&&(e.interfaces=t.data.data.servers,e.modes=t.data.data.mode,e.$valIsNull(t.data.data.mode)||(e.formData.mode=t.data.data.mode[0].value),t.data.data.servers.length>0&&(e.serversData=t.data.data.servers.map((function(e){var t={key:e.id,label:e.name,type:e.type};return t}))))}))},getData:function(){var e=this;"edit"===this.$route.query.type&&Object(o["i"])(this.$route.query.id).then((function(t){if(200===t.data.status&&(e.interfaces=t.data.data.servers,e.modes=t.data.data.mode,e.formData.group_name=t.data.data.server_group.name,e.formData.sid=t.data.data.select_servers,e.formData.mode=t.data.data.server_group.mode,e.serversData=t.data.data.servers.map((function(e){var t={key:e.id,label:e.name,type:e.type};return t})),t.data.data.select_servers.length>0)){var r=e.serversData.filter((function(e){return e.key==t.data.data.select_servers[0]}))[0];e.serversData.forEach((function(e){e.type!==r.type&&(e.disabled=!0)}))}})),"add"===this.$route.query.type&&this.getCreateGroups()},submit:function(){var e=this;this.$refs["form"].validate((function(t){if(t)if("add"===e.$route.query.type)Object(o["b"])(e.formData).then((function(t){200===t.data.status?(e.$message.success(t.data.msg),e.$router.back()):e.$message.error(t.data.msg)}));else{var r=Object(s["a"])({},e.formData,{id:e.$route.query.id});Object(o["j"])(r).then((function(t){200===t.data.status?(e.$message.success(t.data.msg),e.$router.back()):e.$message.error(t.data.msg)}))}}))},back:function(){this.$router.back()},reset:function(){var e=this;"add"==this.$route.query.type?this.$nextTick((function(){e.$refs["form"].resetFields()})):this.getData()}}},u=i,c=(r("e2d6"),r("2877")),d=Object(c["a"])(u,a,n,!1,null,"2bd0d438",null);t["default"]=d.exports},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,s=r("1dde"),o=r("ae40"),i=s("filter"),u=o("filter");a({target:"Array",proto:!0,forced:!i||!u},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var a=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},8418:function(e,t,r){"use strict";var a=r("c04e"),n=r("9bf2"),s=r("5c6c");e.exports=function(e,t,r){var o=a(t);o in e?n.f(e,o,s(0,r)):e[o]=r}},a47b:function(e,t,r){},ade3:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return a}))},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),s=r("df75"),o=r("d039"),i=o((function(){s(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(e){return s(n(e))}})},bdf0:function(e,t,r){"use strict";r.d(t,"n",(function(){return n})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"m",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"i",(function(){return f})),r.d(t,"b",(function(){return l})),r.d(t,"j",(function(){return m})),r.d(t,"h",(function(){return p})),r.d(t,"a",(function(){return b})),r.d(t,"k",(function(){return g})),r.d(t,"e",(function(){return h})),r.d(t,"l",(function(){return v}));var a=r("a27e");function n(e,t,r,n){return Object(a["a"])({url:"servers_list",params:{limit:e,page:t,search:r,gid:n}})}function s(e){return Object(a["a"])({url:"delete_servers/".concat(e)})}function o(){return Object(a["a"])({url:"servers_add"})}var i={headers:{"Content-Type":"multipart/form-data"}};function u(e){return Object(a["a"])({url:"servers_add_post",method:"post",data:e,config:i})}function c(e){return Object(a["a"])({url:"edit_servers/".concat(e),method:"get"})}function d(e){return Object(a["a"])({url:"delete_server_groups/".concat(e)})}function f(e){return Object(a["a"])({url:"edit_server_groups/".concat(e)})}function l(e){return Object(a["a"])({url:"create_groups_post",method:"post",data:e})}function m(e){return Object(a["a"])({url:"edit_server_groups_post",method:"post",data:e})}function p(e){return Object(a["a"])({url:"edit_servers_post",method:"post",data:e})}function b(e){return Object(a["a"])({url:"server_test_link/".concat(e)})}function g(e,t){return Object(a["a"])({url:"groups_list",params:{limit:e,page:t}})}function h(e){return Object(a["a"])({url:"create_groups"})}function v(e){return Object(a["a"])({url:"get_modules_group",method:"post",data:e})}},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),s=r("56ef"),o=r("fc6a"),i=r("06cf"),u=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=o(e),n=i.f,c=s(a),d={},f=0;while(c.length>f)r=n(a,t=c[f++]),void 0!==r&&u(d,t,r);return d}})},e2d6:function(e,t,r){"use strict";var a=r("a47b"),n=r.n(a);n.a},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),s=r("fc6a"),o=r("06cf").f,i=r("83ab"),u=n((function(){o(1)})),c=!i||u;a({target:"Object",stat:!0,forced:c,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o(s(e),t)}})}}]);