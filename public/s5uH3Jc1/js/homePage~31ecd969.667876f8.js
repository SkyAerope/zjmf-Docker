(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["homePage~31ecd969"],{"0537":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("el-row",{staticClass:"header-box"},[s("el-col",{attrs:{xs:24,sm:12}},[t._v(t._s(t.$lang.howdy)+"，"+t._s(t.userInfo.user_nickname||"")+"！"+t._s(t.$lang.today)+"，"+t._s(t.nowTime)+"，"+t._s(t.nowWeek))]),t.dataLoading?t._e():s("el-col",{staticClass:"tar",attrs:{xs:24,sm:12}},[s("span",[t._v(t._s(t.$lang.current_version)+"："+t._s(t.pageData.install_version)+" （"+t._s(t.$lang.latest_version)+"："+t._s(t.pageData.last_version)+"）")]),t.hideUpdate?t._e():s("router-link",{attrs:{to:{name:"systemMessage"}}},[s("el-button",{staticClass:"header-box-updata",attrs:{type:"text"}},[t._v(t._s(t.$lang.update))])],1),s("el-popover",{attrs:{placement:"bottom",width:"150",trigger:"hover"}},[s("div",{staticClass:"tac cursor-pointer",staticStyle:{background:"#ebf1ff",padding:"5px 0","border-radius":"2px"},on:{click:t.defaultModules}},[t._v(t._s(t.$lang.restore_default))]),s("el-checkbox-group",{on:{change:t.toolChange},model:{value:t.checkTools,callback:function(e){t.checkTools=e},expression:"checkTools"}},t._l(t.modules,(function(e,a){return s("el-checkbox",{key:a,staticClass:"mt-5 mb-5",staticStyle:{"margin-right":"0"},attrs:{label:e.id}},[t._v(t._s(e.desc))])})),1),s("i",{staticClass:"el-icon-s-tools tool ml-20",attrs:{slot:"reference"},slot:"reference"})],1)],1)],1),t.pageData.diff_run_time>300?s("el-row",{staticClass:"header-tips mb-20"},[s("el-col",{staticClass:"tips pl-20",attrs:{span:24}},[t._v(t._s(t.$lang.automatic_task_state)+" "),s("span",{staticStyle:{color:"red"}},[t._v(t._s(t.$lang.abnormity))]),t._v(" "+t._s(t.$lang.last_mission_end_time)+"："+t._s(t.$moment(1e3*t.pageData.cron_last_run_time_over).format("lll"))+" ")])],1):t._e(),s("el-row",{staticClass:"content",staticStyle:{margin:"0"},attrs:{gutter:20}},t._l(t.showModules,(function(e,n){return s("el-col",{key:"modules"+n,staticClass:"mb-20",attrs:{xs:24,sm:"trade"===e.name?16:8}},[s("el-card",{staticStyle:{"min-height":"206px"}},[s("el-row",[s("el-col",{staticClass:"content-module-title",attrs:{span:12}},["system_log"===e.name?s("router-link",{staticStyle:{color:"#333"},attrs:{to:{name:"systemLog"}}},[t._v(" "+t._s(e.desc)+" ")]):s("span",[t._v(t._s(e.desc))])],1),s("el-col",{staticClass:"tar",attrs:{span:12}},[s("span",{staticStyle:{"font-size":"16px"},on:{mouseleave:function(t){e.show_more=!1}}},[e.show_more?s("i",{staticClass:"el-icon-refresh cursor-pointer mr-5",on:{click:function(a){return t.getBaseInfo(e.name)}}}):t._e(),e.show_more?s("i",{staticClass:"el-icon-rank cursor-grabbing mr-5"}):t._e(),e.show_more?s("i",{staticClass:"el-icon-delete cursor-pointer mr-20",on:{click:function(a){return t.removeModule(e.id)}}}):t._e(),e.show_more?t._e():s("i",{staticClass:"el-icon-more cursor-pointer",on:{click:function(t){e.show_more=!0}}})])])],1),"income"===e.name?s("el-row",{staticClass:"content-module-income"},[s("el-col",{staticClass:"module-body-today mt-20",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.todaytotal?Number(t.pageData.modules.income.todaytotal).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v(t._s(t.$lang.today_income))])]),s("el-col",{staticClass:"module-body-7days mt-20",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.thismonth?Number(t.pageData.modules.income.thismonth).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v(t._s(t.$lang.month_income))])]),s("el-col",{staticClass:"module-body-month mt-20 mb-10",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.toyear?Number(t.pageData.modules.income.toyear).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v(t._s(t.$lang.year_income))])]),s("el-col",{staticClass:"module-body-total mt-20 mb-10",attrs:{xs:24,md:12}},[s("div",{staticClass:"income"},[t._v(" "+t._s(t.pageData.modules.income.amounts?Number(t.pageData.modules.income.amounts).toFixed(2):0))]),s("div",{staticClass:"label"},[t._v(t._s(t.$lang.total_income))])])],1):t._e(),"order"===e.name?s("el-row",{staticClass:"content-module-order"},[s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("day","Paid")}}},[s("div",{staticClass:"label"},[t._v(t._s(t.$lang.order_paid_today))]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.today_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v(t._s(t.$lang.blanket_order)+": "+t._s(t.pageData.modules.order.today_total_order_count)+t._s(t.$lang.every))])])]),s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("month","Paid")}}},[s("div",{staticClass:"label"},[t._v(t._s(t.$lang.order_has_been_paid_month))]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.tomonth_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v(t._s(t.$lang.blanket_order)+": "+t._s(t.pageData.modules.order.tomonth_total_order_count)+t._s(t.$lang.every))])])]),s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("sevenDay","Paid")}}},[s("div",{staticClass:"label"},[t._v(t._s(t.$lang.paid_order_last_seven_days))]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.latest_7_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v(t._s(t.$lang.blanket_order)+": "+t._s(t.pageData.modules.order.latest_7_total_order_count)+t._s(t.$lang.every))])])]),s("el-col",{staticClass:"module-body-order mt-20",attrs:{xs:12,md:6}},[s("div",{staticClass:"order-view",on:{click:function(e){return t.toOrder("sevenDay","Unpaid")}}},[s("div",{staticClass:"label"},[t._v(t._s(t.$lang.pending_orders_nearly_seven_days))]),s("div",{staticClass:"num mt-10"},[t._v(t._s(t.pageData.modules.order.latest_7_waiting_paid_order_count))]),s("div",{staticClass:"total mt-10"},[t._v(t._s(t.$lang.blanket_order)+": "+t._s(t.pageData.modules.order.latest_7_total_order_count)+t._s(t.$lang.every))])])])],1):t._e(),"todo"===e.name?s("el-row",{staticClass:"content-module-commission"},[s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"supportTicket"}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#0089f0"}},[s("i",{staticClass:"custom el-icon-s-order"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.waiting_ticket_count))]),s("div",{staticClass:"total "},[t._v(t._s(t.$lang.pending_work_order))])])])])],1),s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"orderList",query:{status:"Pending"}}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#64b524"}},[s("i",{staticClass:"custom el-icon-s-order"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.waiting_check_order_count))]),s("div",{staticClass:"total "},[t._v(t._s(t.$lang.orders_verified))])])])])],1),s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"CustomerAuthentication"}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#f38900"}},[s("i",{staticClass:"custom el-icon-s-custom"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.verified_count))]),s("div",{staticClass:"total "},[t._v(t._s(t.$lang.name_authentication))])])])])],1),s("el-col",{staticClass:"module-body-commission mt-20",attrs:{xs:24,md:12}},[s("router-link",{attrs:{to:{name:"WithdrawalAudit"}}},[s("div",{staticClass:"commission-box mr-10"},[s("div",{staticClass:"label",style:{backgroundColor:"#40c9c6"}},[s("i",{staticClass:"custom el-icon-s-finance"})]),s("div",{staticClass:"ml-20 cont"},[s("div",{staticClass:"num "},[t._v(t._s(t.pageData.modules.todo.withdraw_count))]),s("div",{staticClass:"total "},[t._v(t._s(t.$lang.application_withdrawal))])])])])],1)],1):t._e(),"client"===e.name?s("el-row",{staticClass:"content-module-custom"},[s("div",{staticClass:"custom-box"},[s("div",{staticClass:"custom-box-head mt-20"},[s("div",{staticClass:"custom-box-type"},[s("span",{staticClass:"num"},[t._v(t._s(t.pageData.modules.client.today_add_client_count))]),t._v(t._s(t.$lang.today_new))]),s("div",{staticClass:"custom-box-type"},[s("span",{staticClass:"num now"},[t._v(t._s(t.pageData.modules.client.now_online_count))]),t._v(t._s(t.$lang.number_current_online))]),s("div",{staticClass:"custom-box-type"},[s("span",{staticClass:"num"},[t._v(t._s(t.pageData.modules.client.total_client_count))]),t._v(t._s(t.$lang.total_system_quantity))])]),s("div",{staticClass:"custom-box-content mt-20"},[t.pageData.modules.client.latest_online_clinet.length?t._e():s("div",{staticClass:"tac",staticStyle:{"margin-top":"100px"}},[t._v(" "+t._s(t.$lang.no_data))]),t._l(t.pageData.modules.client.latest_online_clinet,(function(e,a){return s("div",{key:a,staticClass:"custom-cont-item mt-20"},[s("div",{staticClass:"item-left"},[s("div",{staticClass:"item-left-name"},[s("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:e.id}}}},[s("el-link",[t._v(t._s(e.username))])],1)],1),s("div",{staticClass:"item-left-ip mt-10"},[t._v(t._s(e.lastloginip))])]),s("div",{staticClass:"item-right item-left-ip"},[t._v(t._s(t.$timeDiff(1e3*e.lastlogin)))])])}))],2)])]):t._e(),"expiring"===e.name?s("el-row",{staticClass:"content-module-expire"},[s("div",{staticClass:"expire-list "},t._l(t.pageData.modules.expiring,(function(e,a){return s("div",{key:a,staticClass:"expire-item mt-20 tac"},[s("router-link",{attrs:{to:{name:"customerProduct",query:{from:"home-page",productType:e.type}}}},[s("div",{staticClass:"expire-item-num"},[t._v(t._s(e.expiring_count))]),s("div",{staticClass:"expire-item-desc "},[t._v(t._s(e.name))])])],1)})),0)]):t._e(),"system_log"===e.name?s("el-row",{staticClass:"content-module-log"},[s("div",{staticClass:"log-list"},[t.pageData.modules.system_log.length?t._e():s("div",{staticClass:"tac",staticStyle:{"margin-top":"140px"}},[t._v(t._s(t.$lang.no_data))]),t._l(t.pageData.modules.system_log,(function(e,a){return s("div",{key:a,staticClass:"log-item mt-20"},[s("div",{staticClass:"log-title",domProps:{innerHTML:t._s(e.new_desc)}}),s("div",{staticClass:"log-ip mt-10"},[s("span",[t._v(t._s(e.ipaddr))]),s("span",[t._v(t._s(e.create_time))])])])}))],2)]):t._e(),"online_admin"===e.name?s("el-row",{staticClass:"content-module-management"},[s("div",{staticClass:"management-person mt-20"},[t._v(t._s(t.$lang.online_number)+": "+t._s(t.pageData.modules.online_admin.length))]),s("div",{staticClass:"management-list  mt-20"},t._l(t.pageData.modules.online_admin,(function(e,a){return s("div",{key:a,staticClass:"management-item"},[s("div",{staticClass:"label"},[t._v(" "+t._s(e.admin_name.charAt(0).toUpperCase())+" ")]),s("div",{staticClass:"ml-10 cont"},[s("div",{staticClass:"name"},[t._v(t._s(e.admin_name))]),s("div",{staticClass:"minite"},[t._v(t._s(t.$lang.recently)+": "+t._s(e.last_act_time))])])])})),0)]):t._e(),"waiting_ticket"===e.name?s("el-row",{staticClass:"content-module-workOrder"},[s("div",{staticClass:"mt-30"},[t.pageData.modules.waiting_ticket.length?t._e():s("div",{staticClass:"tac",staticStyle:{"margin-top":"140px"}},[t._v(t._s(t.$lang.no_data))]),t._l(t.pageData.modules.waiting_ticket,(function(e,a){return s("div",{key:a,staticClass:"workOrder-cont-item mt-20"},[s("div",{staticClass:"item-left"},[s("div",{staticClass:"label mr-10"},[s("span",{staticClass:"text"},[t._v(t._s(t.$lang.the_open))])]),s("router-link",{staticStyle:{color:"#333"},attrs:{to:{path:"support-ticket-detail",query:{id:e.id,tid:e.tid}}}},[s("div",{staticClass:"item-left-name"},[t._v("#"+t._s(e.tid)+"-"+t._s(e.title))]),s("div",{staticClass:"item-left-ip mt-10"},[t._v(t._s(e.username))])])],1),s("div",{staticClass:"item-right item-left-ip"},[t._v(t._s(e.create_time||"-"))])])}))],2)]):t._e(),"trade"===e.name?s("el-row",{staticClass:"content-module-trade"},[s("el-col",{staticClass:"flexc",staticStyle:{height:"300px"},attrs:{span:24}},[t.tradeEmpty?s("img",{attrs:{src:a("0afe"),height:"100",width:"100",alt:t.$lang.no_data,title:t.$lang.no_data}}):t._e(),t.tradeEmpty?t._e():s("div",{staticClass:"w-100 h-100",staticStyle:{height:"300px"},attrs:{id:"tradeChartBox"}})])],1):t._e(),"sales_ranking"===e.name?s("el-row",{staticClass:"content-module-trade"},[s("el-col",{staticClass:"flexc",staticStyle:{height:"300px"},attrs:{span:24}},[t.salesRankingEmpty?s("img",{attrs:{src:a("0afe"),height:"100",width:"100",alt:t.$lang.no_data,title:t.$lang.no_data}}):t._e(),t.salesRankingEmpty?t._e():s("div",{staticClass:"w-100",staticStyle:{height:"300px"},attrs:{id:"monthRankChartBox"}})])],1):t._e(),"staff_sales_ranking"===e.name?s("el-row",{staticClass:"content-module-trade"},[s("el-col",{staticClass:"flexc",staticStyle:{height:"300px"},attrs:{span:24}},[t.staffSalesRankingEmpty?s("img",{attrs:{src:a("0afe"),height:"100",width:"100",alt:t.$lang.no_data,title:t.$lang.no_data}}):t._e(),t.staffSalesRankingEmpty?t._e():s("div",{staticClass:"w-100",staticStyle:{height:"300px"},attrs:{id:"monthStaffRankChartBox"}})])],1):t._e()],1)],1)})),1)],1)},n=[],o=(a("a623"),a("4de4"),a("7db0"),a("4160"),a("caad"),a("d81d"),a("a434"),a("b0c0"),a("a9e3"),a("dca8"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("96cf"),a("1da1")),i=a("a27e");function r(t){return Object(i["a"])({url:"report/base_info",params:t})}function l(){return Object(i["a"])({url:"report/get_base_module"})}function c(t){return Object(i["a"])({url:"report/update_base_module",method:"post",data:t})}var d=a("aa47"),m={inject:["reload"],data:function(){return{modules:[{id:1,name:"income",desc:this.$lang.revenue_overview,show_more:!1},{id:2,name:"order",desc:this.$lang.order_overview,show_more:!1},{id:3,desc:this.$lang.backlog,show_more:!1},{id:4,name:"todo",desc:this.$lang.trade_statistics,show_more:!1},{id:5,name:"client",desc:this.$lang.customer_profiling,show_more:!1},{id:6,name:"expiring",desc:this.$lang.about_to_expire,show_more:!1},{id:7,name:"sales_ranking",desc:this.$lang.sales_the_month,show_more:!1},{id:8,name:"system_log",desc:this.$lang.system_log,show_more:!1},{id:9,name:"online_admin",desc:this.$lang.online_admin,show_more:!1},{id:10,name:"staff_sales_ranking",desc:this.$lang.staff_sales_ranking,show_more:!1},{id:11,name:"waiting_ticket",desc:this.$lang.pending_work_order,show_more:!1}],checkTools:[1,2,3,4,5,6,7,8,9,10,11],showModules:[],tradeChart:null,monthRankChart:null,monthStaffRankChart:null,pageData:{modules:{client:{latest_online_clinet:[]},expiring:[],income:{},online_admin:[],order:{},sales_ranking:[],staff_sales_ranking:[],system_log:[],todo:{},trade:{pre_month:[],tomonth:[]},waiting_ticket:[]}},userInfo:Object.freeze(JSON.parse(localStorage.getItem("userInfo"))),pickerOptions:{shortcuts:[{text:this.$lang.latest_week,onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:this.$lang.last_month,onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:this.$lang.last_three_month,onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},selectedDate:[(new Date).setTime((new Date).getTime()-6048e5),new Date],start_time:void 0,end_time:void 0,salesRankingEmpty:!1,staffSalesRankingEmpty:!1,tradeEmpty:!1,dataLoading:!0,hideUpdate:!1}},methods:{toolChange:function(t,e){var a=this;this.showModules=[],(this.modules||[]).forEach((function(e){t.includes(e.id)&&a.showModules.push(e)})),e||this.updateBaseModule(),this.chartChange()},removeModule:function(t){this.showModules=this.showModules.filter((function(e){return e.id!==t})),this.checkTools=this.checkTools.filter((function(e){return e!==t})),this.updateBaseModule(),this.chartChange()},chartChange:function(){var t=this;setTimeout((function(){null!==t.tradeChart&&t.tradeChart.dispose(),null!==t.monthRankChart&&t.monthRankChart.dispose(),null!==t.monthStaffRankChart&&t.monthStaffRankChart.dispose(),t.chartOption(),t.tradeChartDataSet(t.pageData.modules.trade),t.monthChartDataSet(t.pageData.modules.sales_ranking),t.monthStaffChartDataSet(t.pageData.modules.staff_sales_ranking)}),200)},moduleDrag:function(){var t=this,e=document.querySelector(".content");setTimeout((function(){d["a"].create(e,{animation:500,handle:".cursor-grabbing",onEnd:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.oldIndex!==a.newIndex&&(s=t.modules[a.oldIndex],t.modules.splice(a.oldIndex,1),t.modules.splice(a.newIndex,0,s),t.updateBaseModule());case 1:case"end":return e.stop()}}),e)})));function a(t){return e.apply(this,arguments)}return a}()})}),500)},chartOption:function(){try{this.tradeChart=this.$echarts.init(document.getElementById("tradeChartBox")),this.tradeChart.setOption({backgroundColor:"#fff",color:["#3275FB","#3fbf70","#047dfc"],grid:{top:"100",right:"40",left:"60",bottom:"40"},tooltip:{trigger:"axis"},legend:{top:20,left:"10%",itemHeight:7,textStyle:{color:"#7c7c7c"},data:[this.$lang.sum_yuan,this.$lang.order_every,this.$lang.last_month_order_every]},xAxis:[{type:"category",color:"#59588D",name:"8月",nameLocation:"start",nameTextStyle:{color:"#000",padding:[40,0,0,120]},data:[],axisLabel:{margin:10,color:"#999",textStyle:{fontSize:12}},axisLine:{lineStyle:{color:"#f5f4f8"}},axisTick:{show:!1}}],yAxis:[{name:this.$lang.yuan,nameTextStyle:{padding:[0,20,0,0]},axisLabel:{color:"#999",textStyle:{fontSize:12}},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#f5f4f8"}}},{name:this.$lang.every,nameTextStyle:{padding:[0,0,0,30]},axisLabel:{color:"#999",textStyle:{fontSize:12}},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#f5f4f8"}}}],series:[{type:"bar",name:this.$lang.sum_yuan,data:[],barWidth:"16px",itemStyle:{normal:{color:"#047dfc",barBorderRadius:[3,3,0,0]}},label:{normal:{show:!1,fontSize:16,fontWeight:"bold",color:"#333",position:"top"}}},{data:[],type:"line",yAxisIndex:1,smooth:!0,name:this.$lang.order_every,symbol:"none",lineStyle:{color:"#3275FB",shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:15,shadowOffsetY:20}},{data:[],type:"line",yAxisIndex:1,smooth:!0,name:this.$lang.last_month_order_every,symbol:"none",lineStyle:{type:"dotted",color:"rgba(74, 195, 120, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:15,shadowOffsetY:20}}]})}catch(t){}try{this.monthRankChart=this.$echarts.init(document.getElementById("monthRankChartBox")),this.monthRankChart.setOption({color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80"],legend:{orient:"vertical",right:"2%",top:"middle",icon:"circle",itemWidth:9,itemHeight:9,textStyle:{color:"#999999"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.$lang.sales_the_month,type:"pie",radius:["15%","70%"],center:["30%","50%"],roseType:"radius",label:{show:!1,formatter:"{b}: {c}元"},labelLine:{show:!0,length:5,length2:15},data:[{value:25,name:"rose1"},{value:20,name:"rose2"},{value:15,name:"rose3"},{value:10,name:"rose4"},{value:8,name:"rose5"}]}]},!0)}catch(t){}try{this.monthStaffRankChart=this.$echarts.init(document.getElementById("monthStaffRankChartBox")),this.monthStaffRankChart.setOption({color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80"],legend:{orient:"vertical",right:"2%",top:"middle",icon:"circle",itemWidth:9,itemHeight:9,textStyle:{color:"#999999"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.$lang.staff_sales_ranking,type:"pie",radius:["15%","70%"],center:["40%","50%"],roseType:"radius",label:{show:!1,formatter:"{b}: {c}元"},labelLine:{show:!0,length:5,length2:15},data:[{value:25,name:"rose1"},{value:20,name:"rose2"},{value:15,name:"rose3"},{value:10,name:"rose4"},{value:8,name:"rose5"}]}]},!0)}catch(t){}},toOrder:function(t,e){var a="";switch(t){case"day":a=new Date((new Date).toLocaleDateString()).getTime();break;case"sevenDay":a=new Date((new Date).toLocaleDateString()).getTime()-5184e5;break;case"month":var s=new Date;s.setDate(1),s.setHours(0),s.setSeconds(0),s.setMinutes(0),a=s.getTime();break;default:break}a=Math.floor(a/1e3),this.$router.push({name:"orderList",query:{st:a,pay_status:e}})},getBaseInfo:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n,o,i,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.dataLoading=!0,a.next=3,r({start_time:e.start_time,end_time:e.end_time});case 3:if(s=a.sent,n=s.data,200===n.status){a.next=9;break}return e.$$message.error(n.msg),e.dataLoading=!1,a.abrupt("return",!1);case 9:"init"===t?(e.pageData=n.data,e.tradeChartDataSet(n.data.modules.trade),e.monthChartDataSet(n.data.modules.sales_ranking),e.monthStaffChartDataSet(n.data.modules.staff_sales_ranking),e.salesRankingEmpty=Boolean(0===n.data.modules.sales_ranking.length),e.staffSalesRankingEmpty=Boolean(0===n.data.modules.staff_sales_ranking.length),e.tradeEmpty=Boolean(0===n.data.modules.trade.length)):"income"===t?(e.pageData.modules.income=n.data.modules.income,e.$message.success(n.msg)):"order"===t?(e.pageData.modules.order=n.data.modules.order,e.$message.success(n.msg)):"todo"===t?(e.pageData.modules.todo=n.data.modules.todo,e.$message.success(n.msg)):"trade"===t?(e.pageData.modules.trade=n.data.modules.trade,e.tradeChartDataSet(n.data.modules.trade),e.tradeEmpty=Boolean(0===n.data.modules.trade.length),e.$message.success(n.msg)):"client"===t?(e.pageData.modules.client=n.data.modules.client,e.$message.success(n.msg)):"expiring"===t?(e.pageData.modules.expiring=n.data.modules.expiring,e.$message.success(n.msg)):"sales_ranking"===t?(e.pageData.modules.sales_ranking=n.data.modules.sales_ranking,e.monthChartDataSet(n.data.modules.sales_ranking),e.salesRankingEmpty=Boolean(0===n.data.modules.sales_ranking.length),e.$message.success(n.msg)):"system_log"===t?(e.pageData.modules.system_log=n.data.modules.system_log,e.$message.success(n.msg)):"online_admin"===t?(e.pageData.modules.online_admin=n.data.modules.online_admin,e.$message.success(n.msg)):"staff_sales_ranking"===t?(e.pageData.modules.staff_sales_ranking=n.data.modules.staff_sales_ranking,e.monthStaffChartDataSet(n.data.modules.staff_sales_ranking),e.staffSalesRankingEmpty=Boolean(0===n.data.modules.staff_sales_ranking.length),e.$message.success(n.msg)):"waiting_ticket"===t&&(e.pageData.modules.waiting_ticket=n.data.modules.waiting_ticket,e.$message.success(n.msg)),e.dataLoading=!1,o=n.data.install_version.split("."),i=n.data.last_version.split("."),l="",c="",o.forEach((function(t){l+=t})),i.forEach((function(t){c+=t})),l===c&&(e.hideUpdate=!0);case 18:case"end":return a.stop()}}),a)})))()},getBaseModule:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=function(t){return function(e,a){var s=e[t],n=a[t];return s-n}},e.next=3,l();case 3:a=e.sent,s=a.data,t.checkTools=s.data.filter((function(t){return 1===t.enable})).map((function(t){return t.id})),t.modules=s.data.sort(n("sort")).map((function(e){var a=t.modules.find((function(t){return t.id===e.id}));return a&&(e.desc=a.desc),e.show_more=!1,e}));case 7:case"end":return e.stop()}}),e)})))()},updateBaseModule:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return(t.modules||[]).map((function(e,a){return e.sort=a,t.checkTools.includes(e.id)?e.enable=1:e.enable=0,e})),e.next=3,c({modules:t.modules});case 3:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getBaseModule());case 6:case"end":return e.stop()}}),e)})))()},tradeChartDataSet:function(t){var e=[],a=[],s=[],n=[];(t.tomonth||[]).forEach((function(t){e.push(String(t.date).split("-")[2]),a.push(Number(t.amount_total)),s.push(Number(t.count))})),(t.pre_month||[]).forEach((function(t){n.push(Number(t.count))}));try{this.tradeChart.setOption({xAxis:[{name:String(t.tomonth[0].date).split("-")[1]+this.$lang.month,data:e}],series:[{data:a},{data:s},{data:n}]})}catch(o){}},monthChartDataSet:function(t){var e=[];(t||[]).forEach((function(t){e.push({value:Number(t.total_amount),name:t.name})}));try{this.monthRankChart.setOption({series:[{data:e}]})}catch(a){}},monthStaffChartDataSet:function(t){var e=[];(t||[]).forEach((function(t){e.push({value:Number(t.total_amount),name:t.sale_username})}));try{this.monthStaffRankChart.setOption({series:[{data:e}]})}catch(a){}},resize:function(){this.tradeChart.resize(),this.monthRankChart.resize(),this.monthStaffRankChart.resize()},defaultModules:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return(t.modules||[]).forEach((function(t){t.enable=1,t.sort=0})),e.next=3,c({modules:t.modules});case 3:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.reload());case 6:case"end":return e.stop()}}),e)})))()}},computed:{nowTime:function(){return this.$moment(new Date).format("ll")},nowWeek:function(){return this.$moment(new Date).format("dddd")}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.removeItem("navIndex"),t.showModules=t.modules,e.next=4,t.getBaseModule();case 4:return t.toolChange(t.checkTools,"init"),e.next=7,t.getBaseInfo("init");case 7:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.moduleDrag(),window.addEventListener("resize",this.resize),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.resize)}))}},u=m,_=(a("f59b"),a("2877")),g=Object(_["a"])(u,s,n,!1,null,"705f13ea",null);e["default"]=g.exports},"0afe":function(t,e,a){t.exports=a.p+"img/empty.777b990e.svg"},"133b":function(t,e,a){},2532:function(t,e,a){"use strict";var s=a("23e7"),n=a("5a34"),o=a("1d80"),i=a("ab13");s({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(o(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").filter,o=a("1dde"),i=a("ae40"),r=o("filter"),l=i("filter");s({target:"Array",proto:!0,forced:!r||!l},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,a){var s=a("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7db0":function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").find,o=a("44d2"),i=a("ae40"),r="find",l=!0,c=i(r);r in[]&&Array(1)[r]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!c},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(r)},8418:function(t,e,a){"use strict";var s=a("c04e"),n=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var i=s(e);i in t?n.f(t,i,o(0,a)):t[i]=a}},a434:function(t,e,a){"use strict";var s=a("23e7"),n=a("23cb"),o=a("a691"),i=a("50c4"),r=a("7b0b"),l=a("65f0"),c=a("8418"),d=a("1dde"),m=a("ae40"),u=d("splice"),_=m("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,h=Math.min,f=9007199254740991,p="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u||!_},{splice:function(t,e){var a,s,d,m,u,_,v=r(this),C=i(v.length),y=n(t,C),b=arguments.length;if(0===b?a=s=0:1===b?(a=0,s=C-y):(a=b-2,s=h(g(o(e),0),C-y)),C+a-s>f)throw TypeError(p);for(d=l(v,s),m=0;m<s;m++)u=y+m,u in v&&c(d,m,v[u]);if(d.length=s,a<s){for(m=y;m<C-s;m++)u=m+s,_=m+a,u in v?v[_]=v[u]:delete v[_];for(m=C;m>C-s+a;m--)delete v[m-1]}else if(a>s)for(m=C-s;m>y;m--)u=m+s-1,_=m+a-1,u in v?v[_]=v[u]:delete v[_];for(m=0;m<a;m++)v[m+y]=arguments[m+2];return v.length=C-s+a,d}})},a623:function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").every,o=a("a640"),i=a("ae40"),r=o("every"),l=i("every");s({target:"Array",proto:!0,forced:!r||!l},{every:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},ab13:function(t,e,a){var s=a("b622"),n=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(s){}}return!1}},caad:function(t,e,a){"use strict";var s=a("23e7"),n=a("4d64").includes,o=a("44d2"),i=a("ae40"),r=i("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!r},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},dca8:function(t,e,a){var s=a("23e7"),n=a("bb2f"),o=a("d039"),i=a("861d"),r=a("f183").onFreeze,l=Object.freeze,c=o((function(){l(1)}));s({target:"Object",stat:!0,forced:c,sham:!n},{freeze:function(t){return l&&i(t)?l(r(t)):t}})},f59b:function(t,e,a){"use strict";var s=a("133b"),n=a.n(s);n.a}}]);