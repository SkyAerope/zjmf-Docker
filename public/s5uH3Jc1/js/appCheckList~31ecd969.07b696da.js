(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appCheckList~31ecd969"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"6d7d":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-select",{staticClass:"mr-10",staticStyle:{width:"160px"},attrs:{size:"small",multiple:"",clearable:""},on:{change:t.getData},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},t._l(t.statusOptions,(function(t,e){return a("el-option",{key:e,attrs:{value:t.value,label:t.label}})})),1),a("span",{staticClass:"search-mobile"},[a("el-input",{staticClass:"mr-10",staticStyle:{width:"200px"},attrs:{size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData(e)}},model:{value:t.search.keywords,callback:function(e){t.$set(t.search,"keywords",e)},expression:"search.keywords"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getData},slot:"append"})],1)],1)],1)],1),a("el-table",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"sort-change":t.sortChange}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableData.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" 正在加载 ... ")]):t._e(),t.tableData.length||t.tableLoading?t._e():a("span",[t._v("暂无数据")])]),a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"",width:"70",align:"center"}}),a("el-table-column",{attrs:{prop:"uuid",label:"应用标识",sortable:"",width:"120"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("router-link",{attrs:{to:{path:"/customer-view/developer",query:{id:r.uid}}}},[a("el-link",{attrs:{type:"primary"}},[t._v(t._s(r.nickname))])],1)]}}])}),a("el-table-column",{attrs:{prop:"name",label:"应用名称",sortable:"",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("router-link",{attrs:{to:{path:"application-detail",query:{id:r.id,appstatus:t.$route.query.appstatus}}}},[a("el-link",{attrs:{type:"primary"}},[t._v(t._s(r.name))])],1)]}}])}),a("el-table-column",{attrs:{prop:"info",label:"应用简述",sortable:""}}),a("el-table-column",{attrs:{prop:"type_zh",label:"应用类型",sortable:"",width:"110"}}),a("el-table-column",{attrs:{prop:"status_zh",label:"状态",sortable:"",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[2===r.status?a("el-popover",{attrs:{placement:"top",title:"",width:"auto",trigger:"hover",content:""}},[a("span",[t._v(" 驳回原因: "+t._s(r.reason)+" ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(r.status_zh))])]):a("span",[t._v(t._s(r.status_zh))])]}}])}),"1"===t.$route.query.appstatus?a("el-table-column",{attrs:{prop:"unretired_time",label:"上架时间",sortable:"",width:"135",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",[t._v(t._s(r.unretired_time?t.$moment(1e3*r.unretired_time).format("YYYY-MM-DD HH:mm"):"-"))])]}}],null,!1,978948896)}):t._e(),"2"===t.$route.query.appstatus?a("el-table-column",{attrs:{prop:"update_time",label:"提交时间",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",[t._v(t._s(r.update_time?t.$moment(1e3*r.update_time).format("YYYY-MM-DD HH:mm"):t.$moment(1e3*r.create_time).format("YYYY-MM-DD HH:mm")))])]}}],null,!1,3420365007)}):t._e(),a("el-table-column",{attrs:{prop:"pay_type_zh",label:"出售价格/方式",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return["onetime"===r.pay_type?a("div",[t._v(" "+t._s(r.currency.prefix)+t._s(r.pricing[r.pay_type])+t._s(r.currency.suffix))]):t._e(),"recurring"===r.pay_type?a("div",[r.pricing.annually?a("div",[t._v("年付:"+t._s(r.currency.prefix)+t._s(r.pricing.annually)+t._s(r.currency.suffix)+" ")]):t._e(),r.pricing.monthly?a("div",[t._v("月付:"+t._s(r.currency.prefix)+t._s(r.pricing.monthly)+t._s(r.currency.suffix)+" ")]):t._e()]):t._e(),a("div",{staticClass:"second-row"},[t._v(t._s(r.pay_type_zh))])]}}])}),"1"===t.$route.query.appstatus?a("el-table-column",{attrs:{prop:"count",label:"收入/销量",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",[t._v(t._s(r.currency.prefix)+t._s(r.total_price)+t._s(r.currency.suffix))]),a("div",{staticClass:"second-row"},[t._v(t._s(r.count)+"笔")])]}}],null,!1,3196602504)}):t._e(),a("el-table-column",{attrs:{label:"操作",width:"1"===t.$route.query.appstatus?"80":"135",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[1===r.status?a("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text"},on:{click:function(e){return t.toggleRetired(r)}}},[t._v(" 上架")]):t._e(),0===r.status?a("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text"},on:{click:function(e){return t.toggleRetired(r)}}},[t._v("下架 ")]):t._e(),3===r.status?a("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text"},on:{click:function(e){return t.checkDeveloperApp(r,1)}}},[t._v("通过 ")]):t._e(),3===r.status?a("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text"},on:{click:function(e){return t.checkDeveloperApp(r,2)}}},[t._v("驳回 ")]):t._e()]}}])})],1),a("el-pagination",{staticClass:"mt-10",attrs:{"current-page":t.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":t.search.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.getData,"update:currentPage":function(e){return t.$set(t.search,"page",e)},"update:current-page":function(e){return t.$set(t.search,"page",e)},"update:pageSize":function(e){return t.$set(t.search,"limit",e)},"update:page-size":function(e){return t.$set(t.search,"limit",e)}}})],1)},n=[],s=(a("a9e3"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),u=a("8bd6"),o={metaInfo:function(){return{title:"1"===this.$route.query.appstatus?window.zjmf_cw_lang.application_list:window.zjmf_cw_lang.application_audit}},data:function(){return{tableLoading:!1,statusOptions:[{value:0,label:"已上架"},{value:1,label:"已下架"}],search:{keywords:"",developer_status:[],status:[],app_status:this.$route.query.appstatus,page:1,limit:Number(localStorage.getItem("limit"))||50,order:"id",sort:"desc"},tableData:[],total:0}},methods:{init:function(){"1"===this.$route.query.appstatus?this.statusOptions=[{value:0,label:"已上架"},{value:1,label:"已下架"}]:"2"===this.$route.query.appstatus&&(this.statusOptions=[{value:2,label:"已驳回"},{value:0,label:"审核中"}])},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(u["i"])(t.search);case 3:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.tableData=r.data.products,t.total=r.data.count),t.tableLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.search.page=1,this.getData()},sortChange:function(t,e,a){this.search.order=t.prop,"ascending"===t.order?this.search.sort="asc":this.search.sort="desc",this.getData()},toggleRetired:function(t){var e=this,a=0,r="";0===t.status?(a=1,r="确定下架？"):1===t.status&&(a=0,r="确定上架？"),this.$confirm(r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["s"])({id:t.id,retired:a});case 2:n=r.sent,s=n.data,200!==s.status?e.$message.error(s.msg):(e.$message.success(s.msg),e.getData());case 5:case"end":return r.stop()}}),r)})))).catch((function(){}))},checkDeveloperApp:function(t,e){var a=this;1===e?this.$confirm("确定是否审核通过？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.checkApp(t.id,e)})).catch((function(){})):2===e&&this.$prompt("请输入驳回原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[\s\S]*.*[^\s][\s\S]*$/,inputErrorMessage:"请输入原因"}).then((function(r){a.checkApp(t.id,e,r.value)})).catch((function(){a.$message.info("取消输入")}))},checkApp:function(t,e,a){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(u["d"])({id:t,app_status:e,reason:a});case 2:s=n.sent,o=s.data,200!==o.status?r.$message.error(o.msg):(r.$message.success(o.msg),r.getData());case 5:case"end":return n.stop()}}),n)})))()}},created:function(){this.init(),this.getData()}},i=o,c=(a("8d1a"),a("2877")),l=Object(c["a"])(i,r,n,!1,null,"09bd50f6",null);e["default"]=l.exports},"841c":function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),s=a("1d80"),u=a("129f"),o=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var s=n(t),i=String(this),c=s.lastIndex;u(c,0)||(s.lastIndex=0);var l=o(s,i);return u(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},"8bd6":function(t,e,a){"use strict";a.d(e,"m",(function(){return n})),a.d(e,"e",(function(){return s})),a.d(e,"i",(function(){return u})),a.d(e,"s",(function(){return o})),a.d(e,"k",(function(){return i})),a.d(e,"d",(function(){return c})),a.d(e,"b",(function(){return l})),a.d(e,"j",(function(){return p})),a.d(e,"h",(function(){return d})),a.d(e,"l",(function(){return f})),a.d(e,"u",(function(){return m})),a.d(e,"t",(function(){return h})),a.d(e,"c",(function(){return v})),a.d(e,"f",(function(){return _})),a.d(e,"n",(function(){return b})),a.d(e,"p",(function(){return g})),a.d(e,"q",(function(){return y})),a.d(e,"r",(function(){return w})),a.d(e,"a",(function(){return k})),a.d(e,"o",(function(){return x})),a.d(e,"g",(function(){return O}));var r=a("a27e");function n(t){return Object(r["a"])({url:"developer/developerlist",params:t})}function s(t){return Object(r["a"])({url:"developer/checkdeveloper",method:"post",data:t})}function u(t){return Object(r["a"])({url:"developer/developerapplist",params:t})}function o(t){return Object(r["a"])({url:"developer/toggleretired",method:"post",data:t})}function i(t){return Object(r["a"])({url:"developer/developerapp",params:t})}function c(t){return Object(r["a"])({url:"developer/checkdeveloperapp",method:"post",data:t})}function l(t){return Object(r["a"])({url:"developer/appaccounts",params:t})}function p(t){return Object(r["a"])({url:"developer/developerapplogs",params:t})}function d(t){return Object(r["a"])({url:"developer/developerapp",method:"delete",params:t})}function f(t){return Object(r["a"])({url:"developer/developerdetail",params:t})}function m(t){return Object(r["a"])({url:"withdraw/withdraw",params:t})}function h(t){return Object(r["a"])({url:"withdraw/withdraw",method:"post",data:t})}function v(t){return Object(r["a"])({url:"developer/app_evaluations",params:t})}function _(t){return Object(r["a"])({url:"developer/check_app_evaluations",method:"post",data:t})}function b(t){return Object(r["a"])({url:"developer/edit_app_evaluation",method:"put",data:t})}function g(t){return Object(r["a"])({url:"developer/hotapplist",params:t})}function y(t){return Object(r["a"])({url:"developer/hot_app",method:"put",data:t})}function w(t){return Object(r["a"])({url:"developer/recommendapplist",params:t})}function k(t){return Object(r["a"])({url:"developer/recommend_app",method:"post",data:t})}function x(t){return Object(r["a"])({url:"developer/recommend_app",method:"put",data:t})}function O(t){return Object(r["a"])({url:"developer/recommend_app",method:"delete",params:t})}},"8d1a":function(t,e,a){"use strict";var r=a("a613"),n=a.n(r);n.a},a613:function(t,e,a){}}]);