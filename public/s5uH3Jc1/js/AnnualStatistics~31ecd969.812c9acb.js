(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AnnualStatistics~31ecd969"],{"48fb":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return l})),a.d(e,"a",(function(){return c}));var r=a("a27e");function n(t){return Object(r["a"])({url:"year_reports",params:t})}function i(){return Object(r["a"])({url:"year_reports_chart"})}function s(t){return Object(r["a"])({url:"new_client",params:t})}function l(t){return Object(r["a"])({url:"product_income",params:t})}function c(t){return Object(r["a"])({url:"forward_client",params:t})}},"4ce9":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h5",{staticClass:"mt-0"},[t._v(t._s(t.$lang.statistics_income_hint)+" ")]),a("div",[a("div",{staticClass:"chart-limit"},[t.loading?a("div",{staticClass:"charts_loading clearfix"},[a("div",{staticClass:"limit"},[a("svg",{staticStyle:{margin:"auto",background:"#fff",display:"block"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[a("circle",{attrs:{cx:"27.5",cy:"51.2574",r:"5",fill:"#fe718d"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.6s"}})]),a("circle",{attrs:{cx:"42.5",cy:"43.951",r:"5",fill:"#f47e60"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.44999999999999996s"}})]),a("circle",{attrs:{cx:"57.5",cy:"42.6193",r:"5",fill:"#f8b26a"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.3s"}})]),a("circle",{attrs:{cx:"72.5",cy:"46.1283",r:"5",fill:"#abbd81"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.15s"}})])]),a("span",[t._v(t._s(t.$lang.load_data))])])]):t._e(),t._m(0)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableData.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" "+t._s(t.$lang.loading)+" ... ")]):t._e(),t.tableData.length||t.tableLoading?t._e():a("span",[t._v(t._s(t.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"date",label:t.$lang.time}}),a("el-table-column",{attrs:{prop:"income",label:t.$lang.income},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",[t._v(" "+t._s(t.all.currency_prefix)+t._s(r.income)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"expenses",label:t.$lang.spend},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",[t._v(" "+t._s(t.all.currency_prefix)+t._s(r.expenses)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"last",label:t.$lang.surplus},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",[t._v(" "+t._s(t.all.currency_prefix)+t._s(r.last)+" ")])]}}])})],1),a("div",{staticClass:"total_box"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$lang.total_receipts)+t._s(t.all.currency_prefix)+t._s(t.all.income?t.all.income:"- "))]),a("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$lang.aggregate_spending)+t._s(t.all.currency_prefix)+t._s(t.all.expenses?t.all.expenses:"- "))]),a("span",[t._v(t._s(t.$lang.surplus)+"："+t._s(t.all.currency_prefix)+t._s(t.all.last?t.all.last:"- "))])]),a("el-pagination",{attrs:{"current-page":t.query.page,"page-sizes":[10,15,20,25,50,100],"page-size":t.query.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.currentChange}})],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myChartR clearfix"},[a("div",{staticClass:"chart",staticStyle:{height:"500px"},attrs:{id:"yearsChart"}})])}],i=(a("99af"),a("b0c0"),a("96cf"),a("1da1")),s=a("48fb"),l={metaInfo:{title:window.zjmf_cw_lang.annual_income_statistics},data:function(){return{tableLoading:!1,total:0,monthList:[this.$lang.january,this.$lang.february,this.$lang.march,this.$lang.april,this.$lang.may,this.$lang.june,this.$lang.july,this.$lang.august,this.$lang.september,this.$lang.october,this.$lang.november,this.$lang.december],loading:!0,text:"",currentPage:1,query:{page:void 0,limit:50},tableData:[],all:{},arrX:[],arrIncome:[],arrExpenses:[],myChart:void 0,yearOptions:[]}},created:function(){this.getYearDataChart()},mounted:function(){var t=this;this.getYearData(),window.addEventListener("resize",this.resize),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.resize)}))},methods:{resize:function(){this.myChart.resize()},handleSizeChange:function(t){this.query.limit=t,this.getYearData()},currentChange:function(t){this.query.page=t,this.getYearData()},getYearDataChart:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,n,i,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])();case 2:if(a=e.sent,r=a.data,200===r.status){e.next=7;break}return t.$message.error(r.msg),e.abrupt("return");case 7:for(t.loading=!1,t.all=r.data.all,n=[],i=0;i<r.data.chart.list.length;i++)l=r.data.chart.list[i],c={type:"bar",barGap:"0%",barWidth:20,label:{show:!0,position:"top",textStyle:{color:"#666",fontSize:10}}},c.name=l.year+t.$lang.year,c.data=l.data,c.prefix=l.prefix,n.push(c);t.chartFunc(1,r.data.chart.years,t.monthList,n);case 12:case"end":return e.stop()}}),e)})))()},chartFunc:function(t,e,a,r){var n=this;this.myChart=this.$echarts.init(document.getElementById("yearsChart"));var i={color:["#3673ff","#ff9065","#ffcb41","#43cb7f"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){for(var e="".concat(t[0].name,"<br>"),a=0;a<t.length;a++){var r=t[a];e+="\n                  ".concat(r.seriesName,"：").concat(n.all.currency_prefix).concat(r.data,"<br>\n                ")}return e}},legend:{x:"100px",y:"30px",data:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:a},yAxis:{type:"value",boundaryGap:[0,.01]},series:r};this.myChart.setOption(i,!0)},getYearData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(s["e"])(t.query);case 3:if(a=e.sent,r=a.data,200===r.status){e.next=9;break}return t.$message.error(r.msg),t.tableLoading=!1,e.abrupt("return");case 9:t.total=r.data.year_count_num,t.tableData=r.data.year_count,t.tableLoading=!1;case 12:case"end":return e.stop()}}),e)})))()}},computed:{},watch:{}},c=l,o=(a("bece"),a("2877")),u=Object(o["a"])(c,r,n,!1,null,"6753f37b",null);e["default"]=u.exports},8418:function(t,e,a){"use strict";var r=a("c04e"),n=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var s=r(e);s in t?n.f(t,s,i(0,a)):t[s]=a}},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("d039"),i=a("e8b5"),s=a("861d"),l=a("7b0b"),c=a("50c4"),o=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),g=p("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",b=f>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=d("concat"),_=function(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)},v=!b||!y;r({target:"Array",proto:!0,forced:v},{concat:function(t){var e,a,r,n,i,s=l(this),d=u(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?s:arguments[e],_(i)){if(n=c(i.length),p+n>h)throw TypeError(m);for(a=0;a<n;a++,p++)a in i&&o(d,p,i[a])}else{if(p>=h)throw TypeError(m);o(d,p++,i)}return d.length=p,d}})},bece:function(t,e,a){"use strict";var r=a("c692"),n=a.n(r);n.a},c692:function(t,e,a){}}]);