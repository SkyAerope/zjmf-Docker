(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dcim~31ecd969"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},2370:function(e,t,a){"use strict";a("a9e3"),a("ac1f"),a("841c"),a("96cf");var r=a("1da1");t["a"]={data:function(){return{tableLoading:!1,tableData:[],total:0,search:{page:1,listpages:Number(localStorage.getItem("limit"))||50,orderby:"id",sort:"desc",search:null},dialog:{show:!1,title:""}}},created:function(){this.getData()},methods:{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading=!0,t.next=3,e.listFunction(e.search);case 3:a=t.sent,r=a.data,e.tableLoading=!1,200!==r.status?e.$message.error(r.msg):(e.tableData=r.data.list,e.total=parseInt(r.data.sum));case 7:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.search.page=1,e.getData();case 2:case"end":return t.stop()}}),t)})))()},changeSort:function(e){"descending"===e.order?(this.search.orderby=e.prop,this.search.sort="asc"):(this.search.orderby=e.prop,this.search.sort="desc"),this.getData()}}}},"40d3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-input",{staticClass:"mr-10",style:{width:"150px"},attrs:{size:"small",placeholder:e.$lang.input_key_words,clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData(t)}},model:{value:e.search.search,callback:function(t){e.$set(e.search,"search",t)},expression:"search.search"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",loading:e.tableLoading},on:{click:e.getData}},[e._v(e._s(e.$lang.search))]),a("el-table",{staticClass:"mt-20 mb-10",attrs:{data:e.tableData},on:{"sort-change":e.changeSort}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableData.length||e.tableLoading?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"date",label:e.$lang.time,align:"center",width:"180",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"detail",label:e.$lang.authorization_information,align:"center","min-width":"220px",formatter:e.detail}}),a("el-table-column",{attrs:{prop:"status",label:e.$lang.state,align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return["0"===r.status?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v(e._s(e.$lang.fail))]):"1"===r.status?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v(e._s(e.$lang.succeed))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"remarks",label:e.$lang.fail_reason,align:"center",width:"120px"}})],1),a("el-pagination",{attrs:{"current-page":e.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.listpages,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"listpages",t)},"update:page-size":function(t){return e.$set(e.search,"listpages",t)}}}),a("el-dialog",{attrs:{title:e.dialog.title,width:"600px",visible:e.dialog.show},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.formRules,size:"medium","label-width":"140px"}},[a("el-form-item",{attrs:{label:e.$lang.auth_code,prop:"license"}},[a("el-input",{style:{width:"85%"},attrs:{placeholder:e.$lang.enter_auth_code,clearable:""},model:{value:e.formData.license,callback:function(t){e.$set(e.formData,"license",t)},expression:"formData.license"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v(e._s(e.$lang.cancel))]),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1)},n=[],l=(a("99af"),a("4160"),a("159b"),a("abe8")),s=a("2370"),i={data:function(){return{pageType:"list",listFunction:l["e"],formData:{license:null},formRules:{license:{required:!0,message:this.$lang.enter_auth_code,trigger:"blur"}}}},mixins:[s["a"]],watch:{},methods:{detail:function(e){if(e.detail){var t=e.detail,a="";return(t.accused_ip||[]).forEach((function(e,r){a+=e+(r!==t.accused_ip.length-1?",":"")})),"允许授权数量:".concat(t.diver_sum||"","(").concat(t.accused_num||"","), 已授权数量:").concat(t.diver_count||"","\n          (").concat(t.hardware||"","+").concat(t.switch||"","+").concat(t.hardware_pdu||"","),被控IP地址:(").concat(a,")")}return"-"}}},o=i,c=a("2877"),u=Object(c["a"])(o,r,n,!1,null,"55c5649d",null);t["default"]=u.exports},"4fa8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",[a("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.openDialog}},[e._v(e._s(e.$lang.decryption_info))]),a("el-input",{staticClass:"ml-10 mr-10",style:{width:"150px"},attrs:{size:"small",placeholder:e.$lang.input_key_words,clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData(t)}},model:{value:e.search.search,callback:function(t){e.$set(e.search,"search",t)},expression:"search.search"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",loading:e.tableLoading},on:{click:e.getData}},[e._v(e._s(e.$lang.search))])],1),a("el-table",{staticClass:"mt-20 mb-10",attrs:{data:e.tableData},on:{"sort-change":e.changeSort}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableData.length||e.tableLoading?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"80",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"create_date",label:e.$lang.time,align:"center",width:"180",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"description",label:e.$lang.describe,align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{prop:"admin",label:e.$lang.operator,align:"center",width:"180"}})],1),a("el-pagination",{attrs:{"current-page":e.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.listpages,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"listpages",t)},"update:page-size":function(t){return e.$set(e.search,"listpages",t)}}}),a("el-dialog",{attrs:{title:e.dialog.title,width:"600px",visible:e.dialog.show},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.formRules,size:"medium","label-width":"140px"}},[a("el-form-item",{attrs:{label:e.$lang.decryption_method,prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},[a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$lang.decryption_web_info))]),a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$lang.decryption_all))])],1)],1),a("el-form-item",{attrs:{label:e.$lang.encrypt_data,prop:"data"}},[a("el-input",{style:{width:"85%"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:12},placeholder:e.$lang.enter_auth_code,clearable:""},model:{value:e.formData.data,callback:function(t){e.$set(e.formData,"data",t)},expression:"formData.data"}})],1),e.formData.show?a("el-form-item",[a("div",[a("div",[e._v(e._s(e.$lang.address)+": "+e._s(e.formData.info.url))]),a("div",[e._v(e._s(e.$lang.user)+": "+e._s(e.formData.info.username))]),a("div",[e._v(e._s(e.$lang.password)+": "+e._s(e.formData.info.password))]),1===e.formData.type?[a("div",[e._v("IP: "+e._s(e.formData.info.ip)+" "+e._s(e.$lang.port)+": "+e._s(e.formData.info.port))]),a("div",[e._v("SSH"+e._s(e.$lang.user)+": "+e._s(e.formData.info.ssh_user))]),a("div",[e._v("SSH"+e._s(e.$lang.password)+": "+e._s(e.formData.info.ssh_pass))]),e._l(e.formData.info.accused,(function(t,r){return a("div",{key:r},[e._v(e._s(e.$lang.computer_room)+": "+e._s(t.name||"")+" IP: "+e._s(t.url||"")+" "+e._s(e.$lang.port)+": "+e._s(t.port||""))])}))]:e._e()],2)]):e._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v(e._s(e.$lang.shut_down))]),a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.handelConfirm}},[e._v(e._s(e.$lang.decrypt))])],1)],1)],1)},n=[],l=(a("96cf"),a("1da1")),s=a("abe8"),i=a("2370"),o={data:function(){return{pageType:"list",listFunction:s["g"],btnLoading:!1,formData:{data:null,type:0,info:null,show:!1},formRules:{data:{required:!0,message:this.$lang.please_input_encrypt_data,trigger:"blur"}}}},mixins:[i["a"]],watch:{},methods:{openDialog:function(){this.$refs.elForm&&this.$refs.elForm.resetFields(),this.dialog.show=!0,this.dialog.title=this.$lang.reset_authorization},handelConfirm:function(){var e=this;this.$refs.elForm.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var r,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return r={data:e.formData.data,type:e.formData.type},e.btnLoading=!0,t.next=5,Object(s["a"])(r);case 5:n=t.sent,l=n.data,e.btnLoading=!1,200===l.status?(e.formData.show=!0,e.formData.info=l.data,e.getData(),e.$message.success(l.msg)):e.$message.error(l.msg);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=o,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"577e968e",null);t["default"]=d.exports},"59d9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-input",{staticClass:"mr-10",style:{width:"150px"},attrs:{size:"small",placeholder:"输入关键字",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData(t)}},model:{value:e.search.search,callback:function(t){e.$set(e.search,"search",t)},expression:"search.search"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",loading:e.tableLoading},on:{click:e.getData}},[e._v("搜索")]),a("el-table",{staticClass:"mt-20 mb-10",attrs:{data:e.tableData},on:{"sort-change":e.changeSort}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" 正在加载 ... ")]):e._e(),e.tableData.length||e.tableLoading?e._e():a("span",[e._v("暂无数据")])]),a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"custom",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:r.id}}}},[a("el-link",{attrs:{type:"primary"}},[e._v(e._s(r.id))])],1)]}}])}),a("el-table-column",{attrs:{prop:"username",label:e.$lang.customer_name2,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:r.uid}}}},[a("el-link",{style:{color:r.group_colour},attrs:{type:"primary"}},[e._v(e._s(r.username))])],1)]}}])}),a("el-table-column",{attrs:{prop:"authorize_type",label:e.$lang.type,align:"center",width:"100",formatter:function(t){return 0===t.authorize_type?e.$lang.specialty_version:e.$lang.phb}}}),a("el-table-column",{attrs:{prop:"version",label:e.$lang.versions,align:"center",width:"100",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"diver_sum",label:e.$lang.authorized_quantity_used,width:"160",align:"center",sortable:"custom",formatter:function(e){return e.diver_sum+"("+e.diver_count+")"}}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",align:"center",width:"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"next_date",label:e.$lang.expire_date,align:"center",width:"120",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"license",label:e.$lang.auth_code,align:"center"}}),a("el-table-column",{attrs:{prop:"status",label:e.$lang.state,align:"center",width:"90",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return["暂停"===r.status?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v(e._s(r.status))]):"正常"===r.status?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v(e._s(r.status))]):a("el-tag",{attrs:{size:"small",type:"info"}},[e._v(e._s(r.status))])]}}])}),"list"===e.pageType?a("el-table-column",{attrs:{label:e.$lang.operate,align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.groupEdit(r)}}},[a("router-link",{attrs:{to:{name:"DcimAuthorizationUpdate",query:{id:r.id}}}},[e._v(e._s(e.$lang.edit))])],1),a("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteRow(r)}}},[e._v(e._s(e.$lang.delete))]),a("el-button",{staticClass:"span-warning",attrs:{size:"small",type:"text",icon:"el-icon-warning"},on:{click:function(t){return e.resetRow(r)}}},[e._v(e._s(e.$lang.reset))])]}}],null,!1,3491607394)}):"disable"===e.pageType?a("el-table-column",{attrs:{label:e.$lang.operate,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{staticClass:"span-warning",attrs:{size:"small",type:"text",icon:"el-icon-warning"},on:{click:function(t){return e.recoverRow(r)}}},[e._v(e._s(e.$lang.recovery))])]}}])}):e._e()],1),a("el-pagination",{attrs:{"current-page":e.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.listpages,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"listpages",t)},"update:page-size":function(t){return e.$set(e.search,"listpages",t)}}}),a("el-dialog",{attrs:{title:e.dialog.title,width:"600px",visible:e.dialog.show},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.formRules,size:"medium","label-width":"140px"}},[a("el-form-item",{attrs:{label:e.$lang.auth_code,prop:"license"}},[a("el-input",{style:{width:"85%"},attrs:{placeholder:e.$lang.enter_auth_code,clearable:""},model:{value:e.formData.license,callback:function(t){e.$set(e.formData,"license",t)},expression:"formData.license"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v(e._s(e.$lang.cancel))]),a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.handelConfirm}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1)},n=[],l=(a("b0c0"),a("96cf"),a("1da1")),s=a("abe8"),i=a("2370"),o={data:function(){return{pageType:"list",listFunction:s["f"],btnLoading:!1,formData:{license:null},formRules:{license:{required:!0,message:this.$lang.enter_auth_code,trigger:"blur"}}}},mixins:[i["a"]],watch:{$route:{handler:function(e){"DcimAuthorization"===e.name?(this.listFunction=s["f"],this.pageType="list"):"DcimAuthorizationDisable"===e.name&&(this.listFunction=s["d"],this.pageType="disable")},immediate:!0}},methods:{deleteRow:function(e){var t=this,a={id:e.id,license:e.license};this.$confirm(this.$lang.del_auth_want_tips,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])(a);case 2:r=e.sent,n=r.data,200===n.status?(t.getData(),t.$message.success(n.msg)):t.$message.error(n.msg);case 5:case"end":return e.stop()}}),e)}))))},recoverRow:function(e){var t=this,a={id:e.id,license:e.license};this.$confirm(this.$lang.del_auth_want_tips1,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["j"])(a);case 2:r=e.sent,n=r.data,200===n.status?(t.getData(),t.$message.success(n.msg)):t.$message.error(n.msg);case 5:case"end":return e.stop()}}),e)}))))},resetRow:function(e){this.$refs.elForm&&this.$refs.elForm.resetFields(),Object.assign(this.formData,e),this.dialog.show=!0,this.dialog.title=this.$lang.reset_authorization},handelConfirm:function(){var e=this;this.$refs.elForm.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return e.btnLoading=!0,t.next=4,Object(s["l"])(e.formData);case 4:r=t.sent,n=r.data,e.btnLoading=!1,200===n.status?(e.getData(),e.dialog.show=!1,e.$message.success(n.msg)):e.$message.error(n.msg);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=o,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"0f7f3f65",null);t["default"]=d.exports},"6aae":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v(e._s(e.$lang.authorization_details))]),a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"auto","label-position":"top"}},[a("el-form-item",{attrs:{label:e.$lang.auth_code,prop:"license"}},[a("span",[e._v(e._s(e.formData.license))])]),a("el-form-item",{attrs:{label:e.$lang.client,prop:"name"}},[a("el-input",{style:{width:"260px"},attrs:{placeholder:e.$lang.please_enter_client,clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:e.$lang.versions,prop:"version"}},[a("el-input",{style:{width:"260px"},attrs:{placeholder:e.$lang.please_enter_versions,clearable:""},model:{value:e.formData.version,callback:function(t){e.$set(e.formData,"version",t)},expression:"formData.version"}})],1),a("el-form-item",{attrs:{label:e.$lang.authorized_ip,prop:"ip"}},[a("el-input",{style:{width:"260px"},attrs:{placeholder:e.$lang.authorized_ip_pla,clearable:""},model:{value:e.formData.ip,callback:function(t){e.$set(e.formData,"ip",t)},expression:"formData.ip"}})],1),a("el-form-item",{attrs:{label:e.$lang.price,prop:"price"}},[a("el-input-number",{attrs:{controls:!1,placeholder:e.$lang.price,step:1,precision:2},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}})],1),a("el-form-item",{attrs:{label:e.$lang.authorized_type,prop:"authorize_type"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.authorize_type,callback:function(t){e.$set(e.formData,"authorize_type",t)},expression:"formData.authorize_type"}},e._l(e.authorize_typeOptions,(function(t,r){return a("el-radio",{key:r,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:e.$lang.bushu_type,prop:"network_type"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.network_type,callback:function(t){e.$set(e.formData,"network_type",t)},expression:"formData.network_type"}},e._l(e.network_typeOptions,(function(t,r){return a("el-radio",{key:r,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:e.$lang.authorized_num,prop:"diver_sum"}},[a("el-input-number",{attrs:{controls:!1,placeholder:e.$lang.authorized_num_pla,step:1,"step-strictly":"",min:1},model:{value:e.formData.diver_sum,callback:function(t){e.$set(e.formData,"diver_sum",t)},expression:"formData.diver_sum"}})],1),a("el-form-item",{attrs:{label:e.$lang.beikong_type,prop:"max_accused"}},[a("el-input-number",{attrs:{controls:!1,placeholder:e.$lang.beikong_type_pla,step:1,"step-strictly":"",min:1},model:{value:e.formData.max_accused,callback:function(t){e.$set(e.formData,"max_accused",t)},expression:"formData.max_accused"}})],1),a("el-form-item",{attrs:{label:e.$lang.ljs_lmc_num,prop:"lmc_num"}},[a("el-input-number",{attrs:{controls:!1,placeholder:e.$lang.ljs_lmc_num,step:1,"step-strictly":"",min:1},model:{value:e.formData.lmc_num,callback:function(t){e.$set(e.formData,"lmc_num",t)},expression:"formData.lmc_num"}})],1),a("el-form-item",{attrs:{label:e.$lang.ljs_lc_num,prop:"lc_num"}},[a("el-input-number",{attrs:{controls:!1,placeholder:e.$lang.ljs_lc_num,step:1,"step-strictly":"",min:1},model:{value:e.formData.lc_num,callback:function(t){e.$set(e.formData,"lc_num",t)},expression:"formData.lc_num"}})],1),a("el-form-item",{attrs:{label:e.$lang.beikong_type,prop:"accused_num"}},[a("span",[e._v(e._s(e.formData.accused_num))])]),a("el-form-item",{attrs:{label:e.$lang.number_of_servers,prop:"hardware"}},[a("span",[e._v(e._s(e.formData.hardware))])]),a("el-form-item",{attrs:{label:e.$lang.jiaohuanji_num,prop:"switch"}},[a("span",[e._v(e._s(e.formData.switch))])]),a("el-form-item",{attrs:{label:e.$lang.pdu_sb_num,prop:"hardware_pdu"}},[a("span",[e._v(e._s(e.formData.hardware_pdu))])]),a("el-form-item",{attrs:{label:e.$lang.create_time,prop:"create_date"}},[a("el-date-picker",{style:{width:"260px"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:e.$lang.create_time_pla,clearable:""},model:{value:e.formData.create_date,callback:function(t){e.$set(e.formData,"create_date",t)},expression:"formData.create_date"}})],1),a("el-form-item",{attrs:{label:e.$lang.expire_date,prop:"next_date"}},[a("el-date-picker",{style:{width:"260px"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:e.$lang.next_date_pla,clearable:""},model:{value:e.formData.next_date,callback:function(t){e.$set(e.formData,"next_date",t)},expression:"formData.next_date"}})],1),a("el-form-item",{attrs:{label:e.$lang.additional_products,prop:"addition"}},[a("el-checkbox-group",{style:{maxWidth:"800px"},model:{value:e.formData.addition,callback:function(t){e.$set(e.formData,"addition",t)},expression:"formData.addition"}},e._l(e.addition,(function(t,r){return a("el-checkbox",{key:r,attrs:{label:r}},[e._v(e._s(t))])})),1)],1),a("el-form-item",{attrs:{label:e.$lang.teshu_products,prop:"addons"}},[a("el-checkbox-group",{style:{maxWidth:"800px"},model:{value:e.formData.addons,callback:function(t){e.$set(e.formData,"addons",t)},expression:"formData.addons"}},e._l(e.addons,(function(t,r){return a("el-checkbox",{key:r,attrs:{label:r}},[e._v(e._s(t))])})),1)],1),a("el-form-item",{attrs:{label:e.$lang.extended_functions,prop:"expansion"}},[a("el-checkbox-group",{style:{maxWidth:"800px"},model:{value:e.formData.expansion,callback:function(t){e.$set(e.formData,"expansion",t)},expression:"formData.expansion"}},e._l(e.expansion,(function(t,r){return a("el-checkbox",{key:r,attrs:{label:r}},[e._v(e._s(t))])})),1)],1),a("el-form-item",{attrs:{label:e.$lang.remark,prop:"remarks"}},[a("el-input",{style:{width:"260px"},attrs:{type:"textarea",placeholder:e.$lang.enter_remarks,autosize:{minRows:4,maxRows:4}},model:{value:e.formData.remarks,callback:function(t){e.$set(e.formData,"remarks",t)},expression:"formData.remarks"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$lang.submit))]),a("el-button",{on:{click:e.resetForm}},[e._v(e._s(e.$lang.reset))]),a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.push("pushHotRes")}}},[e._v(e._s(e.$lang.push_update_hot))]),a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.push("pushHotCommonRes")}}},[e._v(e._s(e.$lang.push_update_normal))])],1)],1),e.tableData1.length>0?[a("h4",[e._v(e._s(e.$lang.authorization_log))]),a("el-table",{staticClass:"mt-20 mb-10",attrs:{data:e.tableData1}},[a("el-table-column",{attrs:{prop:"date",label:e.$lang.time,align:"center",width:"180"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"detail",label:e.$lang.authorization_information,align:"center","min-width":"220px",formatter:e.detail}}),a("el-table-column",{attrs:{prop:"status",label:e.$lang.state,align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return["0"===r.status?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v(e._s(e.$lang.fail))]):"1"===r.status?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v(e._s(e.$lang.succeed))]):e._e()]}}],null,!1,1352989148)}),a("el-table-column",{attrs:{prop:"remarks",label:e.$lang.fail_reason,align:"center",width:"120px"}})],1),a("el-pagination",{attrs:{"current-page":e.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.listpages,layout:"total, sizes, prev, pager, next, jumper",total:e.search.total1},on:{"size-change":e.getData,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"listpages",t)},"update:page-size":function(t){return e.$set(e.search,"listpages",t)}}})]:e._e(),e.tableData2.length>0?[a("h4",[e._v(e._s(e.$lang.operation_log))]),a("el-table",{staticClass:"mt-20 mb-10",attrs:{data:e.tableData2}},[a("el-table-column",{attrs:{prop:"date",label:e.$lang.time,align:"center",width:"180"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"description",label:e.$lang.opertion_detail,align:"center","min-width":"220px"}})],1),a("el-pagination",{attrs:{"current-page":e.search.page2,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.listpages2,layout:"total, sizes, prev, pager, next, jumper",total:e.search.total2},on:{"size-change":e.getData,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.search,"page2",t)},"update:current-page":function(t){return e.$set(e.search,"page2",t)},"update:pageSize":function(t){return e.$set(e.search,"listpages2",t)},"update:page-size":function(t){return e.$set(e.search,"listpages2",t)}}})]:e._e()],2)},n=[],l=(a("99af"),a("4160"),a("a9e3"),a("b64b"),a("ac1f"),a("841c"),a("159b"),a("96cf"),a("1da1")),s=a("abe8"),i={components:{},props:[],data:function(){return{formData:{license:null,name:void 0,version:void 0,price:void 0,field116:"1",network_type:"0",ip:void 0,diver_sum:void 0,max_accused:void 0,lmc_num:void 0,lc_num:void 0,create_date:null,next_date:null,addition:[],addons:[],expansion:[],remarks:void 0},rules:{name:[{required:!0,message:this.$lang.please_enter_client,trigger:"blur"}],version:[{required:!0,message:this.$lang.please_enter_versions,trigger:"blur"}],price:[{required:!0,message:this.$lang.price,trigger:"blur"}],field116:[{required:!0,message:this.$lang.authorization_type_none_tips,trigger:"change"}],network_type:[{required:!0,message:this.$lang.bushu_type_none_tips,trigger:"change"}],ip:[{pattern:/^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){4}$/,message:this.$lang.ip_error_tips,trigger:"blur"}],diver_sum:[],max_accused:[],lmc_num:[],lc_num:[],create_date:[],next_date:[],remarks:[]},authorize_typeOptions:[{label:this.$lang.specialty_version,value:"0"},{label:this.$lang.phb,value:"1"}],network_typeOptions:[{label:this.$lang.wwbs,value:"0"},{label:this.$lang.nwbs,value:"1"}],search:{id:this.$route.query.id,page:1,total1:0,listpages:Number(localStorage.getItem("limit"))||50,page2:1,total2:0,listpages2:Number(localStorage.getItem("limit"))||50},tableData1:[],tableData2:[],addition:[],addons:[],expansion:[]}},computed:{},watch:{},created:function(){this.getData()},methods:{getData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["c"])(e.search);case 2:a=t.sent,r=a.data,r.data&&(e.addition=r.data.addition,e.addons=r.data.addons,e.expansion=r.data.expansion,e.formData=r.data.detail,e.tableData1=r.data.log.list,e.search.total1=parseInt(r.data.log.sum),e.tableData2=r.data.log2.list,e.search.total2=parseInt(r.data.log2.sum),e.formData.addition=Object.keys(e.formData.addition),e.formData.addons=Object.keys(e.formData.addons),e.formData.expansion=Object.keys(e.formData.expansion));case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;this.$refs.elForm.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,Object(s["k"])(e.formData);case 4:r=t.sent,n=r.data,200===n.status?(e.$message.success(n.msg),e.getData()):e.$message.error(n.msg);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(){this.$refs.elForm.resetFields(),this.getData()},push:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var r,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r="pushHotRes"===e?s["i"]:s["h"],a.next=3,r({id:t.search.id});case 3:n=a.sent,l=n.data,200===l.status?t.$message.success(l.msg):t.$message.error(l.msg);case 6:case"end":return a.stop()}}),a)})))()},detail:function(e){if(e.detail){var t=e.detail,a="";return(t.accused_ip||[]).forEach((function(e,r){a+=e+(r!==t.accused_ip.length-1?",":"")})),"允许授权数量:".concat(t.diver_sum||"","(").concat(t.accused_num||"","), 已授权数量:").concat(t.diver_count||"","\n          (").concat(t.hardware||"","+").concat(t.switch||"","+").concat(t.hardware_pdu||"","),被控IP地址:(").concat(a,")")}return"-"}}},o=i,c=(a("70f9"),a("2877")),u=Object(c["a"])(o,r,n,!1,null,null,null);t["default"]=u.exports},"70f9":function(e,t,a){"use strict";var r=a("9bf6"),n=a.n(r);n.a},8418:function(e,t,a){"use strict";var r=a("c04e"),n=a("9bf2"),l=a("5c6c");e.exports=function(e,t,a){var s=r(t);s in e?n.f(e,s,l(0,a)):e[s]=a}},"841c":function(e,t,a){"use strict";var r=a("d784"),n=a("825a"),l=a("1d80"),s=a("129f"),i=a("14c3");r("search",1,(function(e,t,a){return[function(t){var a=l(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,a):new RegExp(t)[e](String(a))},function(e){var r=a(t,e,this);if(r.done)return r.value;var l=n(e),o=String(this),c=l.lastIndex;s(c,0)||(l.lastIndex=0);var u=i(l,o);return s(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]}))},"99af":function(e,t,a){"use strict";var r=a("23e7"),n=a("d039"),l=a("e8b5"),s=a("861d"),i=a("7b0b"),o=a("50c4"),c=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),m=a("2d00"),g=p("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",_=m>=51||!n((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),b=d("concat"),v=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:l(e)},$=!_||!b;r({target:"Array",proto:!0,forced:$},{concat:function(e){var t,a,r,n,l,s=i(this),d=u(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(l=-1===t?s:arguments[t],v(l)){if(n=o(l.length),p+n>f)throw TypeError(h);for(a=0;a<n;a++,p++)a in l&&c(d,p,l[a])}else{if(p>=f)throw TypeError(h);c(d,p++,l)}return d.length=p,d}})},"9bf6":function(e,t,a){},abe8:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"i",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"k",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"l",(function(){return d})),a.d(t,"j",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"g",(function(){return g})),a.d(t,"a",(function(){return f}));var r=a("a27e");function n(e){return Object(r["a"])({url:"dcimauth",params:e})}function l(e){return Object(r["a"])({url:"dcimauth/disabled",params:e})}function s(e){return Object(r["a"])({url:"dcimauth/".concat(e.id),params:e})}function i(e){return Object(r["a"])({url:"dcimauth/hotfix",method:"put",data:e})}function o(e){return Object(r["a"])({url:"dcimauth/update",method:"put",data:e})}function c(e){return Object(r["a"])({url:"dcimauth",method:"put",data:e})}function u(e){return Object(r["a"])({url:"dcimauth/errorLog",params:e})}function d(e){return Object(r["a"])({url:"dcimauth/reset",method:"put",data:e})}function p(e){return Object(r["a"])({url:"dcimauth/recover",method:"put",data:e})}function m(e){return Object(r["a"])({url:"dcimauth",method:"delete",data:e})}function g(e){return Object(r["a"])({url:"dcimauth/debugLog",params:e})}function f(e){return Object(r["a"])({url:"dcimauth/debug",method:"post",data:e})}},b64b:function(e,t,a){var r=a("23e7"),n=a("7b0b"),l=a("df75"),s=a("d039"),i=s((function(){l(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(e){return l(n(e))}})}}]);