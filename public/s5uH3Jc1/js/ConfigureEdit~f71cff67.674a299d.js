(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ConfigureEdit~f71cff67"],{1292:function(e,t,a){e.exports=a.p+"img/sigh.d14ddcca.svg"},"44a1":function(e,t,a){},"45f6":function(e,t,a){},"81e2":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-input",{staticClass:"mr-10",style:{width:"150px"},attrs:{size:"small",placeholder:e.$lang.input_key_words,clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick(t)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",loading:e.btnLoading},on:{click:e.searchClick}},[e._v(e._s(e.$lang.search))]),i("el-table",{staticClass:"mt-20",attrs:{data:e.tableList,border:""}},[i("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableList.length&&e.tableLoading?i("span",[i("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableList.length||e.tableLoading?e._e():i("span",[e._v(e._s(e.$lang.no_data))])]),i("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),i("el-table-column",{attrs:{prop:"name",label:e.$lang.product_name_host_name,width:"190",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"flex-between"},[i("div",[i("div",{staticClass:"flex"},[i("el-popover",{attrs:{placement:"right",width:"280",trigger:"hover"}},[i("div",[e._l(t.row.hostobj.textArr,(function(t,a){return i("div",{key:a,staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{width:"8px",height:"8px",background:"#FF3D00","border-radius":"50%"}}),i("span",{staticClass:"ml-5"},[e._v(e._s(t))])])})),e._l(t.row.hostobj.textArr2,(function(t,a){return i("div",{key:t+a,staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{width:"8px",height:"8px",background:"#FCA426","border-radius":"50%"}}),i("span",{staticClass:"ml-5"},[e._v(e._s(t))])])}))],2),i("div",{attrs:{slot:"reference"},slot:"reference"},["zjmf_api"!=t.row.api_type||e.$valIsNull(t.row.hostobj.textArr)&&e.$valIsNull(t.row.hostobj.textArr2)?e._e():i("i",{staticClass:"el-icon-warning",style:(e.$valIsNull(t.row.hostobj.textArr)||e.$valIsNull(t.row.hostobj.textArr2))&&e.$valIsNull(t.row.hostobj.textArr)?"color:#FCA426":"color:#FF3D00;"})])]),i("router-link",{attrs:{to:{name:"productInnerpage",query:{id:t.row.uid,hid:t.row.id}}}},[i("el-link",[e._v(" "+e._s(t.row.name)+" ")])],1)],1),i("div",{style:"zjmf_api"!=t.row.api_type||e.$valIsNull(t.row.hostobj.textArr)&&e.$valIsNull(t.row.hostobj.textArr2)?"":"padding-left:15px;"},[e._v(e._s(t.row.domain))])]),"manual"==t.row.api_type?i("div",[i("i",{staticClass:"el-icon-edit-outline",on:{click:function(a){return e.edit(t.row)}}})]):e._e()])]}}])}),i("el-table-column",{attrs:{prop:"server_name",label:e.$lang.supplier,width:"120",align:"center"}}),i("el-table-column",{attrs:{prop:"username",label:e.$lang.client,width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[i("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:t.row.uid}}}},[i("el-link",{on:{click:function(a){return e.goToView(t.row.uid)}}},[e._v(e._s(t.row.username))])],1)],1),i("div",[i("span",[e._v(e._s(t.row.companyname))])])]}}])}),i("el-table-column",{attrs:{prop:"dedicatedip",label:"IP",align:"center","min-width":"140"}}),i("el-table-column",{attrs:{prop:"type_zh",label:e.$lang.type,"min-width":"130",align:"center"}}),i("el-table-column",{attrs:{prop:"create_time",label:e.$lang.purchasing_date,align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[e._v(" "+e._s(0===t.row.create_time?"-":e.$moment(1e3*t.row.create_time).format("YYYY-MM-DD HH:mm:ss"))+" ")]),e.$valIsNull(t.row.hostobj)?e._e():i("div",{staticStyle:{color:"#999999"}},[e._v(" "+e._s(0===t.row.hostobj.create_time||"0"==t.row.hostobj.create_time?"":e.$moment(1e3*t.row.hostobj.create_time).format("YYYY-MM-DD HH:mm:ss"))+" ")])]}}])}),i("el-table-column",{attrs:{prop:"nextduedate",label:e.$lang.expire_date,align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[i("el-popover",{attrs:{trigger:"hover",placement:"right"}},[i("el-row",[l.cancel_list?i("el-col",[i("p",{staticStyle:{marginTop:"9px",color:"#ff6262"}},[e._v(e._s(e.$lang.disable_and_remove_product))]),i("p",{staticStyle:{"font-size":"12px",marginTop:"0",marginBottom:"7px"}},[i("span",{staticStyle:{color:"#798494"}},[e._v(e._s(e.$lang.cancel_time)+"：")]),e._v(" "+e._s(l.cancel_list.crtype)+" ")]),i("p",{staticStyle:{"font-size":"12px",marginTop:"0",marginBottom:"7px"}},[i("span",{staticStyle:{color:"#798494"}},[e._v(e._s(e.$lang.cancel_reason)+"：")]),e._v(" "+e._s(l.cancel_list.reason)+" ")])]):e._e(),i("el-col",[i("p",{staticStyle:{"font-size":"12px",marginTop:"0",marginBottom:"0px"}},[i("span",{staticStyle:{color:"#798494"}},[e._v(e._s(e.$lang.due_time)+"：")]),e._v(" "+e._s(0===l.nextduedate?e.$lang.no:e.$moment(1e3*l.nextduedate).format("YYYY-MM-DD HH:mm"))+" ")])])],1),i("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(l.nextduedate?e.$timeDiff(1e3*l.nextduedate):"-")+" "),l.cancel_list?i("img",{staticStyle:{"vertical-align":"middle"},attrs:{slot:"reference",src:a("1292"),alt:"",width:"14px"},slot:"reference"}):e._e()])],1)]}}])}),i("el-table-column",{attrs:{prop:"amount",label:e.$lang.renew_the_price+"/"+e.$lang.period,align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[e._v(" "+e._s(e.prefix)+e._s(t.row.amount)+"/"+e._s(t.row.billingcycle_zh)+" ")])]}}])}),i("el-table-column",{attrs:{prop:"credit",label:e.$lang.profit,align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.prefix)+e._s(t.row.profit)+" ")]}}])}),i("el-table-column",{attrs:{prop:"saler",label:e.$lang.sell,align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"domainstatus_zh",label:e.$lang.state,width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{style:"color:"+t.row.domainstatus_zh.color},[e._v(e._s(t.row.domainstatus_zh.name))])]}}])})],1),i("el-pagination",{attrs:{"current-page":e.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.getlist,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"limit",t)},"update:page-size":function(t){return e.$set(e.search,"limit",t)}}}),i("el-dialog",{attrs:{visible:e.dialogVisiable,title:e.dialogTitle,width:"500px"},on:{"update:visible":function(t){e.dialogVisiable=t},close:e.dialogClose}},[i("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,"label-width":"auto"}},[i("el-form-item",{attrs:{label:e.$lang.supplier_expiration_time}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"small",type:"datetime",placeholder:e.$lang.option_date},model:{value:e.formData.regate,callback:function(t){e.$set(e.formData,"regate",t)},expression:"formData.regate"}})],1),i("el-form-item",{attrs:{label:e.$lang.renew_the_price,prop:"name"}},[i("el-input",{attrs:{size:"small"},model:{value:e.formData.amount,callback:function(t){e.$set(e.formData,"amount",t)},expression:"formData.amount"}})],1),i("el-form-item",{attrs:{label:e.$lang.period,prop:"name"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.formData.billingcycle,callback:function(t){e.$set(e.formData,"billingcycle",t)},expression:"formData.billingcycle"}},e._l(e.billingcycleList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1),i("el-form-item",{attrs:{label:"IP",prop:"name"}},[i("el-input",{attrs:{size:"small"},model:{value:e.formData.dedicatedip,callback:function(t){e.$set(e.formData,"dedicatedip",t)},expression:"formData.dedicatedip"}})],1),i("el-form-item",{attrs:{label:e.$lang.append_ip,prop:"name"}},[i("el-input",{attrs:{size:"small",type:"textarea"},model:{value:e.formData.assignedips,callback:function(t){e.$set(e.formData,"assignedips",t)},expression:"formData.assignedips"}})],1),i("el-form-item",{attrs:{label:e.$lang.opening_time}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"small",type:"datetime",placeholder:e.$lang.option_date},model:{value:e.formData.create_time,callback:function(t){e.$set(e.formData,"create_time",t)},expression:"formData.create_time"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisiable=!1}}},[e._v(e._s(e.$lang.cancel))]),i("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.submit}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1)},l=[],s=(a("a630"),a("c975"),a("d81d"),a("a9e3"),a("d3b7"),a("ac1f"),a("6062"),a("3ca3"),a("841c"),a("1276"),a("ddb0"),a("b85c")),r=(a("96cf"),a("1da1")),n=a("ade3"),o=a("0085"),c={data:function(){var e;return e={now:this.$moment(),searchInput:"",btnLoading:!1,tableList:[],tableLoading:!1,search:{page:1,limit:Number(localStorage.getItem("limit"))||50},id:this.$route.query.id,total:0,dialogVisiable:!1},Object(n["a"])(e,"btnLoading",!1),Object(n["a"])(e,"formData",{regate:null,amount:"",billingcycle:"",dedicatedip:"",assignedips:"",create_time:null}),Object(n["a"])(e,"rules",{}),Object(n["a"])(e,"editId",""),Object(n["a"])(e,"dialogTitle","添加供应商产品信息"),Object(n["a"])(e,"billingcycleList",[{value:"free",label:this.$lang.free_charge},{label:this.$lang.onetime,value:"onetime"},{label:this.$lang.hour,value:"hour"},{label:this.$lang.day,value:"day"},{label:this.$lang.on_trial,value:"ontrial"},{label:this.$lang.month,value:"monthly"},{label:this.$lang.season,value:"quarterly"},{label:this.$lang.half_year,value:"semiannually"},{label:this.$lang.year,value:"annually"},{label:this.$lang.two_years_limit,value:"biennially"},{label:this.$lang.three_years_limit,value:"triennially"},{label:this.$lang.four_years_limit,value:"fourly"},{label:this.$lang.five_years_limit,value:"fively"},{label:this.$lang.six_years_limit,value:"sixly"},{label:this.$lang.seven_years_limit,value:"sevenly"},{label:this.$lang.eight_year_limit,value:"eightly"},{label:this.$lang.nine_year_limit,value:"ninely"},{label:this.$lang.ten_year_limit,value:"tenly"}]),Object(n["a"])(e,"prefix",""),e},mounted:function(){var e=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;e&&(this.searchInput=JSON.parse(e)["searchInput"]),this.getlist()},methods:{countDown:function(e){var t=this.now,a=1e3*e,i=this.$moment.duration(a-t,"ms"),l=i.get("hours");return l},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.btnLoading=!0,a={hid:e.editId,regate:e.$moment(e.formData.regate).unix(),amount:e.formData.amount,billingcycle:e.formData.billingcycle,assignedips:e.formData.assignedips,dedicatedip:e.formData.dedicatedip,create_time:e.$moment(e.formData.create_time).unix()},t.next=4,Object(o["c"])(a);case 4:i=t.sent,e.btnLoading=!1,e.dialogVisiable=!1,200==i.data.status?(e.$message.success(i.data.msg),e.getlist()):e.$message.error(i.data.msg);case 8:case"end":return t.stop()}}),t)})))()},dialogClose:function(){this.editId="",this.formData.regate=null,this.formData.amount="",this.formData.billingcycle="",this.formData.assignedips="",this.formData.dedicatedip="",this.formData.create_time=null,this.dialogTitle=this.$lang.add_supplier_product_information},edit:function(e){this.$valIsNull(e.hostobj)||(this.formData.regate=this.$moment(1e3*Number(e.hostobj.regate)),this.formData.amount=e.hostobj.amount,this.formData.dedicatedip=e.hostobj.dedicatedip,this.formData.assignedips=e.hostobj.assignedips,this.formData.billingcycle=e.hostobj.billingcycle,this.formData.create_time="0"!=e.hostobj.create_time&&""!=e.hostobj.create_time?this.$moment(1e3*Number(e.hostobj.create_time)):null,this.dialogTitle=this.$lang.edit_supplier_product_information),this.editId=e.id,this.dialogVisiable=!0},getTable:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,l,r,n,c,u,d,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={hostid:e},a.next=3,Object(o["d"])(i);case 3:if(l=a.sent,200==l.data.status){r=Object(s["a"])(l.data.data.upper_manual);try{for(r.s();!(n=r.n()).done;){c=n.value,u=Object(s["a"])(t.tableList);try{for(u.s();!(d=u.n()).done;)m=d.value,c.hid==m.id&&(m.hostobj=c)}catch(p){u.e(p)}finally{u.f()}}}catch(p){r.e(p)}finally{r.f()}}else t.$message.error(l.data.msg);case 5:case"end":return a.stop()}}),a)})))()},getTableTwo:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var l,r,n,c,u,d,m,p,h,g,f,b,_;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return l={id:e,hostid:t},i.next=3,Object(o["f"])(a.$qs.stringify(l));case 3:if(r=i.sent,200!=r.data.status){i.next=69;break}n=Object(s["a"])(r.data.data.hosts),i.prev=6,n.s();case 8:if((c=n.n()).done){i.next=59;break}u=c.value,u.currency=r.data.data.currency,null==u.dedicatedip&&(u.dedicatedip=""),d=Object(s["a"])(a.tableList),i.prev=13,d.s();case 15:if((m=d.n()).done){i.next=49;break}if(p=m.value,u.id!=p.dcimid){i.next=47;break}if(p.hostobj=u,h=[],g=[],Number(p.amount)<Number(u.amount)&&h.push("供应商的续费金额高于本地续费金额"),p.dedicatedip!=u.dedicatedip&&p.port!=u.port?h.push("供应商分配的ip及端口与本地不一致"):p.dedicatedip!=u.dedicatedip?h.push("供应商分配的ip与本地不一致"):p.port!=u.port&&h.push("供应商分配的端口与本地不一致"),p.domainstatus!=u.domainstatus&&h.push("供应商产品状态与本地不一致"),p.initiative_renew!=u.initiative_renew&&(0==u.initiative_renew?h.push("供应商余额续费已关闭"):h.push("供应商余额续费已开启")),!p.assignedips){i.next=43;break}f=Object(s["a"])(p.assignedips.split(",")),i.prev=27,f.s();case 29:if((b=f.n()).done){i.next=35;break}return _=b.value,u.assignedips.indexOf(_)<0&&g.push("供应商分配的其他ip与本地不一致"),i.abrupt("break",35);case 33:i.next=29;break;case 35:i.next=40;break;case 37:i.prev=37,i.t0=i["catch"](27),f.e(i.t0);case 40:return i.prev=40,f.f(),i.finish(40);case 43:p.password!=u.password&&g.push("供应商的密码与本地不一致"),u.nextduedate<p.nextduedate&&p.nextduedate-u.nextduedate>30&&g.push("供应商产品到期时间比本地早"),p.hostobj.textArr=h,p.hostobj.textArr2=g;case 47:i.next=15;break;case 49:i.next=54;break;case 51:i.prev=51,i.t1=i["catch"](13),d.e(i.t1);case 54:return i.prev=54,d.f(),i.finish(54);case 57:i.next=8;break;case 59:i.next=64;break;case 61:i.prev=61,i.t2=i["catch"](6),n.e(i.t2);case 64:return i.prev=64,n.f(),i.finish(64);case 67:i.next=70;break;case 69:a.$message.error(r.data.msg);case 70:case"end":return i.stop()}}),i,null,[[6,61,64,67],[13,51,54,57],[27,37,40,43]])})))()},goToView:function(e){this.$router.push({path:"/customer-view/abstract",query:{id:e}})},searchClick:function(){this.search.page=1,this.getlist()},handleSizeChange:function(){this.search.page=1,this.getlist()},getlist:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,l,r,n,c,u,d,m,p,h,g,f,b,_,v,y,$,w,x,D,k,j,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$urlUpdate({searchInput:e.searchInput},location.href,e.$route.query),e.tableLoading=!0,a={page:e.search.page,limit:e.search.limit,order:"",sort:"DESC",keyword:e.searchInput},e.id&&(a.id=e.id),t.next=6,Object(o["h"])(a);case 6:if(i=t.sent,200==i.data.status)if(e.prefix=i.data.data.prefix,e.tableList=i.data.data.hosts.map((function(e){return null==e.dedicatedip&&(e.dedicatedip=""),e.hostobj={},e})),e.total=i.data.data.total,e.tableLoading=!1,e.id){l=[],r=[],n=Object(s["a"])(e.tableList);try{for(n.s();!(c=n.n()).done;)u=c.value,"manual"==u.api_type?l.push(u.id):0!=u.dcimid&&r.push(u.dcimid)}catch(z){n.e(z)}finally{n.f()}0!=l.length&&e.getTable(l),0!=r.length&&e.getTableTwo(e.id,r)}else{d=[],m=[],p=Object(s["a"])(e.tableList);try{for(p.s();!(h=p.n()).done;)g=h.value,"manual"==g.api_type?m.push(g.id):d.push(g.zjmf_api_id)}catch(z){p.e(z)}finally{p.f()}0!=d.length&&(d=Array.from(new Set(d))),f=[],b=Object(s["a"])(d);try{for(b.s();!(_=b.n()).done;){v=_.value,y=[],$=Object(s["a"])(e.tableList);try{for($.s();!(w=$.n()).done;)x=w.value,v==x.zjmf_api_id&&0!=x.dcimid&&y.push(x.dcimid)}catch(z){$.e(z)}finally{$.f()}D={didarr:y,zjmfId:v},f.push(D)}}catch(z){b.e(z)}finally{b.f()}for(k=0,j=f;k<j.length;k++)C=j[k],0!=C.didarr.length&&e.getTableTwo(C.zjmfId,C.didarr);0!=m.length&&e.getTable(m)}else e.tableLoading=!1,e.$message.error(i.data.msg);case 8:case"end":return t.stop()}}),t)})))()}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,l,!1,null,null,null);t["a"]=m.exports},b316:function(e,t,a){"use strict";var i=a("44a1"),l=a.n(i);l.a},e04a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"el-icon-arrow-left cursor-pointer",on:{click:function(t){return e.$router.go(-1)}}}),a("span",{staticClass:"ml-10",staticStyle:{"font-weight":"600"}},[e._v(e._s(e.name))]),a("el-tabs",{staticClass:"mt-10",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$lang.overview,name:"first"}}),a("el-tab-pane",{attrs:{label:e.$lang.commodity_list,name:"second"}}),a("el-tab-pane",{attrs:{label:e.$lang.product_list,name:"third"}}),"manual"==e.$route.query.type?a("el-tab-pane",{attrs:{label:e.$lang.server_list,name:"theServer"}}):e._e(),a("el-tab-pane",{attrs:{label:e.$lang.task_queue,name:"fourth"}}),a("el-tab-pane",{attrs:{label:e.$lang.order_form_list,name:"orderList"}})],1),a("div",["first"==e.activeName?a("overview"):e._e(),"second"==e.activeName?a("commodityList"):e._e(),"third"==e.activeName?a("productList"):e._e(),"fourth"==e.activeName?a("taskQueueList"):e._e(),"theServer"==e.activeName?a("theServer"):e._e(),"orderList"==e.activeName?a("orderList"):e._e()],1)],1)},l=[],s=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-row",{staticClass:"mb-20",attrs:{gutter:15}},[a("el-col",{attrs:{span:6,xs:24,sm:12,md:6}},[a("el-card",{staticClass:"tac mtxs-20"},[a("div",{staticClass:"mb-10"},[e._v(e._s(e.$lang.number_of_api_roducts))]),a("div",{staticClass:"fz-24"},[e._v(e._s(e.client.active_count||0)+"/"+e._s(e.client.host_count||0))])])],1),a("el-col",{attrs:{span:6,xs:24,sm:12,md:6}},[a("el-card",{staticClass:"tac mtsm-20"},[a("div",{staticClass:"mb-10"},[e._v(e._s(e.$lang.have_set_quantity_of_commodity))]),a("div",{staticClass:"fz-24"},[e._v(e._s(e.client.agent_count||0))])])],1),"zjmf_api"==e.overview_query.type?a("el-col",{attrs:{span:6,xs:24,sm:12,md:6}},[a("el-card",{staticClass:"tac mtsm-20"},[a("div",{staticClass:"mb-10"},[e._v(e._s(e.$lang.number_of_api_requests_yesterday))]),a("div",{staticClass:"fz-24"},[e._v(e._s(e.client.api_count)+" "),a("span",{staticClass:"fz-14"},[e._v(e._s(e.$lang.days_from)+" "),a("i",{class:1==e.client.up?"el-icon-caret-top":"el-icon-caret-bottom",staticStyle:{"font-size":"18px",color:"#00a854"}}),e._v(" "+e._s(e.client.ratio))])])])],1):e._e()],1),"zjmf_api"==e.overview_query.type?a("el-row",{staticClass:"mb-20"},[a("el-col",{attrs:{xs:24,sm:6,md:12}},[a("div",[e._v(" "+e._s("zjmf_api"==e.overview_query.type?e.$lang.number_of_api_requests:e.$lang.sales_volume)+" ")])]),a("el-col",{attrs:{xs:24,sm:18,md:12}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-tag",[e._v(e._s(e.$lang.in_seven_days))])],1)])],1):e._e(),"zjmf_api"==e.overview_query.type?a("div",{staticClass:"chart-limit"},[e.loading?a("div",{staticClass:"charts_loading clearfix"},[a("div",{staticClass:"limit"},[a("svg",{staticStyle:{margin:"auto",background:"#fff",display:"block"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[a("circle",{attrs:{cx:"27.5",cy:"51.2574",r:"5",fill:"#fe718d"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.6s"}})]),a("circle",{attrs:{cx:"42.5",cy:"43.951",r:"5",fill:"#f47e60"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.44999999999999996s"}})]),a("circle",{attrs:{cx:"57.5",cy:"42.6193",r:"5",fill:"#f8b26a"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.3s"}})]),a("circle",{attrs:{cx:"72.5",cy:"46.1283",r:"5",fill:"#abbd81"}},[a("animate",{attrs:{attributeName:"cy",calcMode:"spline",keySplines:"0 0.5 0.5 1;0.5 0 1 0.5;0.5 0.5 0.5 0.5",repeatCount:"indefinite",values:"57.5;42.5;57.5;57.5",keyTimes:"0;0.3;0.6;1",dur:"1s",begin:"-0.15s"}})])]),a("span",[e._v(e._s(e.$lang.loading)+"...")])])]):e._e(),a("div",{staticClass:"chart",staticStyle:{height:"400px"},attrs:{id:"myCanvas"}})]):e._e(),"zjmf_api"==e.overview_query.type?a("div",[a("div",[e._v(e._s(e.$lang.list_of_exempted_products))]),a("div",[a("el-table",{staticClass:"mt-20",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"sort-change":e.sortChange}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableData.length||e.tableLoading?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"name",label:e.$lang.product_name,align:"center"}}),a("el-table-column",{attrs:{prop:"ontrial",label:e.$lang.trial_number,sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"qty",label:e.$lang.maximum_purchase_quantity,sortable:"",align:"center"}})],1)],1)]):e._e(),a("el-dialog",{attrs:{title:this.formData.id?e.$lang.edit_exemption:e.$lang.add_exemption,visible:e.DialogVisiable,width:"500px"},on:{"update:visible":function(t){e.DialogVisiable=t},closed:e.resetForm}},[a("el-form",{ref:"addForm",attrs:{model:e.formData,rules:e.rules,"label-width":"110px"}},[a("el-row",{attrs:{gutter:15}},[this.formData.id?[a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:e.$lang.product_group+"：",prop:"description"}},[a("span",[e._v("呵呵哒")])])],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:e.$lang.product_name+"：",prop:"description"}},[a("span",[e._v("呵呵哒")])])],1)]:[a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:e.$lang.product_group+"：",prop:"productGroup"}},[a("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.select_product_group,filterable:"",clearable:""},model:{value:e.formData.productGroup,callback:function(t){e.$set(e.formData,"productGroup",t)},expression:"formData.productGroup"}},e._l(e.producGrouptList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:e.$lang.product_name+"：",prop:"productName"}},[a("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.select_product_name,filterable:"",clearable:""},model:{value:e.formData.productName,callback:function(t){e.$set(e.formData,"productName",t)},expression:"formData.productName"}},e._l(e.producGrouptList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:e.$lang.maximum_purchase_quantity+"：",prop:"num"}},[a("el-input",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.enter_max_pay_number},model:{value:e.formData.num,callback:function(t){e.$set(e.formData,"num",e._n(t))},expression:"formData.num"}})],1)],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:e.$lang.trial_number+"：",prop:"numTwo"}},[a("el-input",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.enter_trial_number},model:{value:e.formData.numTwo,callback:function(t){e.$set(e.formData,"numTwo",e._n(t))},expression:"formData.numTwo"}})],1)],1)],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.DialogVisiable=!1}}},[e._v(e._s(e.$lang.cancel))]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1)}),r=[],n=(a("d81d"),a("96cf"),a("1da1")),o=a("0085"),c={data:function(){return{client:{},tags:[{select:!1,title:this.$lang.this_week},{select:!1,title:this.$lang.this_month},{select:!1,title:this.$lang.annual}],dateValue:[],overview_query:{},loading:!1,tableData:[1],tableLoading:!1,DialogVisiable:!1,formData:{id:"",productGroup:"",productName:"",num:"",numTwo:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e5}},rules:{productGroup:[{required:!0,message:this.$lang.select_product_group,trigger:"change"}],productName:[{required:!0,message:this.$lang.select_product_name,trigger:"change"}],num:[{required:!0,message:this.$lang.enter_max_pay_number,trigger:"blur"},{type:"number",message:this.$lang.must_numeric,trigger:"blur"}],numTwo:[{required:!0,message:this.$lang.enter_trial_number,trigger:"blur"},{type:"number",message:this.$lang.must_numeric,trigger:"blur"}]},producGrouptList:[]}},mounted:function(){this.overview_query=JSON.parse(sessionStorage.getItem("overview_query")),window.addEventListener("resize",this.resize),this.getList()},methods:{getList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading=!0,e.tableLoading=!0,a={id:e.overview_query.id},t.next=5,Object(o["a"])(a);case 5:if(i=t.sent,e.tableLoading=!1,200==i.data.status){t.next=9;break}return t.abrupt("return",e.$message.error(i.data.msg));case 9:e.client=i.data.data.client,e.tableData=i.data.data.free_products,"zjmf_api"==e.overview_query.type&&e.chartFunc(i.data.data.form_api);case 12:case"end":return t.stop()}}),t)})))()},dateChange:function(e){e&&(this.tags=this.tags.map((function(e){return e.select=!1,e}))),this.dateValue||(this.dateValue=[]),this.dateValue.length},getDate:function(e){this.tags=this.tags.map((function(t){return e==t.title?t.select=!t.select:t.select=!1,t})),e==this.$lang.today?(this.dateValue=[this.$moment().startOf("day"),this.$moment(new Date)],this.dateChange(!1)):e==this.$lang.this_week?(this.dateValue=[this.$moment().startOf("week"),this.$moment(new Date)],this.dateChange(!1)):e==this.$lang.this_month?(this.dateValue=[this.$moment().startOf("month"),this.$moment(new Date)],this.dateChange(!1)):e==this.$lang.annual&&(this.dateValue=[this.$moment().startOf("year"),this.$moment(new Date)],this.dateChange(!1))},resize:function(){this.myChart.resize()},chartFunc:function(e){this.myChart=this.$echarts.init(document.getElementById("myCanvas"));var t={tooltip:{show:!0,backgroundColor:"#fff",borderColor:"#eee",showContent:!0,extraCssText:"box-shadow: 0 1px 9px rgba(0, 0, 0, 0.1);",textStyle:{color:"#409eff",textBorderWidth:1},trigger:"axis",axisPointer:{color:"#409eff"}},grid:{left:"2%",right:"2%",bottom:"10%",top:"10%",containLabel:!0},color:["#007bfc","#3fbf70"],xAxis:{splitLine:{show:!1},axisLine:{lineStyle:{color:"#333"}},axisTick:{show:!1},type:"category",boundaryGap:!1,data:[this.$moment(new Date).add(-6,"days").format("YYYY-MM-DD"),this.$moment(new Date).add(-5,"days").format("YYYY-MM-DD"),this.$moment(new Date).add(-4,"days").format("YYYY-MM-DD"),this.$moment(new Date).add(-3,"days").format("YYYY-MM-DD"),this.$moment(new Date).add(-2,"days").format("YYYY-MM-DD"),this.$moment(new Date).add(-1,"days").format("YYYY-MM-DD"),this.$moment(new Date).add(0,"days").format("YYYY-MM-DD")]},yAxis:[{name:"",type:"value",axisTick:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{type:"dashed"}}}],series:[{name:this.$lang.number_of_api_requests,type:"line",smooth:!0,data:e,areaStyle:{opacity:.8,color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0,123,252,0.2)"},{offset:1,color:"rgba(0,123,252,0.2)"}])}}]};this.myChart.setOption(t,!0)},addExemptionProduct:function(){this.DialogVisiable=!0},sortChange:function(){},resetForm:function(){this.formData.id="",this.$refs.addForm.clearValidate()},editHandleClick:function(e){this.formData.id=e,this.DialogVisiable=!0},submitForm:function(){this.$refs.addForm.validate((function(e){}))},deleteHandleClick:function(e){var t=this;this.$confirm(this.$lang.overview_tips,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then((function(){t.$message({type:"success",message:t.$lang.successfully_delete})})).catch((function(){t.$message({type:"info",message:t.$lang.clear_del_tips})}))}},watch:{overview_query:function(){this.$forceUpdate()}}},u=c,d=(a("efb2"),a("2877")),m=Object(d["a"])(u,s,r,!1,null,"7762f26e",null),p=m.exports,h=a("d1c8"),g=a("81e2"),f=a("1789"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("munualResource")],1)},_=[],v=a("7179"),y={components:{munualResource:v["default"]}},$=y,w=Object(d["a"])($,b,_,!1,null,null,null),x=w.exports,D=a("fb63"),k={components:{overview:p,commodityList:h["a"],productList:g["a"],taskQueueList:f["a"],theServer:x,orderList:D["default"]},data:function(){return{activeName:"first",name:this.$route.query.name}},created:function(){if(this.$route.query.id){var e=this.$route.query;sessionStorage.setItem("overview_query",JSON.stringify(e))}},methods:{handleClick:function(){}}},j=k,C=(a("b316"),Object(d["a"])(j,i,l,!1,null,"fee1c8d6",null));t["default"]=C.exports},efb2:function(e,t,a){"use strict";var i=a("45f6"),l=a.n(i);l.a}}]);