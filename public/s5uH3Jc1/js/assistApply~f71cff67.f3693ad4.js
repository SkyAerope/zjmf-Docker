(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["assistApply~f71cff67"],{2634:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"cursor-pointer",on:{click:t.goBack}},[a("i",{staticClass:"el-icon-arrow-left"}),t._v(" 协查申请 ")]),a("el-form",{ref:"dataForm",attrs:{model:t.formData,rules:t.rules,"label-width":t.labelWidth}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:"警官姓名：",prop:"police"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入警官姓名"},model:{value:t.formData.police,callback:function(e){t.$set(t.formData,"police",e)},expression:"formData.police"}})],1)],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:"执法机构：",prop:"agency"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入执法机构"},model:{value:t.formData.agency,callback:function(e){t.$set(t.formData,"agency",e)},expression:"formData.agency"}})],1)],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:"调取IP：",prop:"ip"}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-input",{staticClass:"mr-10",attrs:{size:"small",placeholder:"请输入调取IP"},on:{blur:t.inputBlur},model:{value:t.formData.ip,callback:function(e){t.$set(t.formData,"ip",e)},expression:"formData.ip"}}),t.alertShow?a("div",[t.alert?a("span",[a("i",{staticClass:"el-icon-circle-check yes-icon"})]):a("span",[a("i",{staticClass:"el-icon-circle-close no-icon",staticStyle:{color:"#fff","background-color":"red"}}),a("span",[t._v(t._s(t.alertText?"未在订单中匹配到该IP":"未选择订单"))])])]):t._e()],1)])],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:"邮件地址：",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"phone"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入联系电话"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:"警官证："}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticStyle:{color:"#E64A19","margin-right":"4px"}},[t._v("*")]),a("span",[t._v("警官证：")])]),a("el-upload",{ref:"uploadpoliceCard",staticClass:"upload-demo",attrs:{action:t.attachmentAction,"list-type":"picture","on-success":t.attachmentSuccessUpload,"on-remove":t.onRemove,"with-credentials":"",name:"image",accept:".png,.jpg,.gif,.pdf"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t.$lang.upload_pictures))]),a("span",{staticStyle:{"margin-left":"10px",color:"#999"}},[t._v("支持：jpg、gif、png、pdf")])],1)],1)],1),a("el-col",{attrs:{xs:24}},[a("el-form-item",{attrs:{label:"法律文书："}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticStyle:{color:"#E64A19","margin-right":"4px"}},[t._v("*")]),a("span",[t._v("法律文书：")])]),a("el-upload",{ref:"uploadlaw",staticClass:"upload-demo",attrs:{action:t.attachmentAction,"list-type":"picture","on-success":t.attachmentSuccessUploadTwo,"on-remove":t.onRemoveTwo,"with-credentials":"",name:"image",accept:".png,.jpg,.gif,.pdf"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t.$lang.upload_pictures))]),a("span",{staticStyle:{"margin-left":"10px",color:"#999"}},[t._v("支持：jpg、gif、png、pdf")])],1)],1)],1)],1)],1),a("div",{staticClass:"bottomOperationAdd"},[a("el-button",{attrs:{size:"small",type:"primary",loading:t.btnLoading},on:{click:t.submit}},[t._v("提交")]),a("el-button",{attrs:{size:"small"},on:{click:t.goBack}},[t._v("返回")]),a("el-button",{attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),a("el-dialog",{attrs:{title:"提示",visible:t.DialogVisiable,width:"800px"},on:{"update:visible":function(e){t.DialogVisiable=e},closed:t.closed}},[a("p",[t._v("订单列表中匹配出"+t._s(t.tableList.length)+"个结果，请选择您需要申请调取资料的对象")]),a("el-table",{attrs:{data:t.tableList,border:""}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableList.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" "+t._s(t.$lang.loading)+" ... ")]):t._e(),t.tableList.length||t.tableLoading?t._e():a("span",[t._v(t._s(t.$lang.no_data))])]),a("el-table-column",{attrs:{width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{on:{change:function(a){return t.selectionChange(e.row,e.row.selection)}},model:{value:e.row.selection,callback:function(a){t.$set(e.row,"selection",a)},expression:"scope.row.selection"}})]}}])}),a("el-table-column",{attrs:{prop:"id",label:"订单号",width:"80px"}}),a("el-table-column",{attrs:{prop:"username",label:"客户"}}),a("el-table-column",{attrs:{prop:"assignedips",label:"IP"}}),a("el-table-column",{attrs:{prop:"create_time",label:"订购时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0===e.row.create_time?"-":t.$moment(1e3*e.row.create_time).format("YYYY-MM-DD HH:mm:ss")))])]}}])}),a("el-table-column",{attrs:{label:"订单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:"color:"+e.row.status_zh.color},[t._v(t._s(e.row.status_zh.name))])]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.DialogVisiable=!1}}},[t._v("取消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.DialogVisiable=!1}}},[t._v("确定")])],1)],1)],1)},n=[],o=(a("d81d"),a("96cf"),a("1da1")),l=a("db75"),i={data:function(){return{formData:{police:"",agency:"",ip:"",orderid:"",email:"",phone:"",police_card:"",law:""},labelWidth:window.document.body.clientWidth>768?"120px":null,rules:{police:[{required:!0,message:"请输入警官姓名",trigger:"blur"}],agency:[{required:!0,message:"请输入执法机构",trigger:"blur"}],ip:[{required:!0,message:"请输入调取IP",trigger:"blur"}],email:[{required:!0,message:"请输入邮件地址",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}]},fileData:{type:"contract"},attachmentAction:this.$baseUrl+"/agent/upload",DialogVisiable:!1,tableList:[],tableLoading:!1,alertShow:!1,alert:!0,alertText:!0,btnLoading:!1}},methods:{inputBlur:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formData.orderid="",t.alertText=!0,t.alertShow=!1,""==t.formData.ip){e.next=11;break}return e.next=6,Object(l["c"])({ip:t.formData.ip});case 6:a=e.sent,200!=a.data.status&&t.$message.error(a.data.msg),0==a.data.data.orders.length?(t.alert=!1,t.alertShow=!0):(t.tableList=a.data.data.orders.map((function(t){return t.selection=!1,t})),t.DialogVisiable=!0),e.next=12;break;case 11:t.alertShow=!1;case 12:case"end":return e.stop()}}),e)})))()},closed:function(){this.tableList=[],""==this.formData.orderid&&(this.alert=!1,this.alertShow=!0,this.alertText=!1)},selectionChange:function(t,e){var a=this;this.tableList=this.tableList.map((function(r){return r.id==t.id?(r.selection=e,e?(a.formData.orderid=r.id,a.alert=!0,a.alertShow=!0):a.formData.orderid=""):r.selection=!1,r}))},reset:function(){this.$refs["dataForm"].resetFields(),this.formData={police:"",agency:"",ip:"",orderid:"",email:"",phone:"",police_card:"",law:""}},submit:function(){var t=this;return""==this.formData.police_card?this.$message.error("请上传警官证"):""==this.formData.law?this.$message.error("请上传法律文书"):void(this.alert&&(this.btnLoading=!0,this.$refs.dataForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return e.next=3,Object(l["z"])(t.formData);case 3:r=e.sent,t.btnLoading=!1,200==r.data.status?(t.$message.success(r.data.msg),t.$router.go(-1)):t.$message.error(r.data.msg),e.next=9;break;case 8:t.btnLoading=!1;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))},goBack:function(){this.$router.go(-1)},onRemove:function(){this.formData.police_card=""},onRemoveTwo:function(){this.formData.law=""},attachmentSuccessUpload:function(t,e,a){200==t.status?(this.formData.police_card=t.savename,this.$refs.uploadpoliceCard.uploadFiles.length>1&&this.$refs.uploadpoliceCard.uploadFiles.shift()):(e.status="error",this.$message.error(t.msg))},attachmentSuccessUploadTwo:function(t,e,a){200==t.status?(this.formData.law=t.savename,this.$refs.uploadlaw.uploadFiles.length>1&&this.$refs.uploadlaw.uploadFiles.shift()):(e.status="error",this.$message.error(t.msg))}}},s=i,c=(a("e782"),a("2877")),u=Object(c["a"])(s,r,n,!1,null,"01cc5c59",null);e["default"]=u.exports},"8a4f":function(t,e,a){},db75:function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"f",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"c",(function(){return i})),a.d(e,"z",(function(){return s})),a.d(e,"l",(function(){return c})),a.d(e,"o",(function(){return u})),a.d(e,"b",(function(){return d})),a.d(e,"x",(function(){return p})),a.d(e,"y",(function(){return m})),a.d(e,"h",(function(){return f})),a.d(e,"i",(function(){return g})),a.d(e,"k",(function(){return b})),a.d(e,"w",(function(){return h})),a.d(e,"s",(function(){return v})),a.d(e,"g",(function(){return w})),a.d(e,"t",(function(){return _})),a.d(e,"n",(function(){return D})),a.d(e,"u",(function(){return j})),a.d(e,"v",(function(){return x})),a.d(e,"p",(function(){return y})),a.d(e,"a",(function(){return k})),a.d(e,"q",(function(){return O})),a.d(e,"r",(function(){return $})),a.d(e,"m",(function(){return S})),a.d(e,"j",(function(){return L}));var r=a("a27e");function n(t){return Object(r["a"])({url:"agent/order",params:t})}function o(t){return Object(r["a"])({url:"agent/products",params:t})}function l(t){return Object(r["a"])({url:"agent/inspectionlists",params:t})}function i(t){return Object(r["a"])({url:"agent/inspectionip",params:t})}function s(t){return Object(r["a"])({url:"agent/resourceinspection",method:"post",data:t})}function c(t){return Object(r["a"])({url:"agent/inspectiondetail",params:t})}function u(t){return Object(r["a"])({url:"agent/refund",method:"post",data:t})}function d(t){return Object(r["a"])({url:"agent/aftersale",method:"post",data:t})}function p(t){return Object(r["a"])({url:"agent/unaftersale",method:"post",data:t})}function m(t){return Object(r["a"])({url:"agent/host",params:t})}function f(){return Object(r["a"])({url:"agent/baseinfo",method:"get"})}function g(t){return Object(r["a"])({url:"agent/consumption",method:"get",params:t})}function b(t){return Object(r["a"])({url:"agent/income",method:"get",params:t})}function h(t){return Object(r["a"])({url:"agent/tickets",method:"get",params:t})}function v(){return Object(r["a"])({url:"agent/resourceinfo",method:"get"})}function w(t){return Object(r["a"])({url:"agent/resourceinfo",method:"post",data:t})}function _(t){return Object(r["a"])({url:"agent/resourceticketopen",method:"post",data:t})}function D(){return Object(r["a"])({url:"agent/linktoresource",method:"post"})}function j(t){return Object(r["a"])({url:"agent/runmaplists",method:"get",params:t})}function x(){return Object(r["a"])({url:"agent/ordersearchpage"})}function y(t){return Object(r["a"])({url:"agent/refundDetail?id=".concat(t)})}function k(t){return Object(r["a"])({url:"agent/afterSaleDetail?id=".concat(t)})}function O(t){return Object(r["a"])({url:"agent/renew",params:t})}function $(){return Object(r["a"])({url:"agent/renewsearchpage"})}function S(t){return Object(r["a"])({url:"agent/agentLogs",params:t})}function L(t){return Object(r["a"])({url:"agent/evaluation",method:"POST",data:t})}},e782:function(t,e,a){"use strict";var r=a("8a4f"),n=a.n(r);n.a}}]);