(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cateManagement~f71cff67"],{26476:function(t,e,a){"use strict";a.d(e,"l",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"g",(function(){return u})),a.d(e,"e",(function(){return l})),a.d(e,"m",(function(){return c})),a.d(e,"f",(function(){return d})),a.d(e,"n",(function(){return f})),a.d(e,"k",(function(){return m})),a.d(e,"j",(function(){return p})),a.d(e,"p",(function(){return g})),a.d(e,"h",(function(){return b})),a.d(e,"o",(function(){return k})),a.d(e,"i",(function(){return h}));var n=a("a27e");function r(t){return Object(n["a"])({url:"resource_party/resourcepartylist",params:t})}function o(t){return Object(n["a"])({url:"resource_party/checkresourceparty",method:"post",data:t})}function i(t){return Object(n["a"])({url:"agent/agentlist",params:t})}function s(t){return Object(n["a"])({url:"agent/checkagent",method:"post",data:t})}function u(t){return Object(n["a"])({url:"link_cause/list",method:"get",params:t})}function l(t){return Object(n["a"])({url:"link_cause/create",method:"get",params:t})}function c(t){return Object(n["a"])({url:"link_cause/add",method:"post",data:t})}function d(t){return Object(n["a"])({url:"link_cause/edit",method:"get",params:t})}function f(t){return Object(n["a"])({url:"link_cause/save",method:"post",data:t})}function m(t){return Object(n["a"])({url:"link_knowledge/list",method:"get",params:t})}function p(t){return Object(n["a"])({url:"link_knowledge/edit",method:"get",params:t})}function g(t){return Object(n["a"])({url:"link_knowledge/save",method:"post",data:t})}function b(t){return Object(n["a"])({url:"link_knowledge/create",method:"get",params:t})}function k(t){return Object(n["a"])({url:"link_knowledge/add",method:"post",data:t})}function h(t){return Object(n["a"])({url:"link_knowledge/delete",method:"get",params:t})}e["c"]={getUserListReq:function(t){return n["a"].get("interflow/userMap",{params:t})},getSettingReq:function(t){return n["a"].get("interflow/seting",{params:t})},setSettingReq:function(t){return n["a"].post("interflow/seting",t)},managementListReq:function(t){return n["a"].get("pl_index/automatic/",t)},installManagementReq:function(t){return n["a"].post("pl_install",t)},managementToggleReq:function(t){return n["a"].post("pl_toggle",t)},managementSettingReq:function(t){return n["a"].post("pl_setting_post",t)},managementUninstallReq:function(t){return n["a"].post("pl_uninstall",t)},botListReq:function(t){return n["a"].get("interflow/botAccount",{params:t})},addBotReq:function(t){return n["a"].post("interflow/botAccountPost",t)},delBotReq:function(t){return n["a"].post("interflow/botAccountDelete",t)},botLoginReq:function(t){return n["a"].post("interflow/botAccountLogin",t)},botLoginOutReq:function(t){return n["a"].post("interflow/botAccountLoginOut",t)},getSelectReq:function(t){return n["a"].get("interflow/funcLoadList",{params:t})},getDetailReq:function(t){return n["a"].get("interflow/funcLoadContent",{params:t})},setDetailReq:function(t){return n["a"].post("interflow/funcRegister",t)},getModListReq:function(t){return n["a"].get("interflow/funcRegisterList",{params:t})},getKeyWordsListReq:function(t){return n["a"].get("interflow/keywordList",{params:t})},getKeyWordsDeatailsReq:function(t){return n["a"].get("interflow/keywordInfo",{params:t})},delKeyWordsReq:function(t){return n["a"].post("interflow/keywordDel",t)},setKeyWordsReq:function(t){return n["a"].post("interflow/keywordSave",t)},getInstructionReq:function(t){return n["a"].get("interflow/executeMap",{params:t})},getTemplateParamsReq:function(t){return n["a"].get("interflow/templateParams",{params:t})},changeKeywordsReq:function(t){return n["a"].post("interflow/keywordExecuteSwitch",t)},checkBotStatusReq:function(t){return n["a"].get("interflow/botCheckStatus",{params:t})}}},"7dff":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cate-managment"},[a("h2",[t._v("分类管理")]),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",size:"small",loading:t.createLoading},on:{click:t.createCate}},[t._v("创建分类")])],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"son"}}},[a("el-table-column",{attrs:{prop:"name",label:"分类名称"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("div",{staticStyle:{padding:"5px 0px"}},[a("div",{staticClass:"active-color",on:{click:function(e){return t.editCate(n)}}},[t._v(t._s(n.name))]),a("div",[a("span",[t._v(t._s(n.keywords))]),a("span",{staticClass:"ml-10"},[t._v(t._s(n.type_name))])])])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("div",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.addCate(n)}}},[t._v("添加")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.editCate(n)}}},[t._v("编辑")])],1)]}}])})],1),a("el-dialog",{attrs:{title:t.editFlag?"编辑分类":"创建分类",visible:t.showCreateDialog,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.showCreateDialog=e}}},[a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.formData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入分类名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"分类类型",prop:"link_type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择分类类型"},model:{value:t.formData.link_type,callback:function(e){t.$set(t.formData,"link_type",e)},expression:"formData.link_type"}},t._l(t.cateOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"关键字",prop:"keyword"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入关键字，多个用 ',' 隔开"},model:{value:t.formData.keyword,callback:function(e){t.$set(t.formData,"keyword",e)},expression:"formData.keyword"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.createCateSubmit}},[t._v("确 定")]),a("el-button",{on:{click:t.handleClose}},[t._v("取 消")])],1)],1)],1)},r=[],o=(a("b0c0"),a("26476")),i={data:function(){return{editFlag:!1,createLoading:!1,submitLoading:!1,showCreateDialog:!1,parent_id:void 0,currenId:void 0,cateOptions:[],formData:{name:void 0,link_type:void 0,keyword:void 0},rules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"}],link_type:[{required:!0,message:"请选择分类类型",trigger:"blur"}]},tableData:[]}},created:function(){},mounted:function(){this.getData()},methods:{editCate:function(t){var e=this;this.currenId=t.id,this.editFlag=!0,Object(o["f"])({id:t.id}).then((function(t){200===t.data.status&&(e.cateOptions=t.data.data.link_type,e.formData.name=t.data.data.data.name,e.formData.link_type=t.data.data.data.link_type,e.formData.keyword=t.data.data.data.keywords,e.showCreateDialog=!0)}))},addCate:function(t){var e=this;this.editFlag=!1,this.parent_id=t.id,Object(o["e"])().then((function(t){200===t.data.status&&(e.cateOptions=t.data.data.link_type,e.showCreateDialog=!0)}))},handleClose:function(){this.formData={name:void 0,link_type:void 0,keyword:void 0},this.showCreateDialog=!1},getData:function(){var t=this;Object(o["g"])().then((function(e){200===e.data.status&&(t.tableData=e.data.data)}))},createCateSubmit:function(){var t=this;this.$refs["form"].validate((function(e){if(e)if(t.editFlag){var a=t.formData,n=a.name,r=a.link_type,i=a.keyword,s={id:t.currenId,name:n,link_type:r,keyword:i};t.submitLoading=!0,Object(o["n"])(s).then((function(e){200===e.data.status&&(t.handleClose(),t.$message.success(e.data.msg),t.getData()),t.submitLoading=!1}))}else{var u=t.formData,l=u.name,c=u.link_type,d=u.keyword,f={parent_id:t.parent_id,name:l,link_type:c,keyword:d};t.submitLoading=!0,Object(o["m"])(f).then((function(e){200===e.data.status&&(t.handleClose(),t.$message.success(e.data.msg),t.getData()),t.submitLoading=!1}))}}))},createCate:function(){var t=this;this.editFlag=!1,this.parent_id=void 0,this.createLoading=!0,Object(o["e"])().then((function(e){200===e.data.status&&(t.cateOptions=e.data.data.link_type,t.showCreateDialog=!0),t.createLoading=!1}))}},computed:{},watch:{}},s=i,u=(a("a7f9"),a("2877")),l=Object(u["a"])(s,n,r,!1,null,"1d2e0f8f",null);e["default"]=l.exports},a7f9:function(t,e,a){"use strict";var n=a("dbbd"),r=a.n(n);r.a},dbbd:function(t,e,a){}}]);