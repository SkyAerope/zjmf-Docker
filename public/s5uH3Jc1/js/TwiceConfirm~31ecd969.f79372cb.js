(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TwiceConfirm~31ecd969"],{1319:function(e,t,a){"use strict";var n=a("d821"),o=a.n(n);o.a},2532:function(e,t,a){"use strict";var n=a("23e7"),o=a("5a34"),r=a("1d80"),i=a("ab13");n({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(r(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"2b45":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"theme-template"},[a("h2",[e._v(e._s(e.$lang.secondary_validation))]),a("el-row",{staticClass:"topform_wrap",attrs:{gutter:15}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$lang.foreground_secondary_verification_enabled,name:"1"}},[a("el-form",{ref:"forwardForm",staticClass:"mt-20",attrs:{model:e.forwardForm,"label-position":"top","label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$lang.membership_center_open_secondary_verification,prop:"second_verify_home"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.forwardForm.second_verify_home,callback:function(t){e.$set(e.forwardForm,"second_verify_home",t)},expression:"forwardForm.second_verify_home"}}),a("span",{staticClass:"ml-10"},[e._v(e._s(e.$lang.membershipMsg))])],1),"1"===e.forwardForm.second_verify_home?a("el-form-item",{attrs:{label:e.$lang.verify_way,prop:"second_verify_action_home_type"}},[a("el-checkbox-group",{model:{value:e.forwardForm.second_verify_action_home_type,callback:function(t){e.$set(e.forwardForm,"second_verify_action_home_type",t)},expression:"forwardForm.second_verify_action_home_type"}},e._l(e.pageData.home_type,(function(t,n){return a("el-checkbox",{key:n,attrs:{label:t.name}},[e._v(e._s(t.name_zh)+" ")])})),1)],1):e._e(),"1"===e.forwardForm.second_verify_home?a("el-form-item",{attrs:{label:e.$lang.customer_relat,prop:"second_verify_action_home"}},[a("el-checkbox-group",{model:{value:e.forwardForm.second_verify_action_home,callback:function(t){e.$set(e.forwardForm,"second_verify_action_home",t)},expression:"forwardForm.second_verify_action_home"}},e._l(e.pageData.home_action_user,(function(t,n){return a("el-checkbox",{key:n,attrs:{label:t.name,disabled:"关闭二次验证"==t.name_zh}},[e._v(" "+e._s(t.name_zh))])})),1)],1):e._e(),"1"===e.forwardForm.second_verify_home?a("el-form-item",{attrs:{label:e.$lang.product_service,prop:"second_verify_action_home"}},[a("el-checkbox-group",{model:{value:e.forwardForm.second_verify_action_home,callback:function(t){e.$set(e.forwardForm,"second_verify_action_home",t)},expression:"forwardForm.second_verify_action_home"}},e._l(e.pageData.home_action,(function(t,n){return a("el-checkbox",{key:n,attrs:{label:t.name}},[e._v(" "+e._s(t.name_zh))])})),1)],1):e._e()],1)],1),a("el-tab-pane",{attrs:{label:e.$lang.backstage_secondary_validation_enable,name:"2"}},[a("el-form",{ref:"backForm",staticClass:"mt-20",attrs:{model:e.backForm,"label-position":"top","label-width":"150px"}},[a("el-form-item",{attrs:{label:e.$lang.background_secondary_verification_whether_open,prop:"second_verify_admin"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.backForm.second_verify_admin,callback:function(t){e.$set(e.backForm,"second_verify_admin",t)},expression:"backForm.second_verify_admin"}})],1),"1"===e.backForm.second_verify_admin?a("el-form-item",{attrs:{prop:"second_verify_action_admin"}},[a("el-checkbox-group",{model:{value:e.backForm.second_verify_action_admin,callback:function(t){e.$set(e.backForm,"second_verify_action_admin",t)},expression:"backForm.second_verify_action_admin"}},e._l(e.pageData.admin_action,(function(t,n){return a("el-checkbox",{key:n,attrs:{label:t.name}},[e._v(" "+e._s(t.name_zh))])})),1)],1):e._e()],1)],1)],1)],1),a("div",{staticClass:"bottomOperationAdd"},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.submitForm}},[e._v(e._s(e.$lang.save_the_changes))]),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v(e._s(e.$lang.cancel_changes))])],1),a("second",{attrs:{secondVerifyVis:e.secondVerifyVis,secondAction:e.secondAction},on:{secondClose:function(t){e.secondVerifyVis=!1},secondeVerifySuccess:e.secondeVerifySuccess}})],1)},o=[],r=(a("caad"),a("ac1f"),a("2532"),a("1276"),a("96cf"),a("1da1")),i=a("ce3c"),c=a("7ded"),s=a("bbcf"),d={components:{second:s["a"]},metaInfo:{title:window.zjmf_cw_lang.secondary_validation},data:function(){return{activeName:"1",btnLoading:!1,forwardForm:{second_verify_home:"",second_verify_action_home_type:[],second_verify_action_home:[]},backForm:{second_verify_admin:"",second_verify_action_admin:[]},second_verify_admin:void 0,second_verify_action_admin:void 0,pageData:{admin_action:[],home_action:[],home_type:[],home_action_user:[]},secondVerifyVis:!1,secondAction:"second_verify_set"}},mounted:function(){this.getOptions(),this.getData()},methods:{secondeVerifySuccess:function(e){this.formData.code=e,this.submitApi()},getCommonData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["b"])();case 2:if(a=t.sent,n=a.data,200===n.status){t.next=6;break}return t.abrupt("return",!1);case 6:e.second_verify_admin=parseInt(n.data.second_verify_admin),e.second_verify_action_admin=n.data.second_verify_action_admin;case 8:case"end":return t.stop()}}),t)})))()},handleClick:function(){this.getData()},submitForm:function(){1===this.second_verify_admin&&this.second_verify_action_admin.includes("second_verify_set")?this.secondVerifyVis=!0:this.submitApi()},submitApi:function(){var e=this;switch(this.activeName){case"1":this.btnLoading=!0,Object(i["f"])(this.forwardForm).then((function(t){200!==t.data.status?(e.$message({message:t.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:t.data.msg,type:"success"}),e.btnLoading=!1,e.getOptions(),e.getData())}));break;case"2":this.btnLoading=!0,Object(i["f"])(this.backForm).then((function(t){200!==t.data.status?(e.$message({message:t.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:t.data.msg,type:"success"}),e.btnLoading=!1,e.getOptions(),e.getData())}));break;default:break}},resetForm:function(){this.$refs.forwardForm.resetFields(),this.$refs.backForm.resetFields(),this.getData()},getOptions:function(){var e=this,t=["second_verify_home","second_verify_admin"];Object(i["b"])({param:t}).then((function(t){200!==t.data.status?e.$message({message:t.data.msg,type:"error"}):(e.pageData.home_type=t.data.data.second_verify_home.home_type,e.pageData.home_action=t.data.data.second_verify_home.home_action,e.pageData.home_action_user=t.data.data.second_verify_home.home_action_user,e.pageData.admin_action=t.data.data.second_verify_admin.admin_action)}))},getData:function(){var e=this,t=[];switch(this.activeName){case"1":t=["second_verify_home","second_verify_action_home_type","second_verify_action_home"],Object(i["a"])({param:t}).then((function(t){200!==t.data.status?e.$message({message:t.data.msg,type:"error"}):(e.forwardForm.second_verify_home=t.data.data.second_verify_home,e.forwardForm.second_verify_action_home_type=t.data.data.second_verify_action_home_type?t.data.data.second_verify_action_home_type.split(","):[],e.forwardForm.second_verify_action_home=t.data.data.second_verify_action_home?t.data.data.second_verify_action_home.split(","):[])}));break;case"2":t=["second_verify_admin","second_verify_action_admin"],Object(i["a"])({param:t}).then((function(t){200!==t.data.status?e.$message({message:t.data.msg,type:"error"}):(e.backForm.second_verify_admin=t.data.data.second_verify_admin,e.backForm.second_verify_action_admin=t.data.data.second_verify_action_admin?t.data.data.second_verify_action_admin.split(","):[])}));break;default:break}}}},_=d,m=(a("1319"),a("2877")),f=Object(m["a"])(_,n,o,!1,null,"59d58c23",null);t["default"]=f.exports},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,a){var n=a("b622"),o=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[o]=!1,"/./"[e](t)}catch(n){}}return!1}},bbcf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{visible:e.mySecondVerifyVis,title:e.$lang.secondary_validation,width:"500px"},on:{"update:visible":function(t){e.mySecondVerifyVis=t},close:e.secondDialogClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-form",{ref:"secondVerifyForm",attrs:{model:e.secondVerifyFormData,rules:e.secondVerifyRules,size:"medium","label-width":"130px"}},[a("el-form-item",{attrs:{label:e.$lang.verification_code,prop:"code"}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:e.$lang.enter_verification_code,clearable:""},model:{value:e.secondVerifyFormData.code,callback:function(t){e.$set(e.secondVerifyFormData,"code",t)},expression:"secondVerifyFormData.code"}},[a("el-button",{attrs:{slot:"append",disabled:e.changeBtnValue!==e.$lang.get_code},on:{click:e.sendCode},slot:"append"},[e._v(e._s(e.changeBtnValue))])],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.secondVerifyClose}},[e._v(e._s(e.$lang.cancel))]),a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.secondVerifySubmit}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1)},o=[],r=(a("96cf"),a("1da1")),i=a("7ded"),c={props:{secondVerifyVis:{type:Boolean,default:!1},secondAction:{type:String,default:""}},data:function(){return{mySecondVerifyVis:!1,changeBtnValue:this.$lang.get_code,secondVerifyFormData:{code:void 0},secondVerifyRules:{code:[{required:!0,message:this.$lang.enter_verification_code,trigger:"blur"}]},btnLoading:!1,selectedTypeAccount:""}},methods:{secondDialogClose:function(){this.$emit("secondClose",!1),this.$refs.secondVerifyForm.clearValidate(),this.$refs.secondVerifyForm.resetFields()},countDown:function(){var e=this,t=60;this.changeBtnValue=t+"s"+this.$lang.try_again,this.timer=setInterval((function(){0===t?(clearInterval(e.timer),e.codeBtnDisabled=!1,e.changeBtnValue=e.$lang.get_code):(e.codeBtnDisabled=!0,e.changeBtnValue=t+"s"+e.$lang.try_again,t--)}),1e3)},sendCode:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.countDown(),t.next=3,Object(i["i"])({action:e.secondAction});case 3:a=t.sent,n=a.data,200!==n.status?e.$message.error(n.msg):e.$message.success(n.msg);case 6:case"end":return t.stop()}}),t)})))()},secondVerifyClose:function(){this.$refs.secondVerifyForm.clearValidate(),this.$refs.secondVerifyForm.resetFields(),this.secondVerifyVis=!1},secondVerifySubmit:function(){var e=this;this.$refs.secondVerifyForm.validate(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:e.$emit("secondeVerifySuccess",e.secondVerifyFormData.code);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},watch:{secondVerifyVis:function(e){this.mySecondVerifyVis=e}},mounted:function(){this.mySecondVerifyVis=this.secondVerifyVis}},s=c,d=a("2877"),_=Object(d["a"])(s,n,o,!1,null,"6bb542ed",null);t["a"]=_.exports},caad:function(e,t,a){"use strict";var n=a("23e7"),o=a("4d64").includes,r=a("44d2"),i=a("ae40"),c=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!c},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},ce3c:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"i",(function(){return s})),a.d(t,"g",(function(){return d})),a.d(t,"c",(function(){return _})),a.d(t,"d",(function(){return m})),a.d(t,"h",(function(){return f}));var n=a("a27e");function o(e){return Object(n["a"])({url:"config_general/getConfig",method:"post",data:e})}function r(e){return Object(n["a"])({url:"config_general/getConfigOption",method:"post",data:e})}function i(e){return Object(n["a"])({url:"config_general/newGeneral",method:"post",data:e})}function c(){return Object(n["a"])({url:"contract/setting"})}function s(e){return Object(n["a"])({url:"contract/setting",method:"post",data:e})}function d(e){return Object(n["a"])({url:"config_general/debugmodel",method:"post",data:e})}function _(){return Object(n["a"])({url:"config_general/debugmodel"})}function m(){return Object(n["a"])({url:"config_general/new_login"})}function f(e){return Object(n["a"])({url:"config_general/new_login",method:"post",data:e})}},d821:function(e,t,a){}}]);