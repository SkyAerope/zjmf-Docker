(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddProductGroup~f71cff67"],{"4d80":function(e,t,r){"use strict";var a=r("6145"),o=r.n(a);o.a},6145:function(e,t,r){},9493:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addgroup"},[e.id?r("h2",[e._v(e._s(e.$lang.edit_product_group))]):r("h2",[e._v(e._s(e.$lang.add_product_group))]),r("el-divider"),r("div",{staticClass:"addgroup_form"},[r("el-row",[r("el-col",{staticClass:"from-box",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[r("el-form",{ref:"addGroupFormRef",attrs:{model:e.addGroupForm,"label-width":"120px",rules:e.addGroupFormRules}},[r("el-form-item",{attrs:{label:e.$lang.create_a_type,placeholder:e.$lang.please_choose}},[r("el-radio-group",{attrs:{size:"small"},on:{change:function(t){return e.handleCreateTypeChange("addGroupFormRef")}},model:{value:e.createType,callback:function(t){e.createType=t},expression:"createType"}},[r("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.$lang.commodity_grouping))]),r("el-radio",{attrs:{label:"2"}},[e._v(e._s(e.$lang.primary_group))])],1)],1),"1"===e.createType?r("div",[r("el-form-item",{attrs:{label:e.$lang.primary_group,prop:"gid",placeholder:e.$lang.please_choose}},[r("el-select",{attrs:{size:"small"},model:{value:e.addGroupForm.gid,callback:function(t){e.$set(e.addGroupForm,"gid",t)},expression:"addGroupForm.gid"}},e._l(e.firstGroups,(function(e,t){return r("el-option",{key:"firstgroup"+t,attrs:{value:e.id,label:e.name}})})),1)],1),r("el-form-item",{attrs:{label:e.$lang.commodity_group_name,prop:"name"}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.please_enter_commodity_group_name},model:{value:e.addGroupForm.name,callback:function(t){e.$set(e.addGroupForm,"name",t)},expression:"addGroupForm.name"}})],1),r("el-form-item",{attrs:{label:e.$lang.commodity_group_title}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.commodity_group_title_pla},model:{value:e.addGroupForm.headline,callback:function(t){e.$set(e.addGroupForm,"headline",t)},expression:"addGroupForm.headline"}})],1),r("el-form-item",{attrs:{label:e.$lang.merchandise_group_slogan}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.such_as},model:{value:e.addGroupForm.tagline,callback:function(t){e.$set(e.addGroupForm,"tagline",t)},expression:"addGroupForm.tagline"}})],1),r("el-form-item",{attrs:{label:e.$lang.order_form_template}},[r("el-radio-group",{model:{value:e.defaultPage,callback:function(t){e.defaultPage=t},expression:"defaultPage"}},[r("el-radio",{attrs:{label:0}},[e._v(e._s(e.$lang.system_default))]),r("el-radio",{attrs:{label:1}},[e._v(e._s(e.$lang.custom))])],1)],1),1===e.defaultPage?r("el-form-item",{attrs:{label:"",prop:"order_frm_tpl"}},[r("el-select",{staticClass:"mt-10",attrs:{size:"small"},model:{value:e.addGroupForm.order_frm_tpl,callback:function(t){e.$set(e.addGroupForm,"order_frm_tpl",t)},expression:"addGroupForm.order_frm_tpl"}},e._l(e.cart_themes,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1):e._e()],1):e._e(),"2"===e.createType?r("div",[r("el-form-item",{key:"name",attrs:{label:e.$lang.grouping_name,prop:"name"}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.please_enter_commodity_group_name},model:{value:e.addGroupForm.name,callback:function(t){e.$set(e.addGroupForm,"name",t)},expression:"addGroupForm.name"}})],1)],1):e._e(),r("el-form-item",{attrs:{label:e.$lang.whether_to_hide}},[r("el-radio",{attrs:{label:1},model:{value:e.addGroupForm.hidden,callback:function(t){e.$set(e.addGroupForm,"hidden",t)},expression:"addGroupForm.hidden"}},[e._v(e._s(e.$lang.conceal))]),r("el-radio",{attrs:{label:0},model:{value:e.addGroupForm.hidden,callback:function(t){e.$set(e.addGroupForm,"hidden",t)},expression:"addGroupForm.hidden"}},[e._v(e._s(e.$lang.no_conceal))])],1)],1)],1)],1)],1),r("div",{staticClass:"addgroup_btns"},[r("el-row",[r("el-col",{staticClass:"text-cent",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[r("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.saveSubmit}},[e._v(e._s(e.$lang.save_the_changes))]),r("el-button",{attrs:{size:"small"},on:{click:e.goBack}},[e._v(e._s(e.$lang.get_back))]),r("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v(e._s(e.$lang.cancel_changes))])],1)],1)],1)],1)},o=[],n=(r("b0c0"),r("96cf"),r("1da1")),u=r("f421"),d={metaInfo:{title:window.zjmf_cw_lang.commodity_settings},data:function(){return{prePage:this.$route.query.prePage,id:void 0,activeGatewayOption:[],defaultPage:0,addGroupForm:{name:"",headline:"",tagline:"",order_frm_tpl:0,gateways:[],hidden:0,gid:void 0},cart_themes:[],addGroupFormRules:{name:[{required:!0,message:this.$lang.please_enter_a_group_name,trigger:"blur"}],gateways:[{type:"array",required:!0,message:this.$lang.please_select_at_least_one_available_payment_interface,trigger:"change"}],gid:[{required:!0,message:this.$lang.please_select_the_first_level_group,trigger:"change"}]},btnLoading:!1,createType:this.$route.query.type||"1",firstGroups:[]}},methods:{getId:function(){this.id=this.$route.query.id},getData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n,d,c,i,s,l,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=31;break}if("1"!==e.createType){t.next=21;break}return t.next=4,Object(u["w"])(e.id);case 4:if(r=t.sent,a=r.data,200===a.status){t.next=8;break}return t.abrupt("return",!1);case 8:for(o in e.addGroupForm.name=a.data.productgroup.name,e.addGroupForm.headline=a.data.productgroup.headline,e.addGroupForm.tagline=a.data.productgroup.tagline,e.addGroupForm.order_frm_tpl=a.data.productgroup.order_frm_tpl,e.addGroupForm.gateways=a.data.allgateways,e.addGroupForm.hidden=a.data.productgroup.hidden,e.addGroupForm.gid=a.data.productgroup.gid,e.firstGroups=a.data.firstGroups,e.addGroupForm.order_frm_tpl=a.data.default_page,e.cart_themes=a.data.cart_themes,a.data.activeGatewayArr)n={key:o,value:a.data.activeGatewayArr[o]},e.activeGatewayOption.push(n);t.next=29;break;case 21:return t.next=23,Object(u["o"])({id:e.id});case 23:if(d=t.sent,c=d.data,200===c.status){t.next=27;break}return t.abrupt("return",!1);case 27:e.addGroupForm.name=c.data.productfirstgroup.name,e.addGroupForm.hidden=c.data.productfirstgroup.hidden;case 29:t.next=42;break;case 31:return t.next=33,Object(u["w"])();case 33:if(i=t.sent,s=i.data,200===s.status){t.next=37;break}return t.abrupt("return",!1);case 37:for(l in s.data.activeGatewayArr)p={key:l,value:s.data.activeGatewayArr[l]},e.activeGatewayOption.push(p);e.firstGroups=s.data.firstGroups,e.addGroupForm.gid=s.data.firstGroups.length?s.data.firstGroups[0].id:void 0,e.addGroupForm.order_frm_tpl=s.data.default_page,e.cart_themes=s.data.cart_themes;case 42:case"end":return t.stop()}}),t)})))()},saveSubmit:function(){var e=this;this.$refs.addGroupFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,o,n,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",!1);case 2:if("1"!==e.createType){t.next=15;break}return"custom"===e.prePage?e.addGroupForm.type=1:"dcim"===e.prePage?e.addGroupForm.type=2:e.addGroupForm.type=3,e.id&&(e.addGroupForm.id=e.id),0===e.defaultPage&&(e.addGroupForm.order_frm_tpl="default"),e.btnLoading=!0,t.next=9,Object(u["p"])(e.addGroupForm);case 9:a=t.sent,o=a.data,200!==o.status?e.$message.error(o.msg):(e.$message.success(o.msg),"dcim"===e.prePage?e.$router.push("/dcim-product"):"dcimcloud"===e.prePage?e.$router.push("/zjmfcloud-product"):e.$router.push("/product-server")),e.btnLoading=!1,t.next=23;break;case 15:return e.id&&(e.addGroupForm.id=e.id),e.btnLoading=!0,t.next=19,Object(u["B"])(e.addGroupForm);case 19:n=t.sent,d=n.data,200!==d.status?e.$message.error(d.msg):(e.$message.success(d.msg),"dcim"===e.prePage?e.$router.push("/dcim-product"):"dcimcloud"===e.prePage?e.$router.push("/zjmfcloud-product"):e.$router.push("/product-server")),e.btnLoading=!1;case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cancel:function(){this.$refs.addGroupFormRef.resetFields()},goBack:function(){this.$router.go(-1)},handleCreateTypeChange:function(e){1==this.createType&&this.$refs[e].clearValidate("name")}},created:function(){this.$route.query.id&&this.getId(),this.getData()}},c=d,i=(r("4d80"),r("2877")),s=Object(i["a"])(c,a,o,!1,null,"3a5e122a",null);t["default"]=s.exports},f421:function(e,t,r){"use strict";r.d(t,"x",(function(){return o})),r.d(t,"w",(function(){return n})),r.d(t,"p",(function(){return u})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return c})),r.d(t,"s",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"t",(function(){return l})),r.d(t,"q",(function(){return p})),r.d(t,"h",(function(){return m})),r.d(t,"a",(function(){return f})),r.d(t,"k",(function(){return _})),r.d(t,"u",(function(){return g})),r.d(t,"F",(function(){return h})),r.d(t,"E",(function(){return b})),r.d(t,"z",(function(){return v})),r.d(t,"C",(function(){return G})),r.d(t,"y",(function(){return $})),r.d(t,"v",(function(){return y})),r.d(t,"A",(function(){return F})),r.d(t,"D",(function(){return j})),r.d(t,"o",(function(){return O})),r.d(t,"B",(function(){return k})),r.d(t,"i",(function(){return x})),r.d(t,"e",(function(){return w})),r.d(t,"d",(function(){return P})),r.d(t,"b",(function(){return z})),r.d(t,"j",(function(){return C})),r.d(t,"n",(function(){return T})),r.d(t,"r",(function(){return R})),r.d(t,"f",(function(){return q})),r.d(t,"g",(function(){return A}));var a=r("a27e");function o(e){return Object(a["a"])({url:"product_list_page",params:e})}function n(e){return Object(a["a"])({url:"edit_product_group_page",params:{id:e}})}function u(e){return Object(a["a"])({url:"save_product_group",method:"post",data:e})}function d(e){return Object(a["a"])({url:"del_product_group",params:{id:e}})}function c(e){return Object(a["a"])({url:"del_product",params:{id:e}})}function i(e){return Object(a["a"])({url:"add_product_page",params:e})}function s(e){return Object(a["a"])({url:"create_product",method:"post",data:e})}function l(e){return Object(a["a"])({url:"edit_product_page/".concat(e)})}function p(e){return Object(a["a"])({url:"edit_product",method:"post",data:e})}function m(e){return Object(a["a"])({url:"product_duplicate",method:"post",data:e})}function f(e){return Object(a["a"])({url:"product_downloadcats",method:"post",data:e})}function _(e){return Object(a["a"])({url:"product_del_custom",method:"post",data:e})}function g(e){return Object(a["a"])({url:"provision/".concat(e)})}function h(e){return Object(a["a"])({url:"update_productsort",method:"post",data:e})}function b(e){return Object(a["a"])({url:"update_groupsort",method:"post",data:e})}function v(e){return Object(a["a"])({url:"get_upstream_products",params:e})}function G(e){return Object(a["a"])({url:"product/sync_product_info",method:"post",data:e})}function $(e){return Object(a["a"])({url:"product/get_upstream_price",params:e})}function y(e){return Object(a["a"])({url:"product_selectcates",params:{productid:e}})}function F(e){return Object(a["a"])({url:"product_manage_downloads",method:"post",data:e})}function j(e){return Object(a["a"])({url:"update_firstgroupsort",method:"post",data:e})}function O(e){return Object(a["a"])({url:"edit_product_first_group_page",params:e})}function k(e){return Object(a["a"])({url:"save_product_first_group",method:"post",data:e})}function x(e){return Object(a["a"])({url:"del_product_first_group",params:e})}function w(e){return Object(a["a"])({url:"advanced_options/page",params:e})}function P(e){return Object(a["a"])({url:"advanced_options/create",method:"post",data:e})}function z(e){return Object(a["a"])({url:"advanced_options/addcondition",method:"post",data:e})}function C(e){return Object(a["a"])({url:"advanced_options/deletecondition",method:"delete",params:e})}function T(e){return Object(a["a"])({url:"advanced_options/deleteresult",method:"delete",params:e})}function R(e){return Object(a["a"])({url:"edit_stock",method:"post",data:e})}function q(){return Object(a["a"])({url:"options/config_options_check_os"})}function A(e){return Object(a["a"])({url:"options/config_options_check_os/".concat(e),method:"post"})}}}]);