(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["General~31ecd969"],{"7b4c":function(e,a,t){"use strict";var s=t("8957"),l=t.n(s);l.a},8418:function(e,a,t){"use strict";var s=t("c04e"),l=t("9bf2"),n=t("5c6c");e.exports=function(e,a,t){var o=s(a);o in e?l.f(e,o,n(0,t)):e[o]=t}},8957:function(e,a,t){},ce3c:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return n})),t.d(a,"f",(function(){return o})),t.d(a,"e",(function(){return r})),t.d(a,"i",(function(){return i})),t.d(a,"g",(function(){return m})),t.d(a,"c",(function(){return c})),t.d(a,"d",(function(){return d})),t.d(a,"h",(function(){return _}));var s=t("a27e");function l(e){return Object(s["a"])({url:"config_general/getConfig",method:"post",data:e})}function n(e){return Object(s["a"])({url:"config_general/getConfigOption",method:"post",data:e})}function o(e){return Object(s["a"])({url:"config_general/newGeneral",method:"post",data:e})}function r(){return Object(s["a"])({url:"contract/setting"})}function i(e){return Object(s["a"])({url:"contract/setting",method:"post",data:e})}function m(e){return Object(s["a"])({url:"config_general/debugmodel",method:"post",data:e})}function c(){return Object(s["a"])({url:"config_general/debugmodel"})}function d(){return Object(s["a"])({url:"config_general/new_login"})}function _(e){return Object(s["a"])({url:"config_general/new_login",method:"post",data:e})}},fb6a:function(e,a,t){"use strict";var s=t("23e7"),l=t("861d"),n=t("e8b5"),o=t("23cb"),r=t("50c4"),i=t("fc6a"),m=t("8418"),c=t("b622"),d=t("1dde"),_=t("ae40"),u=d("slice"),g=_("slice",{ACCESSORS:!0,0:0,1:2}),p=c("species"),b=[].slice,f=Math.max;s({target:"Array",proto:!0,forced:!u||!g},{slice:function(e,a){var t,s,c,d=i(this),_=r(d.length),u=o(e,_),g=o(void 0===a?_:a,_);if(n(d)&&(t=d.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)?l(t)&&(t=t[p],null===t&&(t=void 0)):t=void 0,t===Array||void 0===t))return b.call(d,u,g);for(s=new(void 0===t?Array:t)(f(g-u,0)),c=0;u<g;u++,c++)u in d&&m(s,c,d[u]);return s.length=c,s}})},ff7c:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"general"},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:e.$lang.basic_information,name:"1"}},[t("el-form",{ref:"baseInfoForm",attrs:{model:e.baseInfoForm,rules:e.baseInfoFormRules,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:e.$lang.brand_name,prop:"company_name"}},[t("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.please_enter_brand_name,clearable:""},model:{value:e.baseInfoForm.company_name,callback:function(a){e.$set(e.baseInfoForm,"company_name",a)},expression:"baseInfoForm.company_name"}})],1),t("el-form-item",{attrs:{label:e.$lang.system_href,prop:"domain"}},[t("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.please_enter_your_installation_address,clearable:""},model:{value:e.baseInfoForm.domain,callback:function(a){e.$set(e.baseInfoForm,"domain",a)},expression:"baseInfoForm.domain"}})],1),t("el-form-item",{attrs:{label:e.$lang.website_domain_name,prop:"system_url"}},[t("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.please_enter_webhome_page_link,clearable:""},model:{value:e.baseInfoForm.system_url,callback:function(a){e.$set(e.baseInfoForm,"system_url",a)},expression:"baseInfoForm.system_url"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:e.$lang.localization,name:"2"}},[t("el-form",{ref:"localForm",attrs:{model:e.localForm,rules:e.localFormRules,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:e.$lang.default_language,prop:"language"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.default_language)+" "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.default_language_tips_text))])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-select",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.default_language_pla},model:{value:e.localForm.language,callback:function(a){e.$set(e.localForm,"language",a)},expression:"localForm.language"}},e._l(e.languageOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e.display_name,value:e.display_lang}})})),1)],1),t("el-form-item",{attrs:{label:e.$lang.enable_language_menu,prop:"allow_user_language"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":e.$lang.enable_language_menu_active_text},model:{value:e.localForm.allow_user_language,callback:function(a){e.$set(e.localForm,"allow_user_language",a)},expression:"localForm.allow_user_language"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:e.$lang.show_setting,name:"3"}},[t("el-form",{ref:"showForm",attrs:{model:e.showForm,rules:e.showFormRules,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:e.$lang.show_records_per_page,prop:"per_page_limit"}},[t("el-select",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.show_records_per_page_pla},model:{value:e.showForm.per_page_limit,callback:function(a){e.$set(e.showForm,"per_page_limit",a)},expression:"showForm.per_page_limit"}},e._l(e.num_recordsOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e,value:e}})})),1)],1),1==e.license_type?t("el-form-item",{attrs:{label:e.$lang.front_desk_credit,prop:"credit_limit"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.showForm.credit_limit,callback:function(a){e.$set(e.showForm,"credit_limit",a)},expression:"showForm.credit_limit"}})],1):e._e(),t("el-form-item",{attrs:{label:e.$lang.custom_start_customer_id,prop:"allow_custom_clients_id"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.showForm.allow_custom_clients_id,callback:function(a){e.$set(e.showForm,"allow_custom_clients_id",a)},expression:"showForm.allow_custom_clients_id"}})],1),1==e.showForm.allow_custom_clients_id?t("el-form-item",{attrs:{label:e.$lang.custom_id_prefix,prop:"custom_clients_id_start"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.custom_id_prefix_tips_text)+" ")]),t("el-input",{style:{width:"260px"},attrs:{size:"small",maxlength:10,placeholder:e.$lang.ten_interface,clearable:""},model:{value:e.showForm.custom_clients_id_start,callback:function(a){e.$set(e.showForm,"custom_clients_id_start",a)},expression:"showForm.custom_clients_id_start"}})],1):e._e()],1)],1),t("el-tab-pane",{attrs:{label:e.$lang.basic_security,name:"4"}},[t("el-form",{ref:"baseSafeForm",attrs:{model:e.baseSafeForm,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:e.$lang.background_management_path,prop:""}},[t("el-link",{attrs:{href:"https://bbs.idcsmart.com/forum.php?mod=viewthread&tid=120&extra=page%3D1%26filter%3Dtypeid%26typeid%3D7",target:"_blank"}},[e._v(e._s(e.$lang.modify_tutorial))])],1),t("el-form-item",{attrs:{label:e.$lang.administrator_login_time,prop:"cancellation_time"}},[t("el-input-number",{style:{width:"260px"},attrs:{size:"small",min:1,controls:!1},model:{value:e.baseSafeForm.cancellation_time,callback:function(a){e.$set(e.baseSafeForm,"cancellation_time",a)},expression:"baseSafeForm.cancellation_time"}})],1),t("el-form-item",{attrs:{label:e.$lang.front_desk_login_ip_check,prop:"home_ip_check"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.front_desk_login_ip_check)+" "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.front_desk_login_ip_check_tips_text))])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.baseSafeForm.home_ip_check,callback:function(a){e.$set(e.baseSafeForm,"home_ip_check",a)},expression:"baseSafeForm.home_ip_check"}})],1),t("el-form-item",{attrs:{label:e.$lang.last_desk_login_ip_check,prop:"admin_ip_check"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.baseSafeForm.admin_ip_check,callback:function(a){e.$set(e.baseSafeForm,"admin_ip_check",a)},expression:"baseSafeForm.admin_ip_check"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:e.$lang.maintenance_mode,name:"5"}},[t("el-form",{ref:"modeForm",attrs:{model:e.modeForm,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:e.$lang.maintenance_mode,prop:"main_tenance_mode"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.maintenance_mode)+" "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.maintenance_mode_tips_text))])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":e.$lang.maintenance_mode_active_text},model:{value:e.modeForm.main_tenance_mode,callback:function(a){e.$set(e.modeForm,"main_tenance_mode",a)},expression:"modeForm.main_tenance_mode"}})],1),t("el-form-item",{attrs:{label:e.$lang.maintenance_mode_info,prop:"main_tenance_mode_message"}},[t("el-input",{style:{width:"400px"},attrs:{size:"small",type:"textarea",placeholder:e.$lang.maintenance_mode_info_pla,autosize:{minRows:4,maxRows:5}},model:{value:e.modeForm.main_tenance_mode_message,callback:function(a){e.$set(e.modeForm,"main_tenance_mode_message",a)},expression:"modeForm.main_tenance_mode_message"}})],1),t("el-form-item",{attrs:{label:e.$lang.maintenance_mode_href,prop:"main_tenance_mode_url"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.maintenance_mode_href)+" "),t("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[t("el-row",[t("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.maintenance_mode_href_tips_text))])],1),t("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),t("el-input",{style:{width:"400px"},attrs:{size:"small",placeholder:e.$lang.maintenance_mode_href_pla,clearable:""},model:{value:e.modeForm.main_tenance_mode_url,callback:function(a){e.$set(e.modeForm,"main_tenance_mode_url",a)},expression:"modeForm.main_tenance_mode_url"}})],1)],1)],1),t("el-tab-pane",{attrs:{label:e.$lang.debug_debugging,name:"6"}},[t("el-form",{ref:"debugForm",attrs:{model:e.debugForm,"label-width":e.labelWidth,"label-position":"top"}},[t("el-form-item",{attrs:{label:e.$lang.debug_debugging,prop:"shd_debug_model"}},[t("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":e.$lang.debug_active_text},on:{change:e.submitForm},model:{value:e.debugForm.shd_debug_model,callback:function(a){e.$set(e.debugForm,"shd_debug_model",a)},expression:"debugForm.shd_debug_model"}})],1),1==e.debugForm.shd_debug_model?t("el-form-item",[t("div",{staticClass:"self-text-area"},[e._v(" "+e._s(e.debugForm.shd_debug_model_auth)+" ")]),t("el-alert",{staticStyle:{width:"490px",margin:"10px 0px"},attrs:{title:"调试模式将于"+e.countDown+"小时后自动关闭",closable:!1,type:"warning"}}),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.debugForm.shd_debug_model_auth,expression:"debugForm.shd_debug_model_auth"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"primary",size:"small"}},[e._v("复制")])],1):e._e()],1)],1)],1),6!=e.activeName?t("div",{staticClass:"bottomOperationAdd"},[t("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.submitForm}},[e._v(e._s(e.$lang.save_the_changes))]),t("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v(e._s(e.$lang.cancel_changes))])],1):e._e()],1)},l=[],n=(t("a15b"),t("d81d"),t("fb6a"),t("b0c0"),t("ce3c")),o={data:function(){var e=function(e,a,t){var s=/^[0-9]*$/;if(s.test(a))return t();t(new Error("请输入10位以内的整数"))},a=function(e,a,t){var s="网站域名";"domain"==e.field&&(s="系统链接");var l=/(http|https):\/\/([\w.]+\/?)\S*/;if(l.test(a)&&"/"!=a.substr(a.length-1,1))return t();t(new Error("".concat(s,"必须以http://或https://开头，且不能以 / 结尾")))};return{now:this.$moment(),endDate:void 0,debugForm:{shd_debug_model:0,shd_debug_model_auth:"func"},language:"",languageList:[],activeName:"1",languageOptions:[],labelWidth:window.document.body.clientWidth>768?"190px":null,baseInfoForm:{company_name:"",domain:"",system_url:""},localForm:{language:"",allow_user_language:""},showForm:{per_page_limit:"",credit_limit:"",allow_custom_clients_id:"",custom_clients_id_start:""},baseSafeForm:{cancellation_time:"",home_ip_check:"",admin_ip_check:""},modeForm:{main_tenance_mode:"",main_tenance_mode_message:"",main_tenance_mode_url:""},baseInfoFormRules:{company_name:[{required:!0,message:this.$lang.please_enter_brand_name,trigger:"blur"}],domain:[{required:!0,message:this.$lang.please_enter_system_href,trigger:"blur"},{validator:a,trigger:"blur"}],system_url:[{required:!0,message:this.$lang.please_enter_webhome_page_link,trigger:"blur"},{validator:a,trigger:"blur"}]},localFormRules:{language:[{required:!0,message:this.$lang.default_language_pla,trigger:"change"}]},showFormRules:{custom_clients_id_start:[{validator:e,trigger:"blur"}]},num_recordsOptions:[10,15,20,25,50,100],btnLoading:!1,license_type:1}},methods:{PrefixInteger:function(e,a){return(Array(a).join(0)+e).slice(-a)},onCopy:function(){this.$message({message:this.$lang.copy_success,type:"success"})},getDetail:function(){var e=this,a=[];switch(this.activeName){case"1":a=["company_name","domain","system_url"],Object(n["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.baseInfoForm=a.data.data}));break;case"2":a=["language","allow_user_language"],Object(n["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.localForm=a.data.data}));break;case"3":a=["per_page_limit","credit_limit","allow_custom_clients_id","custom_clients_id_start"],Object(n["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.showForm=a.data.data}));break;case"4":a=["cancellation_time","home_ip_check","admin_ip_check"],Object(n["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.baseSafeForm=a.data.data}));break;case"5":a=["main_tenance_mode","main_tenance_mode_message","main_tenance_mode_url"],Object(n["a"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.modeForm=a.data.data}));break;case"6":Object(n["c"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):(e.debugForm=a.data.data,e.endDate=1e3*a.data.data.shd_debug_model_expire_time)}));break;default:break}},handleClick:function(e){this.activeName=e.name,this.getDetail()},getOptions:function(){var e=this,a=["language"];Object(n["b"])({param:a}).then((function(a){200!==a.data.status?e.$message({message:a.data.msg,type:"error"}):e.languageOptions=a.data.data.language.lang_file_config}))},submitForm:function(){var e=this;switch(this.activeName){case"1":this.$refs.baseInfoForm.validate((function(a){a&&(e.btnLoading=!0,Object(n["f"])(e.baseInfoForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)})))}));break;case"2":this.$refs.localForm.validate((function(a){a&&(e.btnLoading=!0,e.languageOptions.map((function(a){a.display_lang==e.localForm.language&&e.$set(e.localForm,"language_system",a.display_flag)})),Object(n["f"])(e.localForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)})))}));break;case"3":this.$refs.showForm.validate((function(a){a&&(e.btnLoading=!0,Object(n["f"])(e.showForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)})))}));break;case"4":this.btnLoading=!0,Object(n["f"])(this.baseSafeForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)}));break;case"5":this.btnLoading=!0,Object(n["f"])(this.modeForm).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)}));break;case"6":this.btnLoading=!0;var a=this.debugForm.shd_debug_model,t={shd_debug_model:a};Object(n["g"])(t).then((function(a){200!==a.data.status?(e.$message({message:a.data.msg,type:"error"}),e.btnLoading=!1):(e.$message({message:a.data.msg,type:"success"}),e.getDetail(),e.btnLoading=!1)}));break;default:break}},resetForm:function(){this.$refs.baseInfoForm.resetFields(),this.$refs.localForm.resetFields(),this.$refs.showForm.resetFields(),this.$refs.baseSafeForm.resetFields(),this.$refs.modeForm.resetFields(),this.getDetail()}},created:function(){this.getOptions(),this.getDetail(),this.license_type=sessionStorage.getItem("zjmf_cw_license_type")},mounted:function(){var e=this;setInterval((function(){e.now=e.$moment()}),1e3)},computed:{countDown:function(){var e=this.now,a=this.endDate,t=this.$moment.duration(a-e,"ms"),s=t.get("hours");t.get("minutes"),t.get("seconds");return this.PrefixInteger(s,2)}}},r=o,i=(t("7b4c"),t("2877")),m=Object(i["a"])(r,s,l,!1,null,"1bfdabd9",null);a["default"]=m.exports}}]);