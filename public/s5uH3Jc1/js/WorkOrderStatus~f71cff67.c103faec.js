(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["WorkOrderStatus~f71cff67"],{"1d4a":function(t,e,a){},5394:function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return n})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return l}));var r=a("a27e");function s(){return Object(r["a"])({url:"list_ticket_status"})}function n(t){return Object(r["a"])({url:"list_ticket_status/"+t})}function o(t){return Object(r["a"])({url:"add_ticket_status",method:"post",data:t})}function i(t){return Object(r["a"])({url:"save_ticket_status",method:"post",data:t})}function l(t){return Object(r["a"])({url:"delete_ticket_status",method:"post",data:t})}},"5a4e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h5",{staticClass:"mt-0"},[t._v(t._s(t.$lang.here_can_customize_status))]),a("el-row",{staticClass:"mt-10"},[a("el-col",{attrs:{md:24}},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:t.addHandleClick}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "+t._s(t.$lang.add)+" ")])],1)],1),a("el-table",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{data:t.workOrderStatusTableData,"default-sort":{prop:"order"},border:""}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.workOrderStatusTableData.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" "+t._s(t.$lang.loading)+" ... ")]):t._e(),t.workOrderStatusTableData.length||t.tableLoading?t._e():a("span",[t._v(t._s(t.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:""}}),a("el-table-column",{attrs:{label:t.$lang.title},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:{color:e.row.color}},[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{prop:"order",label:t.$lang.sort,sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.isEdit?[a("el-input-number",{staticStyle:{width:"50px"},attrs:{size:"mini",controls:!1,precision:0},model:{value:r.order,callback:function(e){t.$set(r,"order",e)},expression:"row.order"}}),a("i",{staticClass:"el-icon-check cursor-pointer ml-10",on:{click:function(e){return t.saveRowEdit(r)}}})]:[a("span",[t._v(t._s(r.order))]),a("i",{staticClass:"el-icon-edit-outline ml-10 cursor-pointer",on:{click:function(t){r.isEdit=!0}}})]]}}])}),a("el-table-column",{attrs:{label:t.$lang.operate,width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(a){return t.editHandleClick(e.row.id)}}},[t._v(t._s(t.$lang.edit))]),[1,2,3,4,5].includes(e.row.id)?t._e():a("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.deleteHandleClick(e.row.id)}}},[t._v(t._s(t.$lang.delete))])]}}])})],1),a("el-dialog",{attrs:{title:""===t.statusId?t.$lang.add_process_sheet_state:t.$lang.modify_workorder_status,visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},closed:t.dialogClosed}},[a("el-form",{ref:"elForm",attrs:{model:t.formData,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:t.$lang.state_title,prop:"title"}},[a("el-input",{style:{width:"80%"},attrs:{size:"small",placeholder:t.$lang.enter_file_title,clearable:"",disabled:""!==t.statusId},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:t.$lang.state_the_color,prop:"color"}},[a("el-color-picker",{model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1),a("el-form-item",{attrs:{label:t.$lang.product_sort,prop:"order"}},[a("el-input-number",{style:{width:"30%"},attrs:{size:"small",controls:!1,min:1,max:1e4,label:""},model:{value:t.formData.order,callback:function(e){t.$set(t.formData,"order",e)},expression:"formData.order"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$lang.cancel))]),a("el-button",{attrs:{size:"small",type:"primary",loading:t.btnLoading},on:{click:t.submitForm}},[t._v(t._s(t.$lang.confirm))])],1)],1)],1)},s=[],n=(a("96cf"),a("1da1")),o=a("5394"),i={metaInfo:{title:window.zjmf_cw_lang.work_order_status},data:function(){return{statusId:"",tableLoading:!1,workOrderStatusTableData:[],dialogFormVisible:!1,formData:{title:"",color:"#000000",show_active:!1,show_await:!1,auto_close:!1,order:0},rules:{title:[{required:!0,message:this.$lang.enter_file_title,trigger:"blur"}],show_active:[],show_await:[],auto_close:[],order:[]},btnLoading:!1}},methods:{saveRowEdit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["c"])(t);case 2:if(r=a.sent,s=r.data,200===s.status){a.next=7;break}return e.$message.error(s.msg),a.abrupt("return");case 7:e.$message.success(s.msg),t.isEdit=!1,e.getData();case 10:case"end":return a.stop()}}),a)})))()},addHandleClick:function(){this.dialogFormVisible=!0,this.statusId=""},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(o["e"])();case 3:if(a=e.sent,r=a.data,200===r.status){e.next=9;break}return t.$message.error(r.msg),t.tableLoading=!1,e.abrupt("return");case 9:for(t.tableLoading=!1,s=0;s<r.data.length;s++)n=r.data[s],n.isEdit=!1;t.workOrderStatusTableData=r.data;case 12:case"end":return e.stop()}}),e)})))()},getFormInfoById:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])(t.statusId);case 2:a=e.sent,r=a.data,200===r.status?(r.data.show_active=Boolean(r.data.show_active),r.data.show_await=Boolean(r.data.show_await),r.data.auto_close=Boolean(r.data.auto_close),t.formData=r.data):t.$message({message:r.msg,type:"error"});case 5:case"end":return e.stop()}}),e)})))()},editHandleClick:function(t){this.statusId=t,this.getFormInfoById(),this.dialogFormVisible=!0},submitForm:function(){var t=this;this.$refs.elForm.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var r,s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=3;break}e.next=20;break;case 3:if(""!==t.statusId){e.next=13;break}return t.btnLoading=!0,e.next=7,Object(o["a"])(t.formData);case 7:r=e.sent,s=r.data,200===s.status?(t.$message({message:s.msg,type:"success"}),t.getData(),t.dialogFormVisible=!1):t.$message({message:s.msg,type:"error"}),t.btnLoading=!1,e.next=20;break;case 13:return t.btnLoading=!0,e.next=16,Object(o["c"])(t.formData);case 16:n=e.sent,i=n.data,200===i.status?(t.$message({message:i.msg,type:"success"}),t.getData(),t.dialogFormVisible=!1):t.$message({message:i.msg,type:"error"}),t.btnLoading=!1;case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteHandleClick:function(t){var e=this;this.$confirm(this.$lang.will_delete_file,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["b"])({id:t});case 2:r=a.sent,s=r.data,200!==s.status?e.$message.error(s.msg):(e.$message.success(s.msg),e.getData());case 5:case"end":return a.stop()}}),a)})))).catch((function(){}))},dialogClosed:function(){this.$refs.elForm.resetFields()}},created:function(){this.getData()}},l=i,c=(a("b12a"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,"58a4da42",null);e["default"]=u.exports},b12a:function(t,e,a){"use strict";var r=a("1d4a"),s=a.n(r);s.a}}]);