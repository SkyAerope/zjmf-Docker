(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CustomerCancelReq~31ecd969"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"551f2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("h3",{staticClass:"mt-0 mb-10"},[t._v(t._s(t.$lang.product_suspension_request))]),a("h5",{staticClass:"mt-0 mb-10"},[t._v(t._s(t.$lang.select_cancel_order)),a("el-link",{on:{click:t.openDoc}},[t._v(t._s(t.$lang.help_document))])],1),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"primary",size:"small",loading:t.loading},on:{click:t.cancelReason}},[t._v(t._s(t.$lang.cancel_cause_management))]),a("el-dialog",t._g(t._b({attrs:{visible:t.diaVisible,title:t.$lang.cancel_cause_management,width:"500px"},on:{"update:visible":function(e){t.diaVisible=e},open:t.onOpen,close:t.onClose}},"el-dialog",t.$attrs,!1),t.$listeners),[a("div",{staticClass:"limit_reason"},t._l(t.cancelReasonOptions,(function(e,n){return a("el-row",{key:n,style:{marginBottom:"10px"},attrs:{gutter:15}},[a("el-col",{attrs:{span:21}},[a("el-input",{style:{width:"100%"},attrs:{size:"small",placeholder:t.$lang.enter_reason},model:{value:e.reason,callback:function(n){t.$set(e,"reason",n)},expression:"item.reason"}})],1),1!==e.id&&2!==e.id?a("el-col",{staticClass:"removeIcon",attrs:{span:1}},[a("i",{staticClass:"el-icon-remove",on:{click:function(a){return t.removeReason(e,n)}}})]):t._e(),n===t.cancelReasonOptions.length-1?a("el-col",{staticClass:"addIcon",attrs:{span:1}},[a("i",{staticClass:"el-icon-circle-plus",on:{click:t.addReason}})]):t._e()],1)})),1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v(t._s(t.$lang.cancel))]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handelConfirm}},[t._v(t._s(t.$lang.confirm))])],1)])],1),a("el-table",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"sort-change":t.sortChange}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableData.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" "+t._s(t.$lang.load_data)+" ")]):t._e(),t.tableData.length||t.tableLoading?t._e():a("span",[t._v(t._s(t.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"username",label:t.$lang.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("div",{staticClass:"first-row"},[a("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:n.uid}}}},[a("el-link",{style:{color:n.group_colour},attrs:{type:"primary"},on:{click:function(e){return t.goToView(n.uid)}}},[t._v(" "+t._s(n.username)+" ")])],1),n.company_status===t.$lang.certified?a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.$lang.enterprise_certified,placement:"right"}},[a("i",{staticClass:"iconfont icon-qiyerenzheng color-suc indent2"})]):n.company_status===t.$lang.unverified&&n.person_status===t.$lang.certified?a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.$lang.person_certified,placement:"right"}},[a("i",{staticClass:"iconfont icon-gerenrenzheng1 color-suc indent2"})]):t._e()],1),a("div",{staticClass:"second-row"},[t._v(" "+t._s(n.companyname||"")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"domain",label:t.$lang.product,width:"240",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.row.hosts.length,expression:"!scope.row.hosts.length"}]}),e.row.hosts.length&&"upgrade"===e.row.hosts[0].invoice_type?a("el-tooltip",{attrs:{effect:"light",content:t.$lang.demotioneing_run_product,placement:"top"}},[a("img",{staticStyle:{float:"left",margin:"3px 5px 0 0"},attrs:{src:n("ce50"),alt:"",width:"13"}})]):t._e(),a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.row.hosts.length,expression:"scope.row.hosts.length"}],attrs:{trigger:"hover",placement:"bottom",width:"600"}},[a("table",{staticStyle:{"border-spacing":"0"},attrs:{cellpadding:"10"}},[a("thead",[a("tr",[a("th",{staticClass:"popover_table_th1"},[t._v(t._s(t.$lang.product))]),a("th",{staticClass:"popover_table_th2"},[t._v(t._s(t.$lang.sum))]),a("th",{staticClass:"popover_table_th3",staticStyle:{width:"60px"}},[t._v(t._s(t.$lang.period))]),a("th",{staticClass:"popover_table_th4",staticStyle:{width:"200px"}},[t._v("IP")])])]),a("tbody",t._l(e.row.hosts,(function(n,r){return a("tr",{key:r,staticClass:"popover_table_tr"},[a("td",{staticClass:"popover_table_th1"},[e.row.hosts.length&&0!==e.row.hosts[0].hostid?a("router-link",{attrs:{to:{name:"productInnerpage",query:{id:n.uid,hid:n.hostid,fa:"product-list"}}}},[a("el-link",[t._v(t._s(n.name+(n.domain?"("+n.domain+")":"")))])],1):a("span",[t._v(t._s(n.name+(n.domain?"("+n.domain+")":"")))])],1),a("td",{staticClass:"popover_table_th2"},[a("el-row",[a("el-col",[t._v(t._s(n.firstpaymentamount))]),1===n.initiative_renew?a("el-col",[a("span",{staticStyle:{"font-size":"12px",color:"#798494"}},[t._v(t._s(t.$lang.automatic_renewal))])]):t._e()],1)],1),a("td",{staticClass:"popover_table_th3",staticStyle:{width:"60px"}},[t._v(t._s(n.billingcycle))]),a("td",{staticClass:"popover_table_th4",staticStyle:{width:"200px"}},[t._v(t._s(n.dedicatedip))])])})),0)]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e.row.hosts.length&&0!==e.row.hosts[0].hostid?a("router-link",{attrs:{to:{name:"productInnerpage",query:{id:e.row.hosts[0].uid,hid:e.row.hosts.length?e.row.hosts[0].hostid:"",fa:"productList"}}}},[a("el-link",[t._v(" "+t._s(e.row.hosts.length?e.row.hosts[0].name:"")+" ")]),a("div",{staticClass:"second-row"},[t._v(t._s(e.row.hosts[0]?e.row.hosts[0].domain:""))])],1):a("span",[a("div",[t._v(t._s(e.row.hosts.length?e.row.hosts[0].name:""))]),a("div",{staticClass:"second-row"},[t._v(t._s(e.row.hosts[0]?e.row.hosts[0].domain:""))])])],1)])]}}])}),a("el-table-column",{attrs:{prop:"dedicatedip",label:"IP",width:"120"}}),a("el-table-column",{attrs:{prop:"type",label:t.$lang.type_immediate_due,width:"165",align:"center"}}),a("el-table-column",{attrs:{prop:"reason",label:t.$lang.reason,width:"200"}}),a("el-table-column",{attrs:{prop:"create_time",label:t.$lang.req_time,sortable:"",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.create_time?t.$moment(1e3*n.create_time).format("YYYY-MM-DD HH:mm"):"-"))])]}}])}),a("el-table-column",{attrs:{prop:"nextduedate",label:t.$lang.delete_time,sortable:"",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.nextduedate?t.$moment(1e3*n.nextduedate).format("YYYY-MM-DD HH:mm"):"-"))])]}}])}),a("el-table-column",{attrs:{prop:"domainstatus",label:t.$lang.product_status,sortable:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",{style:{color:n.domainstatus.color}},[t._v(t._s(n.domainstatus.name))])]}}])}),a("el-table-column",{attrs:{prop:"cancel_status",label:t.$lang.execution_status,align:"center"}}),a("el-table-column",{attrs:{prop:"",label:t.$lang.operation,width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return["被删除"!==n.domainstatus.name?a("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(e){return t.deleteHanleClick(n)}}},[t._v(t._s(t.$lang.delete))]):t._e()]}}])})],1),a("el-pagination",{attrs:{"current-page":t.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":t.search.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.getData,"update:currentPage":function(e){return t.$set(t.search,"page",e)},"update:current-page":function(e){return t.$set(t.search,"page",e)},"update:pageSize":function(e){return t.$set(t.search,"limit",e)},"update:page-size":function(e){return t.$set(t.search,"limit",e)}}})],1)},r=[],s=(n("a434"),n("a9e3"),n("ac1f"),n("841c"),n("96cf"),n("1da1")),o=n("c2b8"),i=n("f6b0"),c={metaInfo:{title:window.zjmf_cw_lang.product_suspension_request},data:function(){return{tableLoading:!1,loading:!1,delArr:[],cancelReasonOptions:[],diaVisible:!1,search:{page:1,limit:Number(localStorage.getItem("limit"))||50,order:"id",sort:"desc"},tableData:[],total:0}},methods:{goToView:function(t){this.$router.push({path:"/customer-view/abstract",query:{id:t}})},openDoc:function(){open("https://www.idcsmart.com/wiki_list/654.html")},removeReason:function(t,e){0!==e&&1!==e?(this.delArr.push(t.id),this.cancelReasonOptions.splice(e,1)):this.$message.error(this.$lang.reason_modified_nodelete)},addReason:function(){var t={id:"",reason:""};this.cancelReasonOptions.push(t)},onOpen:function(){this.delArr=[]},onClose:function(){this.$emit("update:visible",!1),this.diaVisible=!1,this.delArr=[]},close:function(){this.diaVisible=!1,this.delArr=[]},handelConfirm:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.lodash.pullAllWith(t.cancelReasonOptions,[{id:"",reason:""}],t.lodash.isEqual),n.length){e.next=4;break}return t.$message.error(t.$lang.enter_reason_submit),e.abrupt("return");case 4:return a={reason:n,del:t.delArr},e.next=7,Object(o["c"])(a);case 7:r=e.sent,s=r.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.diaVisible=!1);case 10:case"end":return e.stop()}}),e)})))()},cancelReason:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(o["a"])();case 3:n=e.sent,a=n.data,t.cancelReasonOptions=a.data,t.diaVisible=!0,t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Object(i["C"])(t.search);case 3:n=e.sent,a=n.data,200!==a.status?t.$message.error(a.msg):(t.tableData=a.data.list,t.total=a.data.total),t.tableLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.search.page=1,this.getData()},sortChange:function(t,e,n){this.search.order=t.prop,"ascending"===t.order?this.search.sort="asc":this.search.sort="desc",this.getData()},deleteHanleClick:function(t){var e=this;this.$confirm(this.$lang.will_delete_data,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["l"])(t.id);case 2:a=n.sent,r=a.data,200!==r.status?e.$message.error(r.msg):(e.$message.success(r.msg),e.getData());case 5:case"end":return n.stop()}}),n)})))).catch((function(){}))}},created:function(){this.getData()}},l=c,u=(n("7618"),n("2877")),d=Object(u["a"])(l,a,r,!1,null,"5e963c19",null);e["default"]=d.exports},7618:function(t,e,n){"use strict";var a=n("ff60"),r=n.n(a);r.a},8418:function(t,e,n){"use strict";var a=n("c04e"),r=n("9bf2"),s=n("5c6c");t.exports=function(t,e,n){var o=a(e);o in t?r.f(t,o,s(0,n)):t[o]=n}},"841c":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),s=n("1d80"),o=n("129f"),i=n("14c3");a("search",1,(function(t,e,n){return[function(e){var n=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var s=r(t),c=String(this),l=s.lastIndex;o(l,0)||(s.lastIndex=0);var u=i(s,c);return o(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},a434:function(t,e,n){"use strict";var a=n("23e7"),r=n("23cb"),s=n("a691"),o=n("50c4"),i=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),p=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,_=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var n,a,u,d,p,f,b=i(this),v=o(b.length),w=r(t,v),$=arguments.length;if(0===$?n=a=0:1===$?(n=0,a=v-w):(n=$-2,a=m(h(s(e),0),v-w)),v+n-a>_)throw TypeError(g);for(u=c(b,a),d=0;d<a;d++)p=w+d,p in b&&l(u,d,b[p]);if(u.length=a,n<a){for(d=w;d<v-a;d++)p=d+a,f=d+n,p in b?b[f]=b[p]:delete b[f];for(d=v;d>v-a+n;d--)delete b[d-1]}else if(n>a)for(d=v-a;d>w;d--)p=d+a-1,f=d+n-1,p in b?b[f]=b[p]:delete b[f];for(d=0;d<n;d++)b[d+w]=arguments[d+2];return b.length=v-a+n,u}})},c2b8:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return c}));var a=n("a27e");function r(){return Object(a["a"])({url:"cancel_request/list"})}function s(){return Object(a["a"])({url:"cancel_request/cancellist"})}function o(t){return Object(a["a"])({url:"cancel_request/list",method:"delete",params:{id:t}})}function i(){return Object(a["a"])({url:"request_cancel_reason"})}function c(t){return Object(a["a"])({url:"request_cancel_reason_post",method:"post",data:t})}},ce50:function(t,e,n){t.exports=n.p+"img/upgrade.4d4bbae5.svg"},f6b0:function(t,e,n){"use strict";n.d(e,"r",(function(){return r})),n.d(e,"t",(function(){return s})),n.d(e,"o",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"s",(function(){return c})),n.d(e,"u",(function(){return l})),n.d(e,"n",(function(){return u})),n.d(e,"m",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"k",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"f",(function(){return _})),n.d(e,"d",(function(){return g})),n.d(e,"w",(function(){return b})),n.d(e,"z",(function(){return v})),n.d(e,"c",(function(){return w})),n.d(e,"b",(function(){return $})),n.d(e,"q",(function(){return y})),n.d(e,"C",(function(){return O})),n.d(e,"l",(function(){return j})),n.d(e,"D",(function(){return x})),n.d(e,"v",(function(){return C})),n.d(e,"A",(function(){return k})),n.d(e,"B",(function(){return R})),n.d(e,"e",(function(){return S})),n.d(e,"x",(function(){return z})),n.d(e,"p",(function(){return q})),n.d(e,"j",(function(){return D})),n.d(e,"y",(function(){return I}));var a=n("a27e");function r(t){return Object(a["a"])({url:"client_list",method:"post",data:t})}function s(t){return Object(a["a"])({url:"summary?client_id=".concat(t)})}function o(){return Object(a["a"])({url:"create_client"})}function i(t){return Object(a["a"])({url:"create_client_post",method:"post",data:t})}function c(t){return Object(a["a"])({url:"profile/".concat(t)})}function l(t,e){return Object(a["a"])({url:"profile/getclients/".concat(t),params:e})}function u(t){return Object(a["a"])({url:"profile_post",method:"post",data:t})}function d(t){return Object(a["a"])({url:"delete_client/".concat(t)})}function p(t){return Object(a["a"])({url:"close_client/".concat(t)})}function f(t){return Object(a["a"])({url:"user_invoice",params:t})}function h(t,e){return Object(a["a"])({url:"close_client/".concat(t),params:e})}function m(t){return Object(a["a"])({url:"client_ticket",params:t})}function _(t){return Object(a["a"])({url:"log_record",params:t})}function g(t){return Object(a["a"])({url:"zjmf_finance_api/logs",params:t})}function b(t){return Object(a["a"])({url:"login_by_user/"+t})}function v(t){return Object(a["a"])({url:"certifi_person_detail/".concat(t)})}function w(t){return Object(a["a"])({url:"add_user_invoice",method:"post",data:t})}function $(t){return Object(a["a"])({url:"add_recharge_invoice/"+t.uid,method:"post",data:t})}function y(t){return Object(a["a"])({url:"get_user",params:t})}function O(t){return Object(a["a"])({url:"request_cancel_list",params:t})}function j(t){return Object(a["a"])({url:"request_cancel_list/".concat(t),method:"delete"})}function x(t){return Object(a["a"])({url:"searchlist",params:{value:t}})}function C(t){return Object(a["a"])({url:"hostbyuid",params:t})}function k(t){return Object(a["a"])({url:"clients_services/host_batch_renew_page",method:"post",data:t})}function R(t){return Object(a["a"])({url:"clients_services/host_batch_renew",method:"post",data:t})}function S(t){return Object(a["a"])({url:"clients_services/apply_credit",method:"post",data:t})}function z(t){return Object(a["a"])({url:"invoice/paid",params:t})}function q(t){return Object(a["a"])({url:"get_combine_invoices",params:t})}function D(t){return Object(a["a"])({url:"combine_invoices",method:"post",data:t})}function I(t){return Object(a["a"])({url:"post_client_notes",method:"post",data:t})}},ff60:function(t,e,n){}}]);