(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["resourcePoolTaskQueue~31ecd969"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"2aa5":function(t,e,n){},"49b0":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("任务队列")]),n("h5",{staticClass:"mt-0"},[t._v(t._s(t.$lang.you_can_view_all_the_automatic_task_actions_and_sources_here))]),n("div",{staticClass:"mb-20 customerlist_header"},[n("el-select",{style:{width:"200px"},attrs:{size:"small",placeholder:t.$lang.please_select_a_condition},on:{change:t.clearSearch},model:{value:t.searchSelect,callback:function(e){t.searchSelect=e},expression:"searchSelect"}},t._l(t.searchOptions,(function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),""!=t.StatusOptions.length&&t.searchSelect?n("el-select",{style:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:t.$lang.please_choose},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}},t._l(t.StatusOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e(),""==t.StatusOptions.length&&t.searchSelect?n("el-input",{style:{width:"150px"},attrs:{size:"small",placeholder:t.$lang.please_enter_a_user_name,name:"",clearable:""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}}):t._e(),n("el-input",{style:{width:"150px"},attrs:{size:"small",placeholder:t.$lang.input_key_words,clearable:""},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",loading:t.btnLoading},on:{click:t.searchClick}},[t._v(t._s(t.$lang.search))])],1),n("el-table",{attrs:{data:t.tableList,border:""}},[n("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableList.length&&t.tableLoading?n("span",[n("i",{staticClass:"el-icon-loading"}),t._v(" "+t._s(t.$lang.loading)+" ... ")]):t._e(),t.tableList.length||t.tableLoading?t._e():n("span",[t._v(t._s(t.$lang.no_data))])]),n("el-table-column",{attrs:{prop:"user",label:t.$lang.client},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:e.row.user_id}}}},[n("el-link",{on:{click:function(n){return t.goToView(e.row.user_id)}}},[t._v(t._s(e.row.user))])],1)]}}])}),n("el-table-column",{attrs:{prop:"domain",label:t.$lang.product},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("router-link",{attrs:{to:{name:"productInnerpage",query:{id:r.user_id,hid:r.host_id,fa:"productList"}}}},[n("el-link",{style:{color:r.status_color},on:{click:function(e){return t.goToProduct(r.user_id,r.host_id)}}},[t._v(t._s(r.domain))])],1)]}}])}),n("el-table-column",{attrs:{prop:"active_type",label:t.$lang.motion}}),n("el-table-column",{attrs:{prop:"description",label:t.$lang.describe,width:"260"}}),n("el-table-column",{attrs:{prop:"from_type",label:t.$lang.source}}),n("el-table-column",{attrs:{prop:"credit",label:t.$lang.state},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.loading?t._e():n("span",{staticClass:"Dot",style:0==r.status?"background: #FD365B;":"background: #15C6B2;"}),n("span",[t._v(t._s(r.loading||1!==r.status?r.loading||0!==r.status?"":t.$lang.fail:t.$lang.succeed))]),r.loading?n("i",{staticClass:"el-icon-loading"}):t._e()]}}])}),n("el-table-column",{attrs:{prop:"last_execute_time",label:t.$lang.last_operating_time}}),n("el-table-column",{attrs:{prop:"credit",label:t.$lang.operation,width:"120",center:""},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.handleClick(e.row)}}},[t._v(t._s(t.$lang.tautology))]):t._e()]}}])})],1),n("el-pagination",{attrs:{"current-page":t.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":t.search.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.getData,"update:currentPage":function(e){return t.$set(t.search,"page",e)},"update:current-page":function(e){return t.$set(t.search,"page",e)},"update:pageSize":function(e){return t.$set(t.search,"limit",e)},"update:page-size":function(e){return t.$set(t.search,"limit",e)}}})],1)},a=[],u=(n("d81d"),n("a9e3"),n("b64b"),n("ac1f"),n("841c"),n("1276"),n("96cf"),n("1da1")),c=n("4e25"),i=n("db75"),o={metaInfo:{title:window.zjmf_cw_lang.down_task_queue},data:function(){return{searchOptions:[{label:this.$lang.client,value:"user"},{label:this.$lang.motion,value:"active_type"},{label:this.$lang.state,value:"status"}],StatusOptions:[],searchInput:"",search:{page:1,limit:Number(localStorage.getItem("limit"))||50},total:0,searchSelect:"",searchStr:"",btnLoading:!1,tableList:[],tableLoading:!1}},mounted:function(){var t=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;t&&(this.searchSelect=JSON.parse(t)["searchSelect"],this.searchStr=JSON.parse(t)["searchStr"],this.searchInput=JSON.parse(t)["searchInput"]),this.getData()},methods:{goToView:function(t){this.$router.push({path:"/customer-view/abstract",query:{id:t}})},clearSearch:function(){var t=[{label:this.$lang.opening,value:1},{label:this.$lang.pause,value:2},{label:this.$lang.remove_suspended,value:3},{label:this.$lang.delete,value:4},{label:this.$lang.renew,value:5},{label:this.$lang.demotioneing_run,value:6},{label:this.$lang.dcim_traffic_to_reset,value:7},{label:this.$lang.rubiks_cube_cloud_traffic_to_reset,value:8}],e=[{label:this.$lang.succeed,value:1},{label:this.$lang.fail,value:0}],n=[{label:this.$lang.timed_task,value:100},{label:this.$lang.manual_tasks,value:200},{label:this.$lang.order_form,value:300},{label:this.$lang.docking_upstream,value:400},{label:this.$lang.a_downstream,value:500}];this.searchStr="","active_type"==this.searchSelect?this.StatusOptions=t:"from_type"==this.searchSelect?this.StatusOptions=n:"status"==this.searchSelect?this.StatusOptions=e:this.StatusOptions=[]},searchClick:function(){this.search.page=1,this.getData()},handleClick:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,Object(c["t"])({rm_id:t.id});case 3:r=n.sent,200==r.data.status?(e.$message({message:r.data.msg,type:"success"}),t.loading=!1,t.status=1):(t.loading=!1,e.$message.error(r.data.msg));case 5:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(){this.search.page=1,this.getData()},getData:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$urlUpdate({searchSelect:t.searchSelect,searchStr:t.searchStr,searchInput:t.searchInput},location.href,t.$route.query),t.tableLoading=!0,n={},""!=t.searchSelect&&(n="active_type"==t.searchSelect?{active_type:t.searchStr}:"from_type"==t.searchSelect?{from_type:t.searchStr}:"status"==t.searchSelect?{status:t.searchStr}:"user"==t.searchSelect?{user:t.searchStr}:{description:t.searchStr}),r={page:t.search.page,limit:t.search.limit,keywords:t.searchInput,"query[from_type]":500},e.next=7,Object(i["u"])(r,Object.keys(n)[0],n[Object.keys(n)[0]]);case 7:a=e.sent,t.tableLoading=!1,200==a.data.status?(t.total=a.data.data.count,t.tableList=a.data.data.list.map((function(e){return e.from_type=t.formType(e.from_type),e.active_type=t.activeType(e.active_type),e.loading=!1,e}))):t.$message.error(a.data.msg);case 10:case"end":return e.stop()}}),e)})))()},formType:function(t){var e="";return e=100==t?this.$lang.timed_task:200==t?this.$lang.manual_tasks:400==t?this.$lang.docking_upstream:300==t?this.$lang.order_form:this.$lang.a_downstream,e},activeType:function(t){var e="";return 1==t?e=this.$lang.opening:2==t?e=this.$lang.pause:3==t?e=this.$lang.remove_suspended:4==t?e=this.$lang.delete:5==t?e=this.$lang.renew:6==t?e=this.$lang.demotioneing_run:7==t?e=this.$lang.dcim_traffic_to_reset:8==t&&(e=this.$lang.rubiks_cube_cloud_traffic_to_reset),e}}},s=o,l=(n("6a17"),n("2877")),d=Object(l["a"])(s,r,a,!1,null,"10837ee4",null);e["default"]=d.exports},"4e25":function(t,e,n){"use strict";n.d(e,"s",(function(){return a})),n.d(e,"l",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"o",(function(){return i})),n.d(e,"r",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"k",(function(){return l})),n.d(e,"n",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"A",(function(){return f})),n.d(e,"w",(function(){return h})),n.d(e,"v",(function(){return g})),n.d(e,"x",(function(){return m})),n.d(e,"y",(function(){return b})),n.d(e,"m",(function(){return _})),n.d(e,"g",(function(){return v})),n.d(e,"f",(function(){return O})),n.d(e,"h",(function(){return j})),n.d(e,"j",(function(){return $})),n.d(e,"i",(function(){return S})),n.d(e,"B",(function(){return y})),n.d(e,"p",(function(){return k})),n.d(e,"e",(function(){return w})),n.d(e,"q",(function(){return x})),n.d(e,"d",(function(){return z})),n.d(e,"z",(function(){return I})),n.d(e,"u",(function(){return L})),n.d(e,"t",(function(){return C}));n("99af");var r=n("a27e");function a(t){return Object(r["a"])({url:"upper/index",params:t})}function u(t){return Object(r["a"])({url:"upper/del",method:"post",data:t})}function c(t){return Object(r["a"])({url:"upper/addpost",method:"post",data:t})}function i(t){return Object(r["a"])({url:"upper/edituppost",method:"post",data:t})}function o(t){return Object(r["a"])({url:"upper/upperindex",method:"get",params:t})}function s(t){return Object(r["a"])({url:"upper/addupperpost",method:"post",data:t})}function l(t){return Object(r["a"])({url:"upper/delupper",method:"post",data:t})}function d(t){return Object(r["a"])({url:"upper/editupperpost",method:"post",data:t})}function p(){return Object(r["a"])({url:"upper/addupperpage"})}function f(t){return Object(r["a"])({url:"upper/ipmi/status",params:{id:t}})}function h(t){return Object(r["a"])({url:"upper/ipmi/on",method:"post",data:{id:t}})}function g(t){return Object(r["a"])({url:"upper/ipmi/off",method:"post",data:{id:t}})}function m(t){return Object(r["a"])({url:"upper/ipmi/reboot",method:"post",data:{id:t}})}function b(t){return Object(r["a"])({url:"upper/ipmi/vnc",method:"post",data:{id:t}})}function _(t){return Object(r["a"])({url:"upper/editupperpage",params:{id:t}})}function v(t){return Object(r["a"])({url:"upper/dcim_client/on",method:"post",data:{id:t}})}function O(t){return Object(r["a"])({url:"upper/dcim_client/off",method:"post",data:{id:t}})}function j(t){return Object(r["a"])({url:"upper/dcim_client/reboot",method:"post",data:{id:t}})}function $(t){return Object(r["a"])({url:"upper/dcim_client/vnc",method:"post",data:{id:t}})}function S(t){return Object(r["a"])({url:"upper/dcim_client/status",params:{id:t}})}function y(t){return Object(r["a"])({url:"upper/dcim_client/reinstall",method:"post",data:t})}function k(t){return Object(r["a"])({url:"upper/dcim_client/get_os",method:"post",data:t})}function w(t){return Object(r["a"])({url:"upper/dcim_client/crack_pass",method:"post",data:t})}function x(t){return Object(r["a"])({url:"upper/dcim_client/resintall_status",method:"post",data:t})}function z(t){return Object(r["a"])({url:"upper/dcim_client/cancel_task",method:"post",data:t})}function I(t){return Object(r["a"])({url:"upper/dcim_client/cancel_task",method:"post",data:t})}function L(t,e,n){return Object(r["a"])({url:"run_map/list?query[".concat(e,"]=").concat(n),params:t})}function C(t){return Object(r["a"])({url:"run_map/repeat_task",method:"post",data:t})}},"6a17":function(t,e,n){"use strict";var r=n("2aa5"),a=n.n(r);a.a},8418:function(t,e,n){"use strict";var r=n("c04e"),a=n("9bf2"),u=n("5c6c");t.exports=function(t,e,n){var c=r(e);c in t?a.f(t,c,u(0,n)):t[c]=n}},"841c":function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),u=n("1d80"),c=n("129f"),i=n("14c3");r("search",1,(function(t,e,n){return[function(e){var n=u(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var u=a(t),o=String(this),s=u.lastIndex;c(s,0)||(u.lastIndex=0);var l=i(u,o);return c(u.lastIndex,s)||(u.lastIndex=s),null===l?-1:l.index}]}))},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),u=n("e8b5"),c=n("861d"),i=n("7b0b"),o=n("50c4"),s=n("8418"),l=n("65f0"),d=n("1dde"),p=n("b622"),f=n("2d00"),h=p("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",b=f>=51||!a((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),_=d("concat"),v=function(t){if(!c(t))return!1;var e=t[h];return void 0!==e?!!e:u(t)},O=!b||!_;r({target:"Array",proto:!0,forced:O},{concat:function(t){var e,n,r,a,u,c=i(this),d=l(c,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(u=-1===e?c:arguments[e],v(u)){if(a=o(u.length),p+a>g)throw TypeError(m);for(n=0;n<a;n++,p++)n in u&&s(d,p,u[n])}else{if(p>=g)throw TypeError(m);s(d,p++,u)}return d.length=p,d}})},b64b:function(t,e,n){var r=n("23e7"),a=n("7b0b"),u=n("df75"),c=n("d039"),i=c((function(){u(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(t){return u(a(t))}})},db75:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"z",(function(){return o})),n.d(e,"l",(function(){return s})),n.d(e,"o",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"x",(function(){return p})),n.d(e,"y",(function(){return f})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return g})),n.d(e,"k",(function(){return m})),n.d(e,"w",(function(){return b})),n.d(e,"s",(function(){return _})),n.d(e,"g",(function(){return v})),n.d(e,"t",(function(){return O})),n.d(e,"n",(function(){return j})),n.d(e,"u",(function(){return $})),n.d(e,"v",(function(){return S})),n.d(e,"p",(function(){return y})),n.d(e,"a",(function(){return k})),n.d(e,"q",(function(){return w})),n.d(e,"r",(function(){return x})),n.d(e,"m",(function(){return z})),n.d(e,"j",(function(){return I}));var r=n("a27e");function a(t){return Object(r["a"])({url:"agent/order",params:t})}function u(t){return Object(r["a"])({url:"agent/products",params:t})}function c(t){return Object(r["a"])({url:"agent/inspectionlists",params:t})}function i(t){return Object(r["a"])({url:"agent/inspectionip",params:t})}function o(t){return Object(r["a"])({url:"agent/resourceinspection",method:"post",data:t})}function s(t){return Object(r["a"])({url:"agent/inspectiondetail",params:t})}function l(t){return Object(r["a"])({url:"agent/refund",method:"post",data:t})}function d(t){return Object(r["a"])({url:"agent/aftersale",method:"post",data:t})}function p(t){return Object(r["a"])({url:"agent/unaftersale",method:"post",data:t})}function f(t){return Object(r["a"])({url:"agent/host",params:t})}function h(){return Object(r["a"])({url:"agent/baseinfo",method:"get"})}function g(t){return Object(r["a"])({url:"agent/consumption",method:"get",params:t})}function m(t){return Object(r["a"])({url:"agent/income",method:"get",params:t})}function b(t){return Object(r["a"])({url:"agent/tickets",method:"get",params:t})}function _(){return Object(r["a"])({url:"agent/resourceinfo",method:"get"})}function v(t){return Object(r["a"])({url:"agent/resourceinfo",method:"post",data:t})}function O(t){return Object(r["a"])({url:"agent/resourceticketopen",method:"post",data:t})}function j(){return Object(r["a"])({url:"agent/linktoresource",method:"post"})}function $(t){return Object(r["a"])({url:"agent/runmaplists",method:"get",params:t})}function S(){return Object(r["a"])({url:"agent/ordersearchpage"})}function y(t){return Object(r["a"])({url:"agent/refundDetail?id=".concat(t)})}function k(t){return Object(r["a"])({url:"agent/afterSaleDetail?id=".concat(t)})}function w(t){return Object(r["a"])({url:"agent/renew",params:t})}function x(){return Object(r["a"])({url:"agent/renewsearchpage"})}function z(t){return Object(r["a"])({url:"agent/agentLogs",params:t})}function I(t){return Object(r["a"])({url:"agent/evaluation",method:"POST",data:t})}}}]);