(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TaskQueue~31ecd969"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"4e25":function(t,e,a){"use strict";a.d(e,"s",(function(){return n})),a.d(e,"l",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"o",(function(){return u})),a.d(e,"r",(function(){return c})),a.d(e,"a",(function(){return l})),a.d(e,"k",(function(){return o})),a.d(e,"n",(function(){return d})),a.d(e,"c",(function(){return p})),a.d(e,"A",(function(){return h})),a.d(e,"w",(function(){return f})),a.d(e,"v",(function(){return g})),a.d(e,"x",(function(){return m})),a.d(e,"y",(function(){return _})),a.d(e,"m",(function(){return b})),a.d(e,"g",(function(){return v})),a.d(e,"f",(function(){return $})),a.d(e,"h",(function(){return S})),a.d(e,"j",(function(){return y})),a.d(e,"i",(function(){return O})),a.d(e,"B",(function(){return k})),a.d(e,"p",(function(){return w})),a.d(e,"e",(function(){return j})),a.d(e,"q",(function(){return x})),a.d(e,"d",(function(){return I})),a.d(e,"z",(function(){return z})),a.d(e,"u",(function(){return C})),a.d(e,"t",(function(){return L}));a("99af");var r=a("a27e");function n(t){return Object(r["a"])({url:"upper/index",params:t})}function s(t){return Object(r["a"])({url:"upper/del",method:"post",data:t})}function i(t){return Object(r["a"])({url:"upper/addpost",method:"post",data:t})}function u(t){return Object(r["a"])({url:"upper/edituppost",method:"post",data:t})}function c(t){return Object(r["a"])({url:"upper/upperindex",method:"get",params:t})}function l(t){return Object(r["a"])({url:"upper/addupperpost",method:"post",data:t})}function o(t){return Object(r["a"])({url:"upper/delupper",method:"post",data:t})}function d(t){return Object(r["a"])({url:"upper/editupperpost",method:"post",data:t})}function p(){return Object(r["a"])({url:"upper/addupperpage"})}function h(t){return Object(r["a"])({url:"upper/ipmi/status",params:{id:t}})}function f(t){return Object(r["a"])({url:"upper/ipmi/on",method:"post",data:{id:t}})}function g(t){return Object(r["a"])({url:"upper/ipmi/off",method:"post",data:{id:t}})}function m(t){return Object(r["a"])({url:"upper/ipmi/reboot",method:"post",data:{id:t}})}function _(t){return Object(r["a"])({url:"upper/ipmi/vnc",method:"post",data:{id:t}})}function b(t){return Object(r["a"])({url:"upper/editupperpage",params:{id:t}})}function v(t){return Object(r["a"])({url:"upper/dcim_client/on",method:"post",data:{id:t}})}function $(t){return Object(r["a"])({url:"upper/dcim_client/off",method:"post",data:{id:t}})}function S(t){return Object(r["a"])({url:"upper/dcim_client/reboot",method:"post",data:{id:t}})}function y(t){return Object(r["a"])({url:"upper/dcim_client/vnc",method:"post",data:{id:t}})}function O(t){return Object(r["a"])({url:"upper/dcim_client/status",params:{id:t}})}function k(t){return Object(r["a"])({url:"upper/dcim_client/reinstall",method:"post",data:t})}function w(t){return Object(r["a"])({url:"upper/dcim_client/get_os",method:"post",data:t})}function j(t){return Object(r["a"])({url:"upper/dcim_client/crack_pass",method:"post",data:t})}function x(t){return Object(r["a"])({url:"upper/dcim_client/resintall_status",method:"post",data:t})}function I(t){return Object(r["a"])({url:"upper/dcim_client/cancel_task",method:"post",data:t})}function z(t){return Object(r["a"])({url:"upper/dcim_client/cancel_task",method:"post",data:t})}function C(t,e,a){return Object(r["a"])({url:"run_map/list?query[".concat(e,"]=").concat(a),params:t})}function L(t){return Object(r["a"])({url:"run_map/repeat_task",method:"post",data:t})}},8418:function(t,e,a){"use strict";var r=a("c04e"),n=a("9bf2"),s=a("5c6c");t.exports=function(t,e,a){var i=r(e);i in t?n.f(t,i,s(0,a)):t[i]=a}},"841c":function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),s=a("1d80"),i=a("129f"),u=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var s=n(t),c=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var o=u(s,c);return i(s.lastIndex,l)||(s.lastIndex=l),null===o?-1:o.index}]}))},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("d039"),s=a("e8b5"),i=a("861d"),u=a("7b0b"),c=a("50c4"),l=a("8418"),o=a("65f0"),d=a("1dde"),p=a("b622"),h=a("2d00"),f=p("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",_=h>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=d("concat"),v=function(t){if(!i(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},$=!_||!b;r({target:"Array",proto:!0,forced:$},{concat:function(t){var e,a,r,n,s,i=u(this),d=o(i,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?i:arguments[e],v(s)){if(n=c(s.length),p+n>g)throw TypeError(m);for(a=0;a<n;a++,p++)a in s&&l(d,p,s[a])}else{if(p>=g)throw TypeError(m);l(d,p++,s)}return d.length=p,d}})},ae71:function(t,e,a){"use strict";var r=a("d826"),n=a.n(r);n.a},b64b:function(t,e,a){var r=a("23e7"),n=a("7b0b"),s=a("df75"),i=a("d039"),u=i((function(){s(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(t){return s(n(t))}})},c95f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h5",{staticClass:"mt-0"},[t._v(t._s(t.$lang.you_can_view_all_the_automatic_task_actions_and_sources_here))]),a("div",{staticClass:"mb-20 customerlist_header"},[a("el-select",{style:{width:"200px"},attrs:{size:"small",placeholder:t.$lang.please_select_a_condition},on:{change:t.clearSearch},model:{value:t.searchSelect,callback:function(e){t.searchSelect=e},expression:"searchSelect"}},t._l(t.searchOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),""!=t.StatusOptions.length&&t.searchSelect?a("el-select",{style:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:t.$lang.please_choose},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}},t._l(t.StatusOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e(),""==t.StatusOptions.length&&t.searchSelect?a("el-input",{style:{width:"150px"},attrs:{size:"small",placeholder:t.$lang.please_enter_a_user_name,name:"",clearable:""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}}):t._e(),a("el-input",{style:{width:"150px"},attrs:{size:"small",placeholder:t.$lang.input_key_words,clearable:""},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",loading:t.btnLoading},on:{click:t.searchClick}},[t._v(t._s(t.$lang.search))])],1),a("el-table",{attrs:{data:t.tableList,border:""}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!t.tableList.length&&t.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" "+t._s(t.$lang.loading)+" ... ")]):t._e(),t.tableList.length||t.tableLoading?t._e():a("span",[t._v(t._s(t.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"user",label:t.$lang.client},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:e.row.user_id}}}},[a("el-link",{on:{click:function(a){return t.goToView(e.row.user_id)}}},[t._v(t._s(e.row.user))])],1)]}}])}),a("el-table-column",{attrs:{prop:"domain",label:t.$lang.product},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("router-link",{attrs:{to:{name:"productInnerpage",query:{id:r.user_id,hid:r.host_id,fa:"productList"}}}},[a("el-link",{style:{color:r.status_color},on:{click:function(e){return t.goToProduct(r.user_id,r.host_id)}}},[t._v(t._s(r.domain))])],1)]}}])}),a("el-table-column",{attrs:{prop:"active_type",label:t.$lang.motion}}),a("el-table-column",{attrs:{prop:"description",label:t.$lang.describe,width:"260"}}),a("el-table-column",{attrs:{prop:"from_type",label:t.$lang.source}}),a("el-table-column",{attrs:{prop:"credit",label:t.$lang.state},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.loading?t._e():a("span",{staticClass:"Dot",style:0==r.status?"background: #FD365B;":"background: #15C6B2;"}),a("span",[t._v(t._s(r.loading||1!==r.status?r.loading||0!==r.status?"":t.$lang.fail:t.$lang.succeed))]),r.loading?a("i",{staticClass:"el-icon-loading"}):t._e()]}}])}),a("el-table-column",{attrs:{prop:"last_execute_time",label:t.$lang.last_operating_time}}),a("el-table-column",{attrs:{prop:"credit",label:t.$lang.operation,width:"120",center:""},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v(t._s(t.$lang.tautology))]):t._e()]}}])})],1),a("el-pagination",{attrs:{"current-page":t.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":t.search.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.getData,"update:currentPage":function(e){return t.$set(t.search,"page",e)},"update:current-page":function(e){return t.$set(t.search,"page",e)},"update:pageSize":function(e){return t.$set(t.search,"limit",e)},"update:page-size":function(e){return t.$set(t.search,"limit",e)}}})],1)},n=[],s=(a("d81d"),a("a9e3"),a("b64b"),a("ac1f"),a("841c"),a("1276"),a("96cf"),a("1da1")),i=a("4e25"),u={metaInfo:{title:window.zjmf_cw_lang.down_task_queue},data:function(){return{searchOptions:[{label:this.$lang.client,value:"user"},{label:this.$lang.motion,value:"active_type"},{label:this.$lang.state,value:"status"}],StatusOptions:[],searchInput:"",search:{page:1,limit:Number(localStorage.getItem("limit"))||50},total:0,searchSelect:"",searchStr:"",btnLoading:!1,tableList:[],tableLoading:!1}},mounted:function(){var t=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;t&&(this.searchSelect=JSON.parse(t)["searchSelect"],this.searchStr=JSON.parse(t)["searchStr"],this.searchInput=JSON.parse(t)["searchInput"]),this.getData()},methods:{goToView:function(t){this.$router.push({path:"/customer-view/abstract",query:{id:t}})},clearSearch:function(){var t=[{label:this.$lang.opening,value:1},{label:this.$lang.pause,value:2},{label:this.$lang.remove_suspended,value:3},{label:this.$lang.delete,value:4},{label:this.$lang.renew,value:5},{label:this.$lang.demotioneing_run,value:6},{label:this.$lang.dcim_traffic_to_reset,value:7},{label:this.$lang.rubiks_cube_cloud_traffic_to_reset,value:8}],e=[{label:this.$lang.succeed,value:1},{label:this.$lang.fail,value:0}],a=[{label:this.$lang.timed_task,value:100},{label:this.$lang.manual_tasks,value:200},{label:this.$lang.order_form,value:300},{label:this.$lang.docking_upstream,value:400},{label:this.$lang.a_downstream,value:500}];this.searchStr="","active_type"==this.searchSelect?this.StatusOptions=t:"from_type"==this.searchSelect?this.StatusOptions=a:"status"==this.searchSelect?this.StatusOptions=e:this.StatusOptions=[]},searchClick:function(){this.search.page=1,this.getData()},handleClick:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,Object(i["t"])({rm_id:t.id});case 3:r=a.sent,200==r.data.status?(e.$message({message:r.data.msg,type:"success"}),t.loading=!1,t.status=1):(t.loading=!1,e.$message.error(r.data.msg));case 5:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(){this.search.page=1,this.getData()},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$urlUpdate({searchSelect:t.searchSelect,searchStr:t.searchStr,searchInput:t.searchInput},location.href,t.$route.query),t.tableLoading=!0,a={},""!=t.searchSelect&&(a="active_type"==t.searchSelect?{active_type:t.searchStr}:"from_type"==t.searchSelect?{from_type:t.searchStr}:"status"==t.searchSelect?{status:t.searchStr}:"user"==t.searchSelect?{user:t.searchStr}:{description:t.searchStr}),r={page:t.search.page,limit:t.search.limit,keywords:t.searchInput,"query[from_type]":500},e.next=7,Object(i["u"])(r,Object.keys(a)[0],a[Object.keys(a)[0]]);case 7:n=e.sent,t.tableLoading=!1,200==n.data.status?(t.total=n.data.data.count,t.tableList=n.data.data.list.map((function(e){return e.from_type=t.formType(e.from_type),e.active_type=t.activeType(e.active_type),e.loading=!1,e}))):t.$message.error(n.data.msg);case 10:case"end":return e.stop()}}),e)})))()},formType:function(t){var e="";return e=100==t?this.$lang.timed_task:200==t?this.$lang.manual_tasks:400==t?this.$lang.docking_upstream:300==t?this.$lang.order_form:this.$lang.a_downstream,e},activeType:function(t){var e="";return 1==t?e=this.$lang.opening:2==t?e=this.$lang.pause:3==t?e=this.$lang.remove_suspended:4==t?e=this.$lang.delete:5==t?e=this.$lang.renew:6==t?e=this.$lang.demotioneing_run:7==t?e=this.$lang.dcim_traffic_to_reset:8==t&&(e=this.$lang.rubiks_cube_cloud_traffic_to_reset),e}}},c=u,l=(a("ae71"),a("2877")),o=Object(l["a"])(c,r,n,!1,null,"1eac8fe8",null);e["default"]=o.exports},d826:function(t,e,a){}}]);