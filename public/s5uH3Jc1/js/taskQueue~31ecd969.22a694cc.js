(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["taskQueue~31ecd969"],{"0085":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"j",(function(){return o})),a.d(e,"h",(function(){return s})),a.d(e,"g",(function(){return c})),a.d(e,"k",(function(){return i})),a.d(e,"b",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"c",(function(){return m})),a.d(e,"i",(function(){return p})),a.d(e,"e",(function(){return f}));var r=a("a27e");function n(t){return Object(r["a"])({url:"zjmf_finance_api/downstream_summary",params:t})}function o(t){return Object(r["a"])({url:"zjmf_finance_api/products",params:t})}function s(t){return Object(r["a"])({url:"zjmf_finance_api/host",params:t})}function c(t){return Object(r["a"])({url:"zjmf_finance_api/addpage"})}function i(t){return Object(r["a"])({url:"get_upstream_products",params:t})}function l(t){return Object(r["a"])({url:"zjmf_finance_api/inputproduct",method:"post",data:t})}function u(t){return Object(r["a"])({url:"zjmf_finance_api/upstreamhost",method:"post",data:t})}function d(t){return Object(r["a"])({url:"zjmf_finance_api/manualhost",params:t})}function m(t){return Object(r["a"])({url:"zjmf_finance_api/manualhost",method:"post",data:t})}function p(t){return Object(r["a"])({url:"zjmf_finance_api/order",params:t})}function f(t){return Object(r["a"])({url:"zjmf_finance_api/order_commission",method:"post",data:t})}},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14b6":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v(t._s(t.$lang.task_queue))]),a("taskQueueList")],1)},n=[],o=a("1789"),s={components:{taskQueueList:o["a"]}},c=s,i=a("2877"),l=Object(i["a"])(c,r,n,!1,null,null,null);e["default"]=l.exports},"4a45":function(t,e,a){"use strict";var r=a("e2e5"),n=a.n(r);n.a},"4cdc":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-list"},[a("h2",[t._v(t._s(t.$lang.contract_list))]),a("div",{staticClass:"search-box"},[a("div",[a("span",{staticClass:"search-label"},[t._v(t._s(t.$lang.product_status)+"：")]),a("el-select",{attrs:{placeholder:t.$lang.please_choose,size:"small"},on:{change:t.getData},model:{value:t.formData.domainstatus,callback:function(e){t.$set(t.formData,"domainstatus",e)},expression:"formData.domainstatus"}},t._l(t.domainstatusList,(function(t,e,r){return a("el-option",{key:r,attrs:{label:t,value:e}})})),1)],1),a("div",[a("span",{staticClass:"search-label"},[t._v(t._s(t.$lang.contract_status)+"：")]),a("el-select",{attrs:{placeholder:t.$lang.please_choose,size:"small"},on:{change:t.getData},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:t.$lang.all,value:void 0}}),t._l(t.statusList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],2)],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.selectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center",selectable:t.handleSelectable}}),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:t.$lang.client,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.username?a("router-link",{attrs:{slot:"reference",to:{path:"/customer-view/abstract",query:{id:r.uid}}},slot:"reference"},[a("el-link",[t._v(t._s(r.username))])],1):t._e(),a("div",{staticClass:"sub-color pd-5"},[t._v(t._s(r.companyname))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:t.$lang.product_info,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.hostid?a("div",[a("router-link",{attrs:{to:{name:"productInnerpage",query:{id:r.uid,hid:r.hostid}}}},[a("el-link",[a("div",{staticClass:"pd-5"},[t._v(t._s(r.name))])])],1),a("div",{staticClass:"sub-color pd-5"},[t._v(t._s(r.domain)+" "+t._s(r.dedicatedip))])],1):a("div",[a("span",[t._v("-")])])]}}])}),a("el-table-column",{attrs:{label:t.$lang.payment_time,prop:"paid_time",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.paid_time?t.$moment(1e3*a.paid_time).format("YYYY-MM-DD HH:mm:ss"):"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"domainstatus_zh",label:t.$lang.product_status,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t.$valIsNull(r.domainstatus_zh)?a("div",[t._v(" - ")]):a("div",{style:{color:r.domainstatus_zh.color}},[t._v(" "+t._s(r.domainstatus_zh.name)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"status_zh",label:t.$lang.contract_status,align:"center"}}),a("el-table-column",{attrs:{label:t.$lang.operation,width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[0!==r.status?a("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.handleView(r.id,r.status)}}},[t._v(t._s(t.$lang.view_download))]):t._e(),1==r.status||3==r.status||4==r.status?a("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.handleIsMail(r)}}},[t._v(t._s(t.$lang.mail_management))]):t._e(),2==r.status&&0==r.force?a("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.handleInvalid(r.id)}}},[t._v(t._s(t.$lang.to_void))]):t._e()]}}])})],1),a("div",{staticClass:"mt-10"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","current-page":t.formData.page,"page-sizes":[10,15,20,25,50,100],"page-size":t.formData.limit,total:t.formData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("div",[a("span",{staticStyle:{"font-size":"12px",color:"#333"}},[t._v(t._s(t.$lang.selected)+t._s(t.ids.length)+t._s(t.$lang.contracts))]),a("div",{staticClass:"mt-10"},[a("el-button",{attrs:{type:"primary",disabled:0==t.ids.length,size:"small"},on:{click:t.contractCancel}},[t._v(t._s(t.$lang.void_contract))])],1)]),a("el-dialog",{attrs:{title:t.$lang.mail_management,visible:t.mailDialogVisible,width:"30%"},on:{"update:visible":function(e){t.mailDialogVisible=e},closed:function(e){return t.handleCreateClosed()}}},[a("el-form",{ref:"emailForm",attrs:{model:t.mailDialogForm,size:"small","label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:t.$lang.contract_id+":"}},[a("span",[t._v(t._s(t.mailDialogForm.id))])]),a("el-form-item",{attrs:{label:t.$lang.product_info+":"}},[a("span",[t._v(t._s(t.mailDialogForm.name?t.mailDialogForm.name:"-"))])]),a("el-form-item",{attrs:{label:t.$lang.recipient_name+":"}},[a("span",[t._v(t._s(t.mailDialogForm.username))])]),a("el-form-item",{attrs:{label:t.$lang.phone+":"}},[a("span",[t._v(t._s(t.mailDialogForm.phone))])]),a("el-form-item",{attrs:{label:t.$lang.receiving_address+":"}},[a("span",[t._v(t._s(t.mailDialogForm.detail))])]),a("el-form-item",{attrs:{label:t.$lang.mail_or_not+":"}},[a("el-select",{attrs:{placeholder:t.$lang.select_mail_or_not,size:"small"},model:{value:t.mailDialogForm.is_post,callback:function(e){t.$set(t.mailDialogForm,"is_post",e)},expression:"mailDialogForm.is_post"}},[a("el-option",{attrs:{label:t.$lang.yes,value:1}}),a("el-option",{attrs:{label:t.$lang.fou,value:0}})],1)],1),a("el-form-item",{attrs:{label:t.$lang.courier_services_company+":"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:t.$lang.enter_name_express_company},model:{value:t.mailDialogForm.express_company,callback:function(e){t.$set(t.mailDialogForm,"express_company",e)},expression:"mailDialogForm.express_company"}})],1),a("el-form-item",{attrs:{label:t.$lang.courier_number+":"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:t.$lang.input_express_number},model:{value:t.mailDialogForm.express_order,callback:function(e){t.$set(t.mailDialogForm,"express_order",e)},expression:"mailDialogForm.express_order"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.emailManage}},[t._v(t._s(t.$lang.confirm))]),a("el-button",{on:{click:function(e){t.mailDialogVisible=!1}}},[t._v(t._s(t.$lang.cancel))])],1)],1)],1)},n=[],o=(a("99af"),a("d81d"),a("b0c0"),a("a9e3"),a("ac1f"),a("1276"),a("96cf"),a("1da1")),s=a("a27e");function c(t){return Object(s["a"])({url:"contract/contract",method:"get",params:t})}function i(t){return Object(s["a"])({url:"contract/download/".concat(t)})}function l(t){return Object(s["a"])({url:"contract/contract_page",method:"get",params:t})}function u(t,e){return Object(s["a"])({url:"contract/contract_page/".concat(t),method:"POST",data:e})}function d(t){return Object(s["a"])({url:"contract/cancel",method:"post",data:t})}function m(t){return Object(s["a"])({url:"contract/cancel_post/".concat(t.id),method:"post",data:t})}function p(t){return Object(s["a"])({url:"contract/contract/".concat(t.id),method:"post",data:t})}var f={metaInfo:{title:window.zjmf_cw_lang.contract_list},name:"contractsAudit",data:function(){return{ids:[],domainstatusList:{},statusList:[],mailDialogVisible:!1,formData:{total:0,page:1,limit:Number(localStorage.getItem("limit"))||50,order:"id",sort:"desc",domainstatus:"All",status:void 0},tableData:[],mailDialogForm:{id:"",name:"",username:"",phone:"",address:"",is_post:"",express_company:"",express_order:""}}},mounted:function(){var t=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;if(t)for(var e in JSON.parse(t))this.formData[e]=JSON.parse(t)[e];this.getData()},methods:{handleCreateClosed:function(){this.mailDialogForm={id:"",name:"",username:"",phone:"",address:"",is_post:"",express_company:"",express_order:""}},emailManage:function(){var t=this,e=this.mailDialogForm,a=e.id,r=e.is_post,n=e.express_company,o=e.express_order,s={id:a,is_post:r,express_company:n,express_order:o};p(s).then((function(e){200==e.data.status?(t.$message.success(e.data.msg),t.getData(),t.mailDialogVisible=!1):t.$message.error(e.data.msg)}))},cnacelEmail:function(t){var e=this;m({id:t}).then((function(t){200==t.data.status?(e.$message.success(t.data.msg),e.getData()):e.$message.error(t.data.msg)}))},contractCancel:function(){var t=this;this.$confirm("".concat(this.$lang.are_you_sure_void).concat(this.ids.length).concat(this.$lang.contracts,"?"),this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then((function(){d({ids:t.ids}).then((function(e){200==e.data.status?(t.$message.success(e.data.msg),t.getData()):t.$message.error(e.data.msg)}))}))},selectionChange:function(t){this.ids=t.map((function(t){return t.id}))},handleView:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,o,s,c,d,m;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(1!=e&&3!=e&&4!=e&&5!=e){r.next=10;break}return r.next=3,i(t);case 3:if(n=r.sent,o=n.data,200===o.status){r.next=7;break}return r.abrupt("return",a.$message.error(o.msg));case 7:window.open(o.data.pdf),r.next=27;break;case 10:return r.next=12,l({id:t});case 12:if(s=r.sent,c=s.data,200===c.status){r.next=16;break}return r.abrupt("return",a.$message.error(c.msg));case 16:return r.next=18,u(t,{id:t,type:1,content:c.data.contract.content});case 18:if(d=r.sent,200===d.data.status){r.next=21;break}return r.abrupt("return",a.$message.error(d.data.msg));case 21:return r.next=23,i(t);case 23:if(m=r.sent,200===m.data.status){r.next=26;break}return r.abrupt("return",a.$message.error(m.data.msg));case 26:window.open(m.data.data.pdf);case 27:case"end":return r.stop()}}),r)})))()},getData:function(){var t=this;this.$urlUpdate(this.formData,location.href,this.$route.query);var e={page:this.formData.page,limit:this.formData.limit,order:this.formData.order,sort:this.formData.sort,domainstatus:"All"==this.formData.domainstatus?void 0:this.formData.domainstatus,status:-1==this.formData.status?void 0:this.formData.status};c(e).then((function(e){200==e.data.status&&(t.formData.total=e.data.data.total,t.domainstatusList=e.data.data.domainstatus,t.statusList=e.data.data.status,t.tableData=e.data.data.contracts)}))},handleCurrentChange:function(t){this.formData.page=t,this.getData()},handleSizeChange:function(t){this.formData.limit=t,this.getData()},handleIsMail:function(t){this.mailDialogForm.id=t.id,this.mailDialogForm.name=t.name+" "+(t.domain?t.domain:"")+" "+(t.dedicatedip?t.dedicatedip:""),this.mailDialogForm.username=t.username,this.mailDialogForm.phone=t.phone,this.mailDialogForm.detail=t.detail,this.mailDialogForm.is_post=t.is_post,this.mailDialogForm.express_company=t.express_company,this.mailDialogForm.express_order=t.express_order,this.mailDialogVisible=!0},handleInvalid:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$confirm(e.$lang.are_you_sure_to_void_contract,e.$lang.hint,{confirmButtonText:e.$lang.confirm,cancelButtonText:e.$lang.cancel,type:"warning"}).catch((function(t){return t}));case 2:if(r=a.sent,"confirm"!=r){a.next=7;break}d({ids:[t]}).then((function(t){200==t.data.status?(e.$message.success(t.data.msg),e.getData()):e.$message.error(t.data.msg)})),a.next=8;break;case 7:return a.abrupt("return",e.$message.info(e.$lang.canceled));case 8:case"end":return a.stop()}}),a)})))()},handleSelectable:function(t){return 2==t.status&&0==t.force}}},_=f,g=(a("b3e2"),a("2877")),b=Object(g["a"])(_,r,n,!1,null,"46b7ca75",null);e["default"]=b.exports},"4de4":function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").filter,o=a("1dde"),s=a("ae40"),c=o("filter"),i=s("filter");r({target:"Array",proto:!0,forced:!c||!i},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e25":function(t,e,a){"use strict";a.d(e,"s",(function(){return n})),a.d(e,"l",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"o",(function(){return c})),a.d(e,"r",(function(){return i})),a.d(e,"a",(function(){return l})),a.d(e,"k",(function(){return u})),a.d(e,"n",(function(){return d})),a.d(e,"c",(function(){return m})),a.d(e,"A",(function(){return p})),a.d(e,"w",(function(){return f})),a.d(e,"v",(function(){return _})),a.d(e,"x",(function(){return g})),a.d(e,"y",(function(){return b})),a.d(e,"m",(function(){return h})),a.d(e,"g",(function(){return v})),a.d(e,"f",(function(){return $})),a.d(e,"h",(function(){return y})),a.d(e,"j",(function(){return D})),a.d(e,"i",(function(){return k})),a.d(e,"B",(function(){return x})),a.d(e,"p",(function(){return C})),a.d(e,"e",(function(){return j})),a.d(e,"q",(function(){return w})),a.d(e,"d",(function(){return O})),a.d(e,"z",(function(){return F})),a.d(e,"u",(function(){return z})),a.d(e,"t",(function(){return S}));a("99af");var r=a("a27e");function n(t){return Object(r["a"])({url:"upper/index",params:t})}function o(t){return Object(r["a"])({url:"upper/del",method:"post",data:t})}function s(t){return Object(r["a"])({url:"upper/addpost",method:"post",data:t})}function c(t){return Object(r["a"])({url:"upper/edituppost",method:"post",data:t})}function i(t){return Object(r["a"])({url:"upper/upperindex",method:"get",params:t})}function l(t){return Object(r["a"])({url:"upper/addupperpost",method:"post",data:t})}function u(t){return Object(r["a"])({url:"upper/delupper",method:"post",data:t})}function d(t){return Object(r["a"])({url:"upper/editupperpost",method:"post",data:t})}function m(){return Object(r["a"])({url:"upper/addupperpage"})}function p(t){return Object(r["a"])({url:"upper/ipmi/status",params:{id:t}})}function f(t){return Object(r["a"])({url:"upper/ipmi/on",method:"post",data:{id:t}})}function _(t){return Object(r["a"])({url:"upper/ipmi/off",method:"post",data:{id:t}})}function g(t){return Object(r["a"])({url:"upper/ipmi/reboot",method:"post",data:{id:t}})}function b(t){return Object(r["a"])({url:"upper/ipmi/vnc",method:"post",data:{id:t}})}function h(t){return Object(r["a"])({url:"upper/editupperpage",params:{id:t}})}function v(t){return Object(r["a"])({url:"upper/dcim_client/on",method:"post",data:{id:t}})}function $(t){return Object(r["a"])({url:"upper/dcim_client/off",method:"post",data:{id:t}})}function y(t){return Object(r["a"])({url:"upper/dcim_client/reboot",method:"post",data:{id:t}})}function D(t){return Object(r["a"])({url:"upper/dcim_client/vnc",method:"post",data:{id:t}})}function k(t){return Object(r["a"])({url:"upper/dcim_client/status",params:{id:t}})}function x(t){return Object(r["a"])({url:"upper/dcim_client/reinstall",method:"post",data:t})}function C(t){return Object(r["a"])({url:"upper/dcim_client/get_os",method:"post",data:t})}function j(t){return Object(r["a"])({url:"upper/dcim_client/crack_pass",method:"post",data:t})}function w(t){return Object(r["a"])({url:"upper/dcim_client/resintall_status",method:"post",data:t})}function O(t){return Object(r["a"])({url:"upper/dcim_client/cancel_task",method:"post",data:t})}function F(t){return Object(r["a"])({url:"upper/dcim_client/cancel_task",method:"post",data:t})}function z(t,e,a){return Object(r["a"])({url:"run_map/list?query[".concat(e,"]=").concat(a),params:t})}function S(t){return Object(r["a"])({url:"run_map/repeat_task",method:"post",data:t})}},"4e28":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-set"},[a("h2",[t._v(t._s(t.$lang.contract_setup))]),a("el-tabs",{on:{"tab-click":t.freeChange},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$lang.system_setting,name:"first"}},["first"==t.activeName?a("SystemSet"):t._e()],1),a("el-tab-pane",{attrs:{label:t.$lang.contract_template_management,name:"second"}},["second"==t.activeName?a("TemplateManage"):t._e()],1)],1)],1)},n=[],o=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-form",{ref:"elFormEdit",attrs:{size:"small",model:t.formData,rules:t.rules,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:t.$lang.enable_promotion_or_not,prop:"affiliate_enabled"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$lang.contract_function)+" "),a("el-popover",{attrs:{placement:"bottom-start",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[t._v(t._s(t.$lang.open_contract_hint))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:t.freeChange},model:{value:t.formData.contract_open,callback:function(e){t.$set(t.formData,"contract_open",e)},expression:"formData.contract_open"}})],1),"1"==t.formData.contract_open?[a("el-form-item",{attrs:{label:t.$lang.name_our_company,prop:"contract_institutions"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_company_name},model:{value:t.formData.contract_institutions,callback:function(e){t.$set(t.formData,"contract_institutions",e)},expression:"formData.contract_institutions"}})],1),a("el-form-item",{attrs:{label:t.$lang.the_unit_address,prop:"contract_address"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_unit_adress},model:{value:t.formData.contract_address,callback:function(e){t.$set(t.formData,"contract_address",e)},expression:"formData.contract_address"}})],1),a("el-form-item",{attrs:{label:t.$lang.the_contact,prop:"contract_username"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_the_contact},model:{value:t.formData.contract_username,callback:function(e){t.$set(t.formData,"contract_username",e)},expression:"formData.contract_username"}})],1),a("el-form-item",{attrs:{label:t.$lang.phone_number,prop:"contract_phonenumber"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_phone_number_two},model:{value:t.formData.contract_phonenumber,callback:function(e){t.$set(t.formData,"contract_phonenumber","string"===typeof e?e.trim():e)},expression:"formData.contract_phonenumber"}})],1),a("el-form-item",{attrs:{label:t.$lang.Eemail}},[a("el-input",{attrs:{placeholder:t.$lang.enter_eemail},model:{value:t.formData.contract_email,callback:function(e){t.$set(t.formData,"contract_email",e)},expression:"formData.contract_email"}})],1),a("el-form-item",{attrs:{label:t.$lang.receiving_address,prop:"contract_consignee_address"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_receiving_address},model:{value:t.formData.contract_consignee_address,callback:function(e){t.$set(t.formData,"contract_consignee_address",e)},expression:"formData.contract_consignee_address"}})],1),a("el-form-item",{attrs:{label:t.$lang.postal_code}},[a("el-input-number",{attrs:{controls:!1,placeholder:t.$lang.enter_postal_code},model:{value:t.formData.contract_postcode,callback:function(e){t.$set(t.formData,"contract_postcode",e)},expression:"formData.contract_postcode"}})],1),a("el-form-item",{attrs:{label:t.$lang.contract_postage,prop:"contract_postcode_fee"}},[a("el-input",{attrs:{placeholder:t.$lang.please_enter_the_fee},model:{value:t.formData.contract_postcode_fee,callback:function(e){t.$set(t.formData,"contract_postcode_fee",e)},expression:"formData.contract_postcode_fee"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v(t._s(t.currency.suffix))])])],1),a("el-form-item",{attrs:{label:t.$lang.rules_generating_contract_number,prop:"contract_number_custom"}},[a("el-radio-group",{model:{value:t.formData.contract_number_custom,callback:function(e){t.$set(t.formData,"contract_number_custom",e)},expression:"formData.contract_number_custom"}},[a("el-radio",{attrs:{label:"0"}},[t._v(t._s(t.$lang.the_default))]),a("el-radio",{attrs:{label:"1"}},[t._v(t._s(t.$lang.custom))])],1)],1),"1"==t.formData.contract_number_custom?a("el-form-item",{attrs:{label:t.$lang.custom_prefix,prop:"contract_number_prefix"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_custom_prefix},model:{value:t.formData.contract_number_prefix,callback:function(e){t.$set(t.formData,"contract_number_prefix",e)},expression:"formData.contract_number_prefix"}})],1):t._e(),"1"==t.formData.contract_number_custom?a("el-form-item",{attrs:{label:t.$lang.length_contract_number,prop:"contract_number"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_length_contract_number},model:{value:t.formData.contract_number,callback:function(e){t.$set(t.formData,"contract_number",e)},expression:"formData.contract_number"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v(t._s(t.$lang.position))])])],1):t._e(),a("el-form-item",{attrs:{label:t.$lang.contract_cover}},[a("el-upload",{ref:"pdfLogo",staticClass:"upload-demo",attrs:{action:t.attachmentAction,"list-type":"picture","on-success":t.attachmentSuccessUpload,"file-list":t.fileList,"on-remove":t.onRemove,data:t.fileData,"with-credentials":"",name:"image",accept:".png,.jpg,.gif"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t.$lang.upload_pictures))]),a("span",{staticStyle:{"margin-left":"10px",color:"#999"}},[t._v(t._s(t.$lang.resolution_recommendations))])],1)],1),a("el-form-item",{attrs:{label:t.$lang.company_seal,prop:"contract_company_logo"}},[a("el-upload",{ref:"companyLogo",staticClass:"upload-demo",attrs:{action:t.attachmentAction,"list-type":"picture","on-success":t.attachmentSuccessUploadTwo,"file-list":t.fileListTwo,"on-remove":t.onRemoveTwo,data:t.fileData,"with-credentials":"",name:"image",accept:".png,.jpg,.gif"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t.$lang.upload_pictures))]),a("span",{staticStyle:{"margin-left":"10px",color:"#999"}},[t._v(t._s(t.$lang.resolution_recommendations))])],1)],1)]:t._e()],2)],1),a("div",[a("el-button",{attrs:{type:"primary",loading:t.btnLoading,size:"small"},on:{click:t.submit}},[t._v(t._s(t.$lang.save))]),a("el-button",{attrs:{size:"small"},on:{click:t.getDetail}},[t._v(t._s(t.$lang.cancel))])],1)],1)}),s=[],c=(a("ac1f"),a("1276"),a("5530")),i=(a("96cf"),a("1da1")),l=a("ce3c"),u={name:"systemSet",data:function(){return{labelWidth:window.document.body.clientWidth>768?"120px":null,val:!0,value:"",currency:{},fileData:{type:"contract"},attachmentAction:this.$baseUrl+"/upload_image",formData:{contract_open:"0",contract_limit_custom:"0",contract_limit:"",contract_institutions:"",contract_phonenumber:"",contract_consignee_address:"",contract_postcode:"",contract_postcode_fee:"",contract_number_custom:"0",contract_number_prefix:"",contract_number:"",contract_pdf_logo:void 0,contract_company_logo:void 0,contract_address:"",contract_username:"",contract_email:""},contract_pdf_logo:"",contract_company_logo:"",rules:{contract_limit:[{required:!0,message:this.$lang.enter_application_time_limit,trigger:"blur"},{required:!0,pattern:/^(0|[1-9]\d{0,9})$/,message:this.$lang.enter_number,trigger:"blur"}],contract_institutions:[{required:!0,message:this.$lang.enter_company_name,trigger:"blur"}],contract_phonenumber:[{required:!0,message:this.$lang.enter_phone_number_two,trigger:"blur"},{required:!0,pattern:/^([\d-+]{0,20})$/,message:this.$lang.enter_number,trigger:"blur"}],contract_consignee_address:[{required:!0,message:this.$lang.enter_receiving_address,trigger:"blur"}],contract_postcode_fee:[{required:!0,message:this.$lang.please_enter_the_fee,trigger:"blur"},{required:!0,message:this.$lang.enter_number,pattern:/^(0|[1-9]\d{0,9})$/,trigger:"blur"}],contract_number_prefix:[{required:!0,message:this.$lang.enter_custom_prefix,trigger:"blur"}],contract_number:[{required:!0,message:this.$lang.enter_length_contract_number,trigger:"blur"},{required:!0,message:this.$lang.enter_number,pattern:/^(0|[1-9]\d{0,9})$/,trigger:"blur"}],contract_address:[{required:!0,message:this.$lang.enter_unit_adress,trigger:"blur"}],contract_username:[{required:!0,message:this.$lang.enter_the_contact,trigger:"blur"}],contract_company_logo:[{required:!0,message:this.$lang.upload_company_seal,trigger:"blur"}],contract_number_custom:[{required:!0,message:this.$lang.upload_company_seal,trigger:"blur"}]},btnLoading:!1,fileList:[],fileListTwo:[]}},mounted:function(){0!=sessionStorage.getItem("zjmf_cw_license_type")?this.getDetail():this.formData.contract_open="0"},methods:{freeChange:function(t){1==t&&0==sessionStorage.getItem("zjmf_cw_license_type")&&(this.formData.contract_open="0",this.$message.warning(this.$lang.free_version_this_feature_is_not_available))},getDetail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["e"])();case 2:if(a=e.sent,200==a.data.status){e.next=5;break}return e.abrupt("return",t.$message.error(a.data.msg));case 5:for(r in t.currency=a.data.data.currency,a.data.data)t.formData[r]=a.data.data[r];n=a.data.data.contract_pdf_logo.split("/"),o=a.data.data.contract_company_logo.split("/"),t.$valIsNull(a.data.data.contract_pdf_logo)||(t.fileList=[{name:n[n.length-1],url:a.data.data.contract_pdf_logo}]),t.$valIsNull(a.data.data.contract_company_logo)||(t.fileListTwo=[{name:o[o.length-1],url:a.data.data.contract_company_logo}]),t.contract_pdf_logo=a.data.data.contract_pdf_logo,t.contract_company_logo=a.data.data.contract_company_logo;case 13:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;this.$refs.elFormEdit.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=12;break}return r=Object(c["a"])({},t.formData),t.formData.contract_company_logo==t.contract_company_logo&&(r.contract_company_logo=void 0),t.formData.contract_pdf_logo==t.contract_pdf_logo&&(r.contract_pdf_logo=void 0),t.btnLoading=!0,e.next=7,Object(l["i"])(r);case 7:if(n=e.sent,t.btnLoading=!1,200==n.data.status){e.next=11;break}return e.abrupt("return",t.$message.error(n.data.msg));case 11:t.$message({message:t.$lang.save_successfully,type:"success"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},attachmentSuccessUpload:function(t,e,a){200==t.status?(this.formData.contract_pdf_logo=t.savename,this.fileList=[{name:t.savename,url:t.tmp}],this.$refs.pdfLogo.uploadFiles.length>1&&this.$refs.pdfLogo.uploadFiles.shift()):(e.status="error",this.$message.error(t.msg))},onRemove:function(){this.fileList=[],this.formData.contract_pdf_logo=""},attachmentSuccessUploadTwo:function(t,e,a){200==t.status?(this.formData.contract_company_logo=t.savename,this.fileListTwo=[{name:t.savename,url:t.tmp}],this.$refs.companyLogo.uploadFiles.length>1&&this.$refs.companyLogo.uploadFiles.shift()):(e.status="error",this.$message.error(t.msg))},onRemoveTwo:function(){this.fileListTwo=[],this.formData.contract_company_logo=""}}},d=u,m=(a("fb46"),a("2877")),p=Object(m["a"])(d,o,s,!1,null,"46ebfe5e",null),f=p.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"templateManage"},[a("div",{staticClass:"info-add"},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:function(e){return t.$router.push("add_contract")}}},[t._v(t._s(t.$lang.add_contract))]),a("div",{staticClass:"info-search"},[a("div",{staticClass:"status-search mr-10"},[a("span",[t._v(t._s(t.$lang.state_screen)+":")]),a("el-select",{attrs:{placeholder:t.$lang.please_choose,size:"small"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:t.$lang.all,value:void 0}}),a("el-option",{attrs:{label:t.$lang.start_using,value:"1"}}),a("el-option",{attrs:{label:t.$lang.disable,value:"0"}})],1)],1),a("div",{staticClass:"mr-10"},[a("el-input",{attrs:{size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData()}},model:{value:t.formData.keyword,callback:function(e){t.$set(t.formData,"keyword",e)},expression:"formData.keyword"}})],1),a("div",[a("el-button",{attrs:{icon:"el-icon-search",size:"small",type:"primary",loading:t.tableLoading},on:{click:function(e){return t.getData()}}},[t._v(t._s(t.$lang.search))])],1)])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"ID",prop:"id",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.handleEditContract(r.id)}}},[t._v(t._s(r.id))])]}}])}),a("el-table-column",{attrs:{label:t.$lang.contract_name,prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:t.$lang.state,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[1==r.status?a("el-tag",{attrs:{type:"success",effect:"dark",size:"small"}},[t._v(t._s(t.$lang.start_using))]):t._e(),0==r.status?a("el-tag",{attrs:{type:"danger",effect:"dark",size:"small"}},[t._v(t._s(t.$lang.disable))]):t._e()]}}])}),a("el-table-column",{attrs:{label:t.$lang.forced_sign,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[1==r.force?a("span",[t._v(t._s(t.$lang.yes))]):t._e(),0==r.force?a("span",[t._v(t._s(t.$lang.fou))]):t._e()]}}])}),a("el-table-column",{attrs:{label:t.$lang.signed_to_be,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",[t._v(t._s(r.signed))]),t._v("/"),a("span",[t._v(t._s(r.sign))])]}}])}),a("el-table-column",{attrs:{label:t.$lang.contains_product},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("p",{staticClass:"content",domProps:{innerHTML:t._s(r.product_name)}})]}}])}),a("el-table-column",{attrs:{label:t.$lang.remark,prop:"remark"}}),a("el-table-column",{attrs:{label:t.$lang.operation},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.handleEditContract(r.id)}}},[t._v(t._s(t.$lang.modification))]),a("el-link",{attrs:{type:"danger"},on:{click:function(e){return t.handleDeleteContract(r.id)}}},[t._v(t._s(t.$lang.delete))])]}}])})],1),a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",disabled:t.tableLoading,"page-sizes":[10,15,20,25,50,100],"current-page":t.formData.page,"page-size":t.formData.limit,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},g=[],b=(a("a9e3"),a("f32a")),h={name:"templateManage",data:function(){return{tableLoading:!1,formData:{keyword:void 0,page:1,limit:Number(localStorage.getItem("limit"))||50,order:"id",sort:"desc",status:void 0},total:void 0,tableData:[]}},created:function(){var t=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;if(t)for(var e in JSON.parse(t))this.formData[e]=JSON.parse(t)[e];this.getData()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$urlUpdate(t.formData,location.href,t.$route.query),t.tableLoading=!0,e.next=4,Object(b["d"])(t.formData);case 4:if(a=e.sent,r=a.data,200===r.status){e.next=8;break}return e.abrupt("return",t.$message.error(r.msg));case 8:t.tableData=r.data.contracts,t.total=r.data.total,t.tableLoading=!1;case 11:case"end":return e.stop()}}),e)})))()},handleCurrentChange:function(t){this.formData.page=t,this.getData()},handleSizeChange:function(t){this.formData.limit=t,this.getData()},handleDeleteContract:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$confirm(e.$lang.operation_will_permanent_delete_contract,e.$lang.hint,{cancelButtonText:e.$lang.cancel,confirmButtonText:e.$lang.confirm,cancelButtonClass:"btn-custom-cancel",type:"warning"}).catch((function(t){return t}));case 2:if(r=a.sent,"confirm"!=r){a.next=14;break}return a.next=6,Object(b["b"])(t);case 6:if(n=a.sent,o=n.data,200===o.status){a.next=10;break}return a.abrupt("return",e.$message.error(o.msg));case 10:e.$message({message:e.$lang.successfully_delete,type:"success"}),e.getData(),a.next=15;break;case 14:e.$message(e.$lang.operation_cancelled);case 15:case"end":return a.stop()}}),a)})))()},handleEditContract:function(t){this.$router.push({name:"addContract",query:{id:t}})}}},v=h,$=(a("4a45"),Object(m["a"])(v,_,g,!1,null,"743e0614",null)),y=$.exports,D={metaInfo:{title:window.zjmf_cw_lang.contract_setup},components:{SystemSet:f,TemplateManage:y},name:"contractSet",data:function(){return{activeName:this.$route.query.active?this.$route.query.active:"first"}},methods:{freeChange:function(t){if("second"==t.name&&0==sessionStorage.getItem("zjmf_cw_license_type"))return this.activeName="first",void this.$message.warning(this.$lang.free_version_this_feature_is_not_available)}}},k=D,x=Object(m["a"])(k,r,n,!1,null,"47d9f2ef",null);e["default"]=x.exports},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var r=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"780a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-page-header",{attrs:{content:t.addContractForm.id?t.$lang.edit_contract:t.$lang.add_contract},on:{back:function(e){return t.goBack()}}}),a("el-row",[a("el-form",{ref:"addContractRef",attrs:{size:"small","label-width":t.labelWidth,"label-position":"right",model:t.addContractForm,rules:t.addContractRules}},[a("el-form-item",{ref:"name",attrs:{label:t.$lang.contract_name,prop:"name"}},[a("el-input",{attrs:{placeholder:t.$lang.enter_name_contract},model:{value:t.addContractForm.name,callback:function(e){t.$set(t.addContractForm,"name",e)},expression:"addContractForm.name"}})],1),a("el-form-item",{ref:"status",attrs:{label:t.$lang.contract_status,prop:"status"}},[a("el-select",{attrs:{placeholder:t.$lang.select_contract_status},model:{value:t.addContractForm.status,callback:function(e){t.$set(t.addContractForm,"status",e)},expression:"addContractForm.status"}},[a("el-option",{attrs:{label:t.$lang.start_using,value:1}}),a("el-option",{attrs:{label:t.$lang.disable,value:0}})],1)],1),a("el-form-item",{attrs:{label:t.$lang.forced_sign}},[a("el-row",[a("el-col",[a("el-switch",{attrs:{"inactive-value":0,"active-value":1},model:{value:t.addContractForm.force,callback:function(e){t.$set(t.addContractForm,"force",e)},expression:"addContractForm.force"}})],1)],1)],1),1==t.addContractForm.force?a("el-form-item",{attrs:{label:t.$lang.after_order_open}},[a("div",{staticClass:"sign-contract"},[a("div",[a("el-input",{model:{value:t.addContractForm.suspended,callback:function(e){t.$set(t.addContractForm,"suspended",e)},expression:"addContractForm.suspended"}})],1),a("div",{staticClass:"contract2"},[a("span",[t._v(t._s(t.$lang.day_no_contract))])]),a("div",[a("el-select",{model:{value:t.addContractForm.suspended_type,callback:function(e){t.$set(t.addContractForm,"suspended_type",e)},expression:"addContractForm.suspended_type"}},[a("el-option",{attrs:{label:t.$lang.product_suspension,value:"suspended"}}),a("el-option",{attrs:{label:t.$lang.content_page_not_accessible,value:"noaccess"}})],1)],1)])]):t._e(),a("el-form-item",{attrs:{label:t.$lang.basic_contract}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$lang.basic_contract)+" "),a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[t._v(t._s(t.$lang.products_account_will_affect))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("el-switch",{attrs:{"inactive-value":0,"active-value":1},model:{value:t.addContractForm.base,callback:function(e){t.$set(t.addContractForm,"base",e)},expression:"addContractForm.base"}})],1),0==t.addContractForm.base?a("el-form-item",{ref:"pids",attrs:{label:t.$lang.related_product,prop:"pids"}},[a("el-select",{staticClass:"product",attrs:{multiple:"",filterable:"",placeholder:t.$lang.select_associated_product},model:{value:t.addContractForm.pids,callback:function(e){t.$set(t.addContractForm,"pids",e)},expression:"addContractForm.pids"}},t._l(t.productList,(function(e){return a("el-option-group",{key:e.id,attrs:{label:e.name}},t._l(e.child,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)})),1)],1):t._e(),a("el-form-item",{attrs:{label:t.$lang.contract_notes}},[a("el-input",{attrs:{placeholder:t.$lang.enter_contract_nots},model:{value:t.addContractForm.remark,callback:function(e){t.$set(t.addContractForm,"remark",e)},expression:"addContractForm.remark"}})],1),a("el-form-item",{ref:"inscribe_custom",attrs:{label:t.$lang.contract_signing_our_information,prop:"inscribe_custom"}},[a("el-radio-group",{on:{change:t.handleChange},model:{value:t.addContractForm.inscribe_custom,callback:function(e){t.$set(t.addContractForm,"inscribe_custom",e)},expression:"addContractForm.inscribe_custom"}},[a("el-radio",{attrs:{label:0}},[t._v(t._s(t.$lang.the_default))]),a("el-radio",{attrs:{label:1}},[t._v(t._s(t.$lang.custom))])],1)],1),a("el-form-item",{ref:"represent",attrs:{label:t.$lang.our_authorized_representative,prop:"represent"}},[0==t.addContractForm.inscribe_custom?a("span",[t._v(t._s(t.represent))]):a("el-input",{attrs:{placeholder:t.$lang.enter_our_authorized_representative},model:{value:t.addContractForm.represent,callback:function(e){t.$set(t.addContractForm,"represent",e)},expression:"addContractForm.represent"}})],1),a("el-form-item",{ref:"phonenumber",attrs:{label:t.$lang.authorized_telephone,prop:"phonenumber"}},[0==t.addContractForm.inscribe_custom?a("span",[t._v(t._s(t.phonenumber))]):a("el-input",{attrs:{placeholder:t.$lang.enter_authorized_telephone},model:{value:t.addContractForm.phonenumber,callback:function(e){t.$set(t.addContractForm,"phonenumber",e)},expression:"addContractForm.phonenumber"}})],1),a("el-form-item",{attrs:{label:t.$lang.authorization_email}},[0==t.addContractForm.inscribe_custom?a("span",[t._v(t._s(t.email))]):a("el-input",{attrs:{placeholder:t.$lang.enter_authorization_email},model:{value:t.addContractForm.email,callback:function(e){t.$set(t.addContractForm,"email",e)},expression:"addContractForm.email"}})],1),a("el-form-item",{ref:"content",attrs:{label:t.$lang.contract_content,prop:"content"}},[a("tinymce-editor",{ref:"replyEditor",attrs:{insertTxt:t.insertTxt},model:{value:t.addContractForm.content,callback:function(e){t.$set(t.addContractForm,"content",e)},expression:"addContractForm.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmitContract("addContractRef")}}},[t._v(t._s(t.$lang.submit))]),a("el-button",{on:{click:function(e){return t.$router.back(-1)}}},[t._v(t._s(t.$lang.cancel))])],1),a("el-form-item",{attrs:{label:t.$lang.variable_parameters}},[a("div",{staticClass:"params"},[a("div",{staticClass:"params-left"},[a("div",[t._v(t._s(t.$lang.customer_relat))]),a("table",t._l(t.clintTableData.data,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.name))]),a("td",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.argHandleClick(e.arg)}}},[t._v(t._s(e.arg))])])})),0)]),0==t.addContractForm.base?a("div",{staticClass:"params-right"},[a("div",[t._v(t._s(t.$lang.product_related))]),a("table",t._l(t.productTableData.data,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.name))]),a("td",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.argHandleClick(e.arg)}}},[t._v(t._s(e.arg))])])})),0)]):t._e()])])],1)],1)],1)},n=[],o=(a("d81d"),a("b0c0"),a("a9e3"),a("d3b7"),a("25f0"),a("ddb0"),a("96cf"),a("1da1")),s=a("ade3"),c=a("f32a"),i={name:"addContract",data:function(){return{insertTxt:"",productList:[],contract_args:[],clintTableData:[],productTableData:[],labelWidth:window.document.body.clientWidth>768?"120px":"",email:"",represent:"",phonenumber:"",addContractForm:Object(s["a"])({id:void 0,name:void 0,status:void 0,force:0,notes:0,pids:[],represent:void 0,phonenumber:void 0,email:void 0,remark:void 0,content:void 0,suspended:void 0,suspended_type:"suspended",inscribe_custom:0,base:0},"email",void 0),addContractRules:{name:[{required:!0,message:this.$lang.enter_name_contract,trigger:"blur"},{max:20,message:this.$lang.length_less_than_20,trigger:"blur"}],status:[{required:!0,message:this.$lang.select_contract_status,trigger:"change"}],pids:[{required:!0,message:this.$lang.select_associated_product,trigger:"change"}],inscribe_custom:[{required:!0,message:this.$lang.select_contract_signing_information,trigger:"change"}],represent:[{required:!0,message:this.$lang.enter_our_authorized_representative,trigger:"blur"}],phonenumber:[{required:!0,message:this.$lang.enter_authorized_telephone,trigger:"blur"}],content:[{required:!0,message:this.$lang.input_content_contract,trigger:"blur"}]}}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.query.id){e.next=27;break}return t.addContractForm.id=t.$route.query.id,e.next=4,Object(c["f"])(t.addContractForm.id);case 4:if(a=e.sent,r=a.data,200===r.status){e.next=8;break}return e.abrupt("return",t.$message.error(r.msg));case 8:t.addContractForm.name=r.data.contract.name,t.addContractForm.status=r.data.contract.status,t.addContractForm.force=r.data.contract.force,t.addContractForm.suspended=r.data.contract.suspended,t.addContractForm.suspended_type=r.data.contract.suspended_type,t.addContractForm.base=r.data.contract.base,t.$valIsNull(r.data.contract.product_id)||r.data.contract.product_id.map((function(e){e&&t.addContractForm.pids.push(Number(e))})),t.addContractForm.remark=r.data.contract.remark,t.addContractForm.inscribe_custom=r.data.contract.inscribe_custom,1==t.addContractForm.inscribe_custom&&(t.addContractForm.represent=r.data.contract.represent,t.addContractForm.phonenumber=r.data.contract.phonenumber,t.addContractForm.email=r.data.contract.email),t.addContractForm.content=t.HTMLDecode(r.data.contract.content),t.$valIsNull(r.data.products)?t.productList=[]:t.productList=r.data.products,t.clintTableData=r.data.contract_args[0],t.productTableData=r.data.contract_args[1],t.email=r.data.contract.email,t.represent=r.data.contract.represent,t.phonenumber=r.data.contract.phonenumber,e.next=28;break;case 27:t.getAddContractData();case 28:case"end":return e.stop()}}),e)})))()},methods:{getAddContractData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["c"])();case 2:if(a=e.sent,r=a.data,200===r.status){e.next=6;break}return e.abrupt("return",t.$message.error(r.msg));case 6:t.productList=r.data.products,t.clintTableData=r.data.contract_args[0],t.productTableData=r.data.contract_args[1],t.email=r.data.contract.email,t.represent=r.data.contract.represent,t.phonenumber=r.data.contract.phonenumber;case 12:case"end":return e.stop()}}),e)})))()},handleChange:function(){1==this.addContractForm.inscribe_custom&&(this.addContractForm.email=this.email,this.addContractForm.represent=this.represent,this.addContractForm.phonenumber=this.phonenumber)},argHandleClick:function(t){this.insertTxt=t},HTMLDecode:function(t){var e=document.createElement("div");e.innerHTML=t;var a=e.innerText||e.textContent;return e=null,a},handleSubmitContract:function(t){var e=this;1==this.addContractForm.base&&(this.addContractForm.pids=void 0),0==this.addContractForm.inscribe_custom&&(this.addContractForm.email=this.email,this.addContractForm.represent=this.represent,this.addContractForm.phonenumber=this.phonenumber),this.addContractForm.id?this.$refs[t].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}return t.next=3,Object(c["e"])(e.addContractForm.id,e.addContractForm);case 3:if(r=t.sent,n=r.data,200===n.status){t.next=7;break}return t.abrupt("return",e.$message.error(n.msg));case 7:e.$message({message:e.$lang.contract_template_modified_successful,type:"success"}),e.$router.push({path:"/contracts_setting",query:{active:"second"}}),t.next=21;break;case 11:t.t0=regeneratorRuntime.keys(e.addContractRules);case 12:if((t.t1=t.t0()).done){t.next=20;break}return o=t.t1.value,s=e.$refs[o],"[object Object]"!==Object.prototype.toString.call(s)&&(s=s[0]),s.$el.scrollIntoView({block:"center",behavior:"smooth"}),t.abrupt("break",20);case 20:return t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$refs[t].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}return t.next=3,Object(c["a"])(e.addContractForm);case 3:if(r=t.sent,n=r.data,200===n.status){t.next=7;break}return t.abrupt("return",e.$message.error(n.msg));case 7:e.$message({message:e.$lang.contract_template_created_successful,type:"success"}),e.$router.push({path:"/contracts_setting",query:{active:"second"}}),t.next=21;break;case 11:t.t0=regeneratorRuntime.keys(e.addContractRules);case 12:if((t.t1=t.t0()).done){t.next=20;break}return o=t.t1.value,s=e.$refs[o],"[object Object]"!==Object.prototype.toString.call(s)&&(s=s[0]),s.$el.scrollIntoView({block:"center",behavior:"smooth"}),t.abrupt("break",20);case 20:return t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},goBack:function(){this.$router.push({path:"/contracts_setting",query:{active:"second"}})}}},l=i,u=(a("d2ac"),a("2877")),d=Object(u["a"])(l,r,n,!1,null,"3cef0fce",null);e["default"]=d.exports},8418:function(t,e,a){"use strict";var r=a("c04e"),n=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var s=r(e);s in t?n.f(t,s,o(0,a)):t[s]=a}},"841c":function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),o=a("1d80"),s=a("129f"),c=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var o=n(t),i=String(this),l=o.lastIndex;s(l,0)||(o.lastIndex=0);var u=c(o,i);return s(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("d039"),o=a("e8b5"),s=a("861d"),c=a("7b0b"),i=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),m=a("b622"),p=a("2d00"),f=m("isConcatSpreadable"),_=9007199254740991,g="Maximum allowed index exceeded",b=p>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),h=d("concat"),v=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},$=!b||!h;r({target:"Array",proto:!0,forced:$},{concat:function(t){var e,a,r,n,o,s=c(this),d=u(s,0),m=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?s:arguments[e],v(o)){if(n=i(o.length),m+n>_)throw TypeError(g);for(a=0;a<n;a++,m++)a in o&&l(d,m,o[a])}else{if(m>=_)throw TypeError(g);l(d,m++,o)}return d.length=m,d}})},a62d:function(t,e,a){},ade3:function(t,e,a){"use strict";function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return r}))},b3e2:function(t,e,a){"use strict";var r=a("a62d"),n=a.n(r);n.a},b64b:function(t,e,a){var r=a("23e7"),n=a("7b0b"),o=a("df75"),s=a("d039"),c=s((function(){o(1)}));r({target:"Object",stat:!0,forced:c},{keys:function(t){return o(n(t))}})},ce3c:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"f",(function(){return s})),a.d(e,"e",(function(){return c})),a.d(e,"i",(function(){return i})),a.d(e,"g",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"h",(function(){return m}));var r=a("a27e");function n(t){return Object(r["a"])({url:"config_general/getConfig",method:"post",data:t})}function o(t){return Object(r["a"])({url:"config_general/getConfigOption",method:"post",data:t})}function s(t){return Object(r["a"])({url:"config_general/newGeneral",method:"post",data:t})}function c(){return Object(r["a"])({url:"contract/setting"})}function i(t){return Object(r["a"])({url:"contract/setting",method:"post",data:t})}function l(t){return Object(r["a"])({url:"config_general/debugmodel",method:"post",data:t})}function u(){return Object(r["a"])({url:"config_general/debugmodel"})}function d(){return Object(r["a"])({url:"config_general/new_login"})}function m(t){return Object(r["a"])({url:"config_general/new_login",method:"post",data:t})}},d2ac:function(t,e,a){"use strict";var r=a("dc7e"),n=a.n(r);n.a},dbb4:function(t,e,a){var r=a("23e7"),n=a("83ab"),o=a("56ef"),s=a("fc6a"),c=a("06cf"),i=a("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,r=s(t),n=c.f,l=o(r),u={},d=0;while(l.length>d)a=n(r,e=l[d++]),void 0!==a&&i(u,e,a);return u}})},dc7e:function(t,e,a){},e2e5:function(t,e,a){},e439:function(t,e,a){var r=a("23e7"),n=a("d039"),o=a("fc6a"),s=a("06cf").f,c=a("83ab"),i=n((function(){s(1)})),l=!c||i;r({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},e4fb:function(t,e,a){},f32a:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return c})),a.d(e,"f",(function(){return i})),a.d(e,"e",(function(){return l}));var r=a("a27e");function n(t){return Object(r["a"])({url:"contract/tpl",method:"get",params:t})}function o(t){return Object(r["a"])({url:"contract/tpl/".concat(t),method:"DELETE"})}function s(){return Object(r["a"])({url:"contract/detail",method:"GET"})}function c(t){return Object(r["a"])({url:"contract/detail",method:"POST",data:t})}function i(t){return Object(r["a"])({url:"contract/detail/".concat(t),method:"GET"})}function l(t,e){return Object(r["a"])({url:"contract/detail/".concat(t),method:"POST",data:e})}},fb46:function(t,e,a){"use strict";var r=a("e4fb"),n=a.n(r);n.a}}]);