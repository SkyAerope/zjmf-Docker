(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ConfigureEdit~commodityList~31ecd969"],{"0085":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"j",(function(){return o})),r.d(t,"h",(function(){return i})),r.d(t,"g",(function(){return c})),r.d(t,"k",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"f",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"i",(function(){return m})),r.d(t,"e",(function(){return f}));var a=r("a27e");function n(e){return Object(a["a"])({url:"zjmf_finance_api/downstream_summary",params:e})}function o(e){return Object(a["a"])({url:"zjmf_finance_api/products",params:e})}function i(e){return Object(a["a"])({url:"zjmf_finance_api/host",params:e})}function c(e){return Object(a["a"])({url:"zjmf_finance_api/addpage"})}function s(e){return Object(a["a"])({url:"get_upstream_products",params:e})}function u(e){return Object(a["a"])({url:"zjmf_finance_api/inputproduct",method:"post",data:e})}function l(e){return Object(a["a"])({url:"zjmf_finance_api/upstreamhost",method:"post",data:e})}function d(e){return Object(a["a"])({url:"zjmf_finance_api/manualhost",params:e})}function p(e){return Object(a["a"])({url:"zjmf_finance_api/manualhost",method:"post",data:e})}function m(e){return Object(a["a"])({url:"zjmf_finance_api/order",params:e})}function f(e){return Object(a["a"])({url:"zjmf_finance_api/order_commission",method:"post",data:e})}},"03f5":function(e,t,r){"use strict";var a=r("b6f3"),n=r.n(a);n.a},"06c5":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("25f0"),r("3ca3");var a=r("6b75");function n(e,t){if(e){if("string"===typeof e)return Object(a["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(a["a"])(e,t):void 0}}},"13d5":function(e,t,r){"use strict";var a=r("23e7"),n=r("d58f").left,o=r("a640"),i=r("ae40"),c=o("reduce"),s=i("reduce",{1:0});a({target:"Array",proto:!0,forced:!c||!s},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},2118:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("d3b7"),r("ac1f"),r("25f0"),r("5319");function a(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)}))}},2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("6b75");function n(e){if(Array.isArray(e))return Object(a["a"])(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=r("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return n(e)||o(e)||Object(i["a"])(e)||c()}},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,o=r("1dde"),i=r("ae40"),c=o("filter"),s=i("filter");a({target:"Array",proto:!0,forced:!c||!s},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,r){"use strict";var a=r("0366"),n=r("7b0b"),o=r("9bdd"),i=r("e95a"),c=r("50c4"),s=r("8418"),u=r("35a1");e.exports=function(e){var t,r,l,d,p,m,f=n(e),g="function"==typeof this?this:Array,_=arguments.length,b=_>1?arguments[1]:void 0,h=void 0!==b,y=u(f),v=0;if(h&&(b=a(b,_>2?arguments[2]:void 0,2)),void 0==y||g==Array&&i(y))for(t=c(f.length),r=new g(t);t>v;v++)m=h?b(f[v],v):f[v],s(r,v,m);else for(d=y.call(f),p=d.next,r=new g;!(l=p.call(d)).done;v++)m=h?o(d,b,[l.value,v],!0):l.value,s(r,v,m);return r.length=v,r}},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var a=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"6a8e":function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"g",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return u})),r.d(t,"h",(function(){return l})),r.d(t,"j",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"a",(function(){return m}));var a=r("a27e");function n(e,t){return Object(a["a"])({url:"common/get_product_list",params:{type:e,id:t}})}function o(e){return Object(a["a"])({url:"common/get_promo_code",params:{type:e}})}function i(){return Object(a["a"])({url:"common/get_getways"})}function c(e){return Object(a["a"])({url:"common/get_email_tem",params:{type:e}})}function s(){return Object(a["a"])({url:"common/get_client_groups"})}function u(e){return Object(a["a"])({url:"common/host_list",params:{uid:e}})}function l(){return Object(a["a"])({url:"common/get_sms_country"})}function d(){return Object(a["a"])({url:"common/product_config_options"})}function p(e){return Object(a["a"])({url:"common/get_upstream_ticket_department_list",params:{id:e}})}function m(e){return Object(a["a"])({url:"check_product_as",method:"post",data:e})}},"6b75":function(e,t,r){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}r.d(t,"a",(function(){return a}))},a630:function(e,t,r){var a=r("23e7"),n=r("4df4"),o=r("1c7e"),i=!o((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:i},{from:n})},ade3:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return a}))},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),o=r("df75"),i=r("d039"),c=i((function(){o(1)}));a({target:"Object",stat:!0,forced:c},{keys:function(e){return o(n(e))}})},b6f3:function(e,t,r){},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");var a=r("06c5");function n(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(a["a"])(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n["return"]||n["return"]()}finally{if(c)throw o}}}}},d1c8:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.goToAddGroup}},[e._v(e._s(e.$lang.the_new_grouping))]),"zjmf_api"!=e.$route.query.type&&e.$route.query.type?e._e():r("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-plus"},on:{click:e.goimport}},[e._v(e._s(e.$lang.import_goods))]),r("el-input",{staticClass:"ml-10",staticStyle:{width:"320px"},attrs:{size:"small",placeholder:e.$lang.please_enter_product_keyword},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData(t)}},model:{value:e.search.keywords,callback:function(t){e.$set(e.search,"keywords",t)},expression:"search.keywords"}},[r("i",{staticClass:"el-input__icon el-icon-search cursor-pointer",attrs:{slot:"suffix"},on:{click:e.getData},slot:"suffix"})]),r("el-table",{staticClass:"mt-20",attrs:{data:e.tableList,border:"","row-key":"guid","expand-row-keys":e.expandRows}},[r("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableList.length&&e.tableLoading?r("span",[r("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableList.length||e.tableLoading?e._e():r("span",[e._v(e._s(e.$lang.no_data))])]),r("el-table-column",{attrs:{prop:"name",label:e.$lang.commodity_name,"min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.groups||a.products?r("span",[a.groups?r("span",{style:{color:"#2c67ee"}},[e._v(e._s(a.name))]):e._e(),a.products?r("span",{style:{color:"#333"}},[e._v(e._s(a.name)+e._s(a.hidden?e.$lang.conceal_two:""))]):e._e()]):r("span",{staticClass:"color-999"},[r("span",{staticClass:"mr-10 row_hover",staticStyle:{display:"inline-block",width:"2px",height:"2px",background:"#999999","margin-bottom":"3px"}}),r("span",[e._v(e._s(a.name))])])]}}])}),r("el-table-column",{attrs:{prop:"billingcycle_zh",label:e.$lang.pricing,width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s("free"!=a.billingcycle&&"onetime"!=a.billingcycle&&a.billingcycle?e.$lang.period:a.billingcycle_zh))])]}}])}),r("el-table-column",{attrs:{prop:"list",label:e.$lang.inventory_local_upstream,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!=t.row.upstream_qty?[r("span",[e._v(" "+e._s(t.row.upstream_qty))])]:[r("span",[e._v("-")])]]}}])}),r("el-table-column",{attrs:{prop:"list",label:e.$lang.available_total_quantity,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.host_active)+" "),t.row.host_active>=0?r("span",[e._v("/")]):e._e(),e._v(" "+e._s(t.row.host_count)+" ")])]}}])}),r("el-table-column",{attrs:{prop:"list",label:e.$lang.supplier,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.server_name))])]}}])}),r("el-table-column",{attrs:{prop:"list",label:e.$lang.price_local_upstream,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[t.row.product_price?r("span",[e._v(e._s(e.prefix))]):e._e(),e._v(e._s(t.row.product_price))])]}}])}),r("el-table-column",{attrs:{prop:"list",label:e.$lang.profit,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.profit?r("span",[e._v(e._s(e.prefix)+e._s(t.row.profit))]):e._e()]}}])}),r("el-table-column",{attrs:{label:e.$lang.operation,width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.groups||a.products?e._e():[r("el-popover",{attrs:{placement:"top-start",width:"100",trigger:"hover"}},[r("div",["manual"!=a.api_type?r("div",[r("el-link",{attrs:{type:"primary",href:a.upstream_product_shopping_url,target:"blank"}},[e._v(e._s(e.$lang.the_upstream_commodity)+">")])],1):e._e(),r("div",[a.product_shopping_url?r("el-link",{attrs:{type:"primary",href:a.product_shopping_url,target:"blank"}},[e._v(e._s(e.$lang.downstream_products)+">")]):r("span",[e._v(e._s(e.$lang.downstream_products))])],1)]),r("span",{staticClass:"mr-10",staticStyle:{color:"#F59A23"},attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.$lang.product_link))])]),r("el-button",{staticStyle:{color:"#ee5186"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.deleteProduct(a.id)}}},[e._v(e._s(e.$lang.delete))])]]}}])})],1),r("el-dialog",{attrs:{title:e.addGroupForm.id?e.$lang.editing_group:e.$lang.the_new_grouping,visible:e.addGroupVis,"append-to-body":!0},on:{"update:visible":function(t){e.addGroupVis=t},open:e.getGroupDialogData,close:e.addGroupClose}},[r("el-form",{ref:"addGroupFormRef",attrs:{model:e.addGroupForm,"label-width":"auto",rules:e.addGroupFormRules}},[r("el-form-item",{attrs:{label:e.$lang.create_a_type,placeholder:e.$lang.please_choose}},[r("el-radio-group",{attrs:{size:"small"},on:{change:function(t){return e.handleCreateTypeChange("addGroupFormRef")}},model:{value:e.createType,callback:function(t){e.createType=t},expression:"createType"}},[r("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.$lang.commodity_grouping))]),r("el-radio",{attrs:{label:"2"}},[e._v(e._s(e.$lang.primary_group))])],1)],1),"1"===e.createType?r("div",[r("el-form-item",{attrs:{label:e.$lang.primary_group,prop:"gid",placeholder:e.$lang.please_choose}},[r("el-select",{attrs:{size:"small"},model:{value:e.addGroupForm.gid,callback:function(t){e.$set(e.addGroupForm,"gid",t)},expression:"addGroupForm.gid"}},e._l(e.firstGroups,(function(e,t){return r("el-option",{key:"firstgroup"+t,attrs:{value:e.id,label:e.name}})})),1)],1),r("el-form-item",{ref:"nameFormItem",attrs:{label:e.$lang.commodity_group_name,prop:"name"}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.please_enter_commodity_group_name},model:{value:e.addGroupForm.name,callback:function(t){e.$set(e.addGroupForm,"name",t)},expression:"addGroupForm.name"}})],1),r("el-form-item",{ref:"headlineFormItem",attrs:{label:e.$lang.commodity_group_title,prop:"headline"}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.commodity_group_title_pla},model:{value:e.addGroupForm.headline,callback:function(t){e.$set(e.addGroupForm,"headline",t)},expression:"addGroupForm.headline"}})],1),r("el-form-item",{ref:"taglineFormItem",attrs:{label:e.$lang.merchandise_group_slogan,prop:"tagline"}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.such_as},model:{value:e.addGroupForm.tagline,callback:function(t){e.$set(e.addGroupForm,"tagline",t)},expression:"addGroupForm.tagline"}})],1),r("el-form-item",{attrs:{label:e.$lang.access_to_the_alias,prop:"bm"}},[r("el-col",{attrs:{span:22}},[r("span",[e._v(" "+e._s(e.originUrl))]),r("el-input",{style:{width:"250px"},attrs:{size:"small",placeholder:e.$lang.please_enter_an_access_alias,clearable:""},on:{blur:e.bmVerify},model:{value:e.addGroupForm.alias,callback:function(t){e.$set(e.addGroupForm,"alias",t)},expression:"addGroupForm.alias"}}),r("span",{staticClass:"ml-10"},[e.bmVerifyLoding?r("i",{staticClass:"el-icon-loading"}):e._e(),this.addGroupForm.alias&&!e.bmVerifyLoding&&1===e.isUsed?r("el-tooltip",{attrs:{effect:"light",content:e.$lang.the_alias_available,placement:"right"}},[r("i",{staticClass:"el-icon-circle-check yes-icon"})]):e._e(),this.addGroupForm.alias&&!e.bmVerifyLoding&&0===e.isUsed?r("el-tooltip",{attrs:{effect:"light",content:e.$lang.alias_not_available,placement:"right"}},[r("i",{staticClass:"el-icon-circle-close no-icon"})]):e._e()],1)],1)],1),r("el-form-item",{attrs:{label:e.$lang.order_form_template_1}},[r("el-radio-group",{model:{value:e.addGroupForm.tpl_type,callback:function(t){e.$set(e.addGroupForm,"tpl_type",t)},expression:"addGroupForm.tpl_type"}},[r("el-radio",{attrs:{label:"default"}},[e._v(e._s(e.$lang.system_default))]),r("el-radio",{attrs:{label:"custom"}},[e._v(e._s(e.$lang.custom))])],1)],1),"custom"===e.addGroupForm.tpl_type?r("el-form-item",{attrs:{label:"",prop:"order_frm_tpl"}},[r("el-radio-group",{on:{change:e.photoListFunc},model:{value:e.addGroupForm.order_frm_tpl,callback:function(t){e.$set(e.addGroupForm,"order_frm_tpl",t)},expression:"addGroupForm.order_frm_tpl"}},e._l(e.cart_themes,(function(t,a){return r("el-radio",{key:a,attrs:{label:t}},[e._v(e._s(t))])})),1)],1):e._e()],1):e._e(),"2"===e.createType?r("div",[r("el-form-item",{key:"name",attrs:{label:e.$lang.grouping_name,prop:"name"}},[r("el-input",{attrs:{size:"small",placeholder:e.$lang.please_enter_commodity_group_name},model:{value:e.addGroupForm.name,callback:function(t){e.$set(e.addGroupForm,"name",t)},expression:"addGroupForm.name"}})],1)],1):e._e(),r("el-form-item",{attrs:{label:e.$lang.whether_to_hide}},[r("el-radio",{attrs:{label:1},model:{value:e.addGroupForm.hidden,callback:function(t){e.$set(e.addGroupForm,"hidden",t)},expression:"addGroupForm.hidden"}},[e._v(e._s(e.$lang.conceal))]),r("el-radio",{attrs:{label:0},model:{value:e.addGroupForm.hidden,callback:function(t){e.$set(e.addGroupForm,"hidden",t)},expression:"addGroupForm.hidden"}},[e._v(e._s(e.$lang.no_conceal))]),1===e.addGroupForm.hidden?r("div",{staticClass:"hideMsg"},[e._v(e._s(e.$lang.conceal_hint))]):e._e()],1),e.addGroupForm.id?r("el-form-item",{attrs:{label:e.$lang.visit_url}},[r("div",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.calcUrl(e.addGroupForm.id,e.addGroupForm.gid),expression:"calcUrl(addGroupForm.id,addGroupForm.gid)"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copySuc,expression:"copySuc",arg:"success"}]},[e._v(" "+e._s(e.calcUrl(e.addGroupForm.id,e.addGroupForm.gid))+" "),r("span",{staticClass:"urlCopy"},[r("i",{staticClass:"el-icon-copy-document"})])])]):e._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.editGroupSubmit}},[e._v(e._s(e.$lang.confirm))]),r("el-button",{attrs:{size:"small"},on:{click:e.groupDialogCancel}},[e._v(e._s(e.$lang.cancel))])],1)],1),r("ImportGoods")],1)},n=[],o=(r("4160"),r("b0c0"),r("ac1f"),r("841c"),r("1276"),r("159b"),r("5530")),i=(r("96cf"),r("1da1")),c=r("0085"),s=r("2118"),u=r("6a8e"),l=r("f421"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{visible:e.importdialogVisible,title:e.$lang.import_goods,width:"500px"},on:{"update:visible":function(t){e.importdialogVisible=t},close:e.close}},[r("el-form",{ref:"importForm",attrs:{model:e.formData,rules:e.rules,"label-width":"140px"}},[r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{xs:24}},[r("el-form-item",{attrs:{label:e.$lang.select_localg_rouping,prop:"grouping"}},[r("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.please_select_group,filterable:"",clearable:""},model:{value:e.formData.grouping,callback:function(t){e.$set(e.formData,"grouping",t)},expression:"formData.grouping"}},e._l(e.localGroupingList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),r("el-col",{attrs:{xs:24}},[e.id?e._e():r("el-form-item",{attrs:{label:e.$lang.select_the_upstream,prop:"upperReaches"}},[r("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.please_select_upstream,filterable:"",clearable:""},on:{change:e.upperReachesChange},model:{value:e.formData.upperReaches,callback:function(t){e.$set(e.formData,"upperReaches",t)},expression:"formData.upperReaches"}},e._l(e.upperReachesList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),r("el-col",{attrs:{xs:24}},[r("el-form-item",{attrs:{label:e.$lang.choose_upstream_products,prop:"commodity"}},[r("el-select",{style:{width:"100%"},attrs:{size:"small",multiple:"","collapse-tags":"",placeholder:e.$lang.please_select_goods,filterable:"",clearable:"",loading:e.optionLoading},model:{value:e.formData.commodity,callback:function(t){e.$set(e.formData,"commodity",t)},expression:"formData.commodity"}},e._l(e.commodityList,(function(t){return r("el-option-group",{key:t.id,attrs:{label:t.name}},e._l(t.products,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)})),1)],1)],1),r("el-col",{attrs:{xs:24}},[r("el-form-item",{attrs:{label:e.$lang.profit_percentage,prop:"percentage"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.profit_percentage)+" "),r("el-popover",{attrs:{placement:"top-start",title:"",width:"220",trigger:"hover"}},[r("el-row",[r("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.profit_arithmetic))])],1),r("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),r("el-input",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.please_enter_the_percentage_of_profit},model:{value:e.formData.percentage,callback:function(t){e.$set(e.formData,"percentage",e._n(t))},expression:"formData.percentage"}})],1)],1),r("el-col",{attrs:{xs:24}},[r("el-form-item",{attrs:{label:e.$lang.member_center_navigation_classification}},[r("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.please_select_member_center_navigation_classification,filterable:"",clearable:""},model:{value:e.formData.classification,callback:function(t){e.$set(e.formData,"classification",t)},expression:"formData.classification"}},e._l(e.classificationList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(t){e.importdialogVisible=!1}}},[e._v(e._s(e.$lang.cancel))]),r("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.currencyDiff}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1)},p=[],m=(r("4de4"),r("caad"),r("13d5"),r("a9e3"),r("2532"),r("b85c")),f=r("2909"),g={data:function(){return{id:this.$route.query.id,importdialogVisible:!1,btnLoading:!1,optionLoading:!1,formData:{grouping:"",upperReaches:"",commodity:[],percentage:"",classification:""},rules:{grouping:[{required:!0,message:this.$lang.please_select_group,trigger:"change"}],upperReaches:[{required:!0,message:this.$lang.please_select_upstream,trigger:"change"}],commodity:[{type:"array",required:!0,message:this.$lang.please_select_goods,trigger:"change"}],percentage:[{required:!0,message:this.$lang.please_enter_the_percentage_of_profit,trigger:"blur"},{pattern:/^([1-9]|[1-9]\d|100)$/,message:this.$lang.number1_100_tips}]},localGroupingList:[],upperReachesList:[],commodityList:[],classificationList:[],currencyForm:{currency:"",upstream_currency:"",rate:""}}},created:function(){var e=this,t=this;this.$eventBus.$on("importGoods",(function(r){e.importdialogVisible=r,e.getList(),t.$refs.importForm&&e.$refs.importForm.clearValidate()}))},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=13;break}return e.formData.upperReaches=e.id,e.optionLoading=!0,t.next=5,Object(c["k"])({id:e.formData.upperReaches});case 5:if(r=t.sent,e.optionLoading=!1,200==r.data.status){t.next=9;break}return t.abrupt("return",e.$message.error(r.data.msg));case 9:e.commodityList=r.data.data,e.currencyForm.currency=r.data.currency,e.currencyForm.upstream_currency=r.data.upstream_currency,e.currencyForm.rate=r.data.rate;case 13:e.getList();case 14:case"end":return t.stop()}}),t)})))()},methods:{close:function(){this.formData={grouping:"",upperReaches:"",commodity:[],percentage:"",classification:""},this.id&&(this.formData.upperReaches=this.id),this.importdialogVisible=!1,this.$refs.importForm.clearValidate()},currencyDiff:function(){var e=this;this.$refs.importForm.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=9;break}if(e.currencyForm.upstream_currency===e.currencyForm.currency){t.next=8;break}if(n=null===(a=e.upperReachesList.filter((function(t){return t.id===e.formData.upperReaches}))[0])||void 0===a?void 0:a.type,"v10"!==n){t.next=5;break}return t.abrupt("return",e.$message.error(e.$lang.local_currency_store_tips5));case 5:e.$confirm(e.$lang.local_currency_store_tips+"<br>"+e.$lang.local_currency_store_tips1+": <strong>"+e.currencyForm.currency+"</strong><br>"+e.$lang.local_currency_store_tips2+": <strong>"+e.currencyForm.upstream_currency+"</strong><br>"+e.$lang.local_currency_store_tips3+': <input id="rateInp" value="'+e.currencyForm.rate+'" type="number" autocomplete="off"></input><br>'+e.$lang.local_currency_store_tips4,e.$lang.hint,{confirmButtonText:e.$lang.confirm,cancelButtonText:e.$lang.cancel,type:"",dangerouslyUseHTMLString:!0}).then((function(){var t=document.getElementById("rateInp"),r=t.value;e.submitForm(r)})).catch((function(){})),t.next=9;break;case 8:e.submitForm();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},submitForm:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,i,s,u,l,d,p,g,_,b,h,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.btnLoading=!0,a=new FormData,n=t.commodityList.reduce((function(e,t){return e.push.apply(e,Object(f["a"])(t.products)),e}),[]),n.length>0&&n[0].module&&(o=n.filter((function(e){return t.formData.commodity.includes(e.id)})),o.forEach((function(e){a.append("type[".concat(e.id,"]"),e.module)}))),a.append("gid",t.formData.grouping),a.append("upstream_price_value",Number(t.formData.percentage)+100),a.append("ptype",t.formData.classification),a.append("zjmf_finance_api_id",t.formData.upperReaches),e&&a.append("rate",e),i=Object(m["a"])(t.formData.commodity);try{for(i.s();!(s=i.n()).done;){u=s.value,l=Object(m["a"])(t.commodityList);try{for(l.s();!(d=l.n()).done;){p=d.value,g=Object(m["a"])(p.products);try{for(g.s();!(_=g.n()).done;)b=_.value,b.id==u&&(h="productnames["+b.id+"]",a.append(h,b.name))}catch(v){g.e(v)}finally{g.f()}}}catch(v){l.e(v)}finally{l.f()}}}catch(v){i.e(v)}finally{i.f()}return r.next=13,Object(c["b"])(a);case 13:if(y=r.sent,t.btnLoading=!1,200==y.data.status){r.next=17;break}return r.abrupt("return",t.$message.error(y.data.msg));case 17:t.$message.success(y.data.msg),t.importdialogVisible=!1,t.$eventBus.$emit("commodity_List");case 20:case"end":return r.stop()}}),r)})))()},upperReachesChange:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commodityList=[],e.formData.commodity=[],e.optionLoading=!0,t.next=5,Object(c["k"])({id:e.formData.upperReaches});case 5:if(r=t.sent,e.optionLoading=!1,200==r.data.status){t.next=9;break}return t.abrupt("return",e.$message.error(r.data.msg));case 9:e.commodityList=r.data.data,e.currencyForm.currency=r.data.currency,e.currencyForm.upstream_currency=r.data.upstream_currency,e.currencyForm.rate=r.data.rate;case 13:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["g"])();case 2:if(r=t.sent,200==r.data.status){t.next=5;break}return t.abrupt("return",e.$message.error(r.data.msg));case 5:e.localGroupingList=r.data.data.groupdata,e.upperReachesList=r.data.data.apis,e.classificationList=r.data.data.ptype;case 8:case"end":return t.stop()}}),t)})))()}}},_=g,b=r("2877"),h=Object(b["a"])(_,d,p,!1,null,null,null),y=h.exports,v={components:{ImportGoods:y},data:function(){return{originUrl:"",id:this.$route.query.id,tableList:[],tableLoading:!1,search:{keywords:""},expandRows:[],addGroupVis:!1,addGroupForm:{type:1,name:"",headline:"",tagline:"",order_frm_tpl:void 0,tpl_type:"default",hidden:0,id:void 0,gid:void 0,alias:""},cart_themes:[],createType:"1",firstGroups:[],addGroupFormRules:{name:[{required:!0,message:this.$lang.please_enter_a_group_name,trigger:"blur"}],gid:[{required:!0,message:this.$lang.please_select_group,trigger:"change"}]},btnLoading:!1,bmVerifyLoding:!1,isUsed:null,baseAdd:sessionStorage.getItem("domain"),prefix:""}},created:function(){var e=this;this.$eventBus.$on("commodity_List",(function(){e.getData()}))},methods:{goimport:function(){this.$eventBus.$emit("importGoods",!0)},tableRowClassName:function(e){var t=e.row;e.rowIndex;if(!t.groups)return"not_first_group"},headerRowClassName:function(){return"hearder_row_class"},getData:function(){this.getlist()},calcUrl:function(e,t){var r=this.baseAdd+"/cart?",a="";return e&&(a+="gid="+e),t&&(a+=a?"&first_gid="+t:"first_gid="+t),r+a},bmVerify:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.addGroupForm.alias){t.next=10;break}return e.bmVerifyLoding=!0,r={},r="1"===e.createType?{alias:e.addGroupForm.alias,id:e.addGroupForm.id}:{alias:e.addGroupForm.alias},t.next=6,Object(u["a"])(r);case 6:a=t.sent,n=a.data,200!==n.status?e.$message.error(n.msg):(e.isUsed=n.data,e.bmVerifyLoding=!1),e.bmVerifyLoding=!1;case 10:case"end":return t.stop()}}),t)})))()},goToAddGroup:function(){this.originUrl=window.location.origin+"/buy/",this.addGroupVis=!0},getGroupDialogData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.addGroupForm.id){t.next=23;break}if("1"!==e.createType){t.next=13;break}return t.next=4,Object(l["w"])(e.addGroupForm.id);case 4:if(r=t.sent,a=r.data,200===a.status){t.next=8;break}return t.abrupt("return",!1);case 8:e.addGroupForm=a.data.productgroup,e.firstGroups=a.data.firstGroups,e.cart_themes=a.data.cart_themes,t.next=21;break;case 13:return t.next=15,Object(l["o"])({id:e.addGroupForm.id});case 15:if(n=t.sent,o=n.data,200===o.status){t.next=19;break}return t.abrupt("return",!1);case 19:e.addGroupForm.name=o.data.productfirstgroup.name,e.addGroupForm.hidden=o.data.productfirstgroup.hidden;case 21:t.next=32;break;case 23:return t.next=25,Object(l["w"])();case 25:if(i=t.sent,c=i.data,200===c.status){t.next=29;break}return t.abrupt("return",!1);case 29:e.firstGroups=c.data.firstGroups,e.addGroupForm.gid=c.data.firstGroups.length?c.data.firstGroups[0].id:void 0,e.cart_themes=c.data.cart_themes;case 32:case"end":return t.stop()}}),t)})))()},editGroupSubmit:function(){var e=this;this.$refs.addGroupFormRef.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var a,n,i,c,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",!1);case 2:if("1"!==e.createType){t.next=16;break}return"default"===e.addGroupForm.tpl_type&&(e.addGroupForm.order_frm_tpl="default"),e.btnLoading=!0,a=Object(o["a"])({},e.addGroupForm),e.$route.query.id&&(a.zjmf_api_id=e.$route.query.id),a.is_upstream=1,t.next=10,Object(l["p"])(a);case 10:n=t.sent,i=n.data,200!==i.status?e.$message.error(i.msg):(e.getData(),e.$message.success(i.msg),e.addGroupVis=!1),e.btnLoading=!1,t.next=26;break;case 16:return e.btnLoading=!0,c=Object(o["a"])({},e.addGroupForm),e.$route.query.id&&(c.zjmf_api_id=e.$route.query.id),c.is_upstream=1,t.next=22,Object(l["B"])(c);case 22:s=t.sent,u=s.data,200!==u.status?e.$message.error(u.msg):(e.getData(),e.$message.success(u.msg),e.addGroupVis=!1),e.btnLoading=!1;case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},groupDialogCancel:function(){this.addGroupVis=!1},addGroupClose:function(){this.addGroupForm.alias="",this.isUsed=null,this.bmVerifyLoding=!1,this.createType="1",this.addGroupForm.id=void 0,this.addGroupForm.name="",this.$refs.headlineFormItem.resetField(),this.$refs.taglineFormItem.resetField(),this.$refs.addGroupFormRef.clearValidate()},deleteProduct:function(e){var t=this;this.$confirm(this.$lang.delete_the_goods_confirm,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["m"])(e);case 2:a=r.sent,n=a.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getData());case 5:case"end":return r.stop()}}),r)})))).catch((function(){}))},getlist:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,o,i,u,l,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.$urlUpdate(t.search,location.href,t.$route.query),t.tableList=[],t.tableLoading=!0,a={keyword:t.search.keywords},t.id&&(a.id=t.id),r.next=7,Object(c["j"])(a);case 7:if(n=r.sent,t.tableLoading=!1,o=[],200==n.data.status){for(i in t.prefix=n.data.data.prefix,n.data.data.products){for(l in u={name:i,groups:[]},n.data.data.products[i])d={name:l,products:n.data.data.products[i][l]},u.groups.push(d);o.push(u)}o.forEach((function(r){r.children=r.groups,r.guid=Object(s["a"])(),t.expandRows.push(r.guid),(r.groups||[]).forEach((function(a){a.children=a.products,a.guid=Object(s["a"])(),(r.groups.length<=15||a.id===e)&&t.expandRows.push(a.guid),a.products.forEach((function(e){e.guid=Object(s["a"])()}))}))})),t.tableList=o}else t.tableLoading=!1,t.$message.error(n.data.msg);case 11:case"end":return r.stop()}}),r)})))()},handleCreateTypeChange:function(e){1==this.createType&&this.$refs[e].clearValidate("name")}},mounted:function(){var e=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;if(e)for(var t in JSON.parse(e))this.search[t]=JSON.parse(e)[t];this.getData()}},$=v,j=(r("03f5"),Object(b["a"])($,a,n,!1,null,"41f88a6a",null));t["a"]=j.exports},d58f:function(e,t,r){var a=r("1c0b"),n=r("7b0b"),o=r("44ad"),i=r("50c4"),c=function(e){return function(t,r,c,s){a(r);var u=n(t),l=o(u),d=i(u.length),p=e?d-1:0,m=e?-1:1;if(c<2)while(1){if(p in l){s=l[p],p+=m;break}if(p+=m,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=m)p in l&&(s=r(s,l[p],p,u));return s}};e.exports={left:c(!1),right:c(!0)}},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),o=r("56ef"),i=r("fc6a"),c=r("06cf"),s=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=i(e),n=c.f,u=o(a),l={},d=0;while(u.length>d)r=n(a,t=u[d++]),void 0!==r&&s(l,t,r);return l}})},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),o=r("fc6a"),i=r("06cf").f,c=r("83ab"),s=n((function(){i(1)})),u=!c||s;a({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return i(o(e),t)}})},f421:function(e,t,r){"use strict";r.d(t,"x",(function(){return n})),r.d(t,"w",(function(){return o})),r.d(t,"p",(function(){return i})),r.d(t,"l",(function(){return c})),r.d(t,"m",(function(){return s})),r.d(t,"s",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"t",(function(){return d})),r.d(t,"q",(function(){return p})),r.d(t,"h",(function(){return m})),r.d(t,"a",(function(){return f})),r.d(t,"k",(function(){return g})),r.d(t,"u",(function(){return _})),r.d(t,"F",(function(){return b})),r.d(t,"E",(function(){return h})),r.d(t,"z",(function(){return y})),r.d(t,"C",(function(){return v})),r.d(t,"y",(function(){return $})),r.d(t,"v",(function(){return j})),r.d(t,"A",(function(){return x})),r.d(t,"D",(function(){return w})),r.d(t,"o",(function(){return O})),r.d(t,"B",(function(){return k})),r.d(t,"i",(function(){return F})),r.d(t,"e",(function(){return G})),r.d(t,"d",(function(){return L})),r.d(t,"b",(function(){return D})),r.d(t,"j",(function(){return R})),r.d(t,"n",(function(){return z})),r.d(t,"r",(function(){return C})),r.d(t,"f",(function(){return S})),r.d(t,"g",(function(){return V}));var a=r("a27e");function n(e){return Object(a["a"])({url:"product_list_page",params:e})}function o(e){return Object(a["a"])({url:"edit_product_group_page",params:{id:e}})}function i(e){return Object(a["a"])({url:"save_product_group",method:"post",data:e})}function c(e){return Object(a["a"])({url:"del_product_group",params:{id:e}})}function s(e){return Object(a["a"])({url:"del_product",params:{id:e}})}function u(e){return Object(a["a"])({url:"add_product_page",params:e})}function l(e){return Object(a["a"])({url:"create_product",method:"post",data:e})}function d(e){return Object(a["a"])({url:"edit_product_page/".concat(e)})}function p(e){return Object(a["a"])({url:"edit_product",method:"post",data:e})}function m(e){return Object(a["a"])({url:"product_duplicate",method:"post",data:e})}function f(e){return Object(a["a"])({url:"product_downloadcats",method:"post",data:e})}function g(e){return Object(a["a"])({url:"product_del_custom",method:"post",data:e})}function _(e){return Object(a["a"])({url:"provision/".concat(e)})}function b(e){return Object(a["a"])({url:"update_productsort",method:"post",data:e})}function h(e){return Object(a["a"])({url:"update_groupsort",method:"post",data:e})}function y(e){return Object(a["a"])({url:"get_upstream_products",params:e})}function v(e){return Object(a["a"])({url:"product/sync_product_info",method:"post",data:e})}function $(e){return Object(a["a"])({url:"product/get_upstream_price",params:e})}function j(e){return Object(a["a"])({url:"product_selectcates",params:{productid:e}})}function x(e){return Object(a["a"])({url:"product_manage_downloads",method:"post",data:e})}function w(e){return Object(a["a"])({url:"update_firstgroupsort",method:"post",data:e})}function O(e){return Object(a["a"])({url:"edit_product_first_group_page",params:e})}function k(e){return Object(a["a"])({url:"save_product_first_group",method:"post",data:e})}function F(e){return Object(a["a"])({url:"del_product_first_group",params:e})}function G(e){return Object(a["a"])({url:"advanced_options/page",params:e})}function L(e){return Object(a["a"])({url:"advanced_options/create",method:"post",data:e})}function D(e){return Object(a["a"])({url:"advanced_options/addcondition",method:"post",data:e})}function R(e){return Object(a["a"])({url:"advanced_options/deletecondition",method:"delete",params:e})}function z(e){return Object(a["a"])({url:"advanced_options/deleteresult",method:"delete",params:e})}function C(e){return Object(a["a"])({url:"edit_stock",method:"post",data:e})}function S(){return Object(a["a"])({url:"options/config_options_check_os"})}function V(e){return Object(a["a"])({url:"options/config_options_check_os/".concat(e),method:"post"})}},fb6a:function(e,t,r){"use strict";var a=r("23e7"),n=r("861d"),o=r("e8b5"),i=r("23cb"),c=r("50c4"),s=r("fc6a"),u=r("8418"),l=r("b622"),d=r("1dde"),p=r("ae40"),m=d("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),g=l("species"),_=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!m||!f},{slice:function(e,t){var r,a,l,d=s(this),p=c(d.length),m=i(e,p),f=i(void 0===t?p:t,p);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[g],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return _.call(d,m,f);for(a=new(void 0===r?Array:r)(b(f-m,0)),l=0;m<f;m++,l++)m in d&&u(a,l,d[m]);return a.length=l,a}})}}]);