(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddServer~31ecd969"],{"1f7a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("h2",[e._v(e._s(e.id?e.$lang.edit_interface:e.$lang.add_an_interface))]),a("el-divider"),a("el-row",{staticClass:"topform_wrap pb-20"},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,"label-width":"114px","label-position":"top"}},[a("el-form-item",{attrs:{label:e.$lang.name,prop:"name"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.enter_interface_name,clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:e.$lang.ip_address,prop:"ip_address"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.please_enter_ip_address_or_domain_name,clearable:""},model:{value:e.formData.ip_address,callback:function(t){e.$set(e.formData,"ip_address",t)},expression:"formData.ip_address"}})],1),a("el-form-item",{attrs:{label:e.$lang.host_name,prop:"hostname"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.enter_host_name,clearable:""},model:{value:e.formData.hostname,callback:function(t){e.$set(e.formData,"hostname",t)},expression:"formData.hostname"}})],1),a("el-form-item",{attrs:{label:e.$lang.interface,prop:"gid"}},[a("el-select",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.select_the_interface,clearable:""},model:{value:e.formData.gid,callback:function(t){e.$set(e.formData,"gid",t)},expression:"formData.gid"}},e._l(e.gidOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:e.$lang.user_name,prop:"username"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.please_enter_user_name,clearable:""},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),a("el-form-item",{attrs:{label:e.$lang.password,prop:"password"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.enter_password,clearable:"","show-password":""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),a("el-form-item",{attrs:{label:e.$lang.port,prop:"port"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",placeholder:e.$lang.please_enter_port,clearable:""},model:{value:e.formData.port,callback:function(t){e.$set(e.formData,"port",t)},expression:"formData.port"}})],1),a("el-form-item",{attrs:{label:"SSL",prop:"secure"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":e.$lang.select_check_use_SSL},model:{value:e.formData.secure,callback:function(t){e.$set(e.formData,"secure",t)},expression:"formData.secure"}})],1),a("el-form-item",{attrs:{label:e.$lang.enable_disable,prop:"disabled"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":e.$lang.check_disable_interface},model:{value:e.formData.disabled,callback:function(t){e.$set(e.formData,"disabled",t)},expression:"formData.disabled"}})],1),a("el-form-item",{attrs:{label:"Hash",prop:"accesshash"}},[a("el-input",{style:{width:"260px"},attrs:{size:"small",type:"textarea",placeholder:e.$lang.enter_Hash,autosize:{minRows:5,maxRows:5}},model:{value:e.formData.accesshash,callback:function(t){e.$set(e.formData,"accesshash",t)},expression:"formData.accesshash"}})],1)],1)],1),a("div",{staticClass:"bottomOperationAdd"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$lang.submit))]),a("el-button",{attrs:{size:"small"},on:{click:e.goBack}},[e._v(e._s(e.$lang.get_back))]),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v(e._s(e.$lang.reset))])],1)],1)},s=[],n=(a("c975"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("96cf"),a("1da1")),i=a("bdf0"),o={metaInfo:{title:window.zjmf_cw_lang.add_an_interface},data:function(){var e=this,t=function(t,a,r){-1!==a.indexOf("http")?r(new Error(e.$lang.enter_domain_name)):r()};return{id:this.$route.query.id,formData:{name:void 0,ip_address:void 0,assigned_ips:void 0,hostname:void 0,gid:void 0,noc:"",status_address:void 0,username:void 0,password:void 0,disabled:!1,accesshash:void 0,port:80,secure:0},rules:{name:[{required:!0,message:this.$lang.enter_interface_name,trigger:"blur"}],ip_address:[{required:!0,message:this.$lang.please_enter_ip_address_or_domain_name,trigger:"blur"},{trigger:"blur",validator:t}],assigned_ips:[],hostname:[{required:!1,message:this.$lang.enter_host_name,trigger:"blur"}],gid:[{required:!0,message:this.$lang.select_the_interface,trigger:"change"}],accountNum:[],status_address:[],username:[{required:!1,message:this.$lang.please_enter_user_name,trigger:"blur"}],password:[],disabled:[],serviceType:[],accesshash:[],port:[{required:!1,message:this.$lang.please_enter_port,trigger:"blur"}],secure:[]},nocAction:this.$baseUrl+"/upload_image",gidOptions:[],serviceTypeOptions:[{label:this.$lang.option_a,value:1},{label:this.$lang.option_b,value:2}],secureOptions:[{label:this.$lang.select_check_use_SSL,value:1}],imageUrl:""}},methods:{getDetail:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.id||void 0===e.id){t.next=8;break}return t.next=3,Object(i["m"])(e.id);case 3:a=t.sent,r=a.data,e.formData=r.server,e.formData.password=e.formData.password.toString(),e.imageUrl=r.server.noc;case 8:case"end":return t.stop()}}),t)})))()},addServerInit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["c"])();case 2:a=t.sent,e.gidOptions=a.data.groups;case 4:case"end":return t.stop()}}),t)})))()},nocSuccess:function(e,t,a){if(200!==e.status)return this.$message.error(this.$lang.upload_avatar_fail),!1;this.formData.noc=e.savename,this.imageUrl=e.tmp},secureChange:function(e){this.formData.port=e?443:80},submitForm:function(){var e=this;this.$refs.elForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return t.abrupt("return",!1);case 4:if(""===e.id||void 0===e.id){t.next=13;break}return e.formData.id=e.id,t.next=8,Object(i["h"])(e.formData);case 8:r=t.sent,s=r.data,200!==s.status?e.$message.error(s.msg):(e.$message.success(s.msg),e.$router.go(-1)),t.next=18;break;case 13:return t.next=15,Object(i["d"])(e.formData);case 15:n=t.sent,o=n.data,200!==o.status?e.$message.error(o.msg):(e.$message.success(o.msg),e.$router.go(-1));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(){this.$refs.elForm.resetFields()},goBack:function(){this.$router.go(-1)},nocBeforeUpload:function(e){var t=e.size/1024/1024<2;t||this.$message.error(this.$lang.upload_exceed_2);var a=new RegExp("image/*").test(e.type);return a||this.$message.error(this.$lang.selecte_image_file),t&&a}},mounted:function(){this.getDetail(),this.addServerInit()}},l=o,c=(a("4764"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,"3d5cd214",null);t["default"]=u.exports},4764:function(e,t,a){"use strict";var r=a("7380"),s=a.n(r);s.a},"4d63":function(e,t,a){var r=a("83ab"),s=a("da84"),n=a("94ca"),i=a("7156"),o=a("9bf2").f,l=a("241c").f,c=a("44e7"),u=a("ad6d"),d=a("9f7f"),m=a("6eeb"),p=a("d039"),f=a("69f3").set,g=a("2626"),_=a("b622"),h=_("match"),b=s.RegExp,v=b.prototype,$=/a/g,w=/a/g,x=new b($)!==$,D=d.UNSUPPORTED_Y,k=r&&n("RegExp",!x||D||p((function(){return w[h]=!1,b($)!=$||b(w)==w||"/a/i"!=b($,"i")})));if(k){var O=function(e,t){var a,r=this instanceof O,s=c(e),n=void 0===t;if(!r&&s&&e.constructor===O&&n)return e;x?s&&!n&&(e=e.source):e instanceof O&&(n&&(t=u.call(e)),e=e.source),D&&(a=!!t&&t.indexOf("y")>-1,a&&(t=t.replace(/y/g,"")));var o=i(x?new b(e,t):b(e,t),r?this:v,O);return D&&a&&f(o,{sticky:a}),o},j=function(e){e in O||o(O,e,{configurable:!0,get:function(){return b[e]},set:function(t){b[e]=t}})},y=l(b),z=0;while(y.length>z)j(y[z++]);v.constructor=O,O.prototype=v,m(s,"RegExp",O)}g("RegExp")},7380:function(e,t,a){},bdf0:function(e,t,a){"use strict";a.d(t,"n",(function(){return s})),a.d(t,"g",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"m",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"j",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"a",(function(){return g})),a.d(t,"k",(function(){return _})),a.d(t,"e",(function(){return h})),a.d(t,"l",(function(){return b}));var r=a("a27e");function s(e,t,a,s){return Object(r["a"])({url:"servers_list",params:{limit:e,page:t,search:a,gid:s}})}function n(e){return Object(r["a"])({url:"delete_servers/".concat(e)})}function i(){return Object(r["a"])({url:"servers_add"})}var o={headers:{"Content-Type":"multipart/form-data"}};function l(e){return Object(r["a"])({url:"servers_add_post",method:"post",data:e,config:o})}function c(e){return Object(r["a"])({url:"edit_servers/".concat(e),method:"get"})}function u(e){return Object(r["a"])({url:"delete_server_groups/".concat(e)})}function d(e){return Object(r["a"])({url:"edit_server_groups/".concat(e)})}function m(e){return Object(r["a"])({url:"create_groups_post",method:"post",data:e})}function p(e){return Object(r["a"])({url:"edit_server_groups_post",method:"post",data:e})}function f(e){return Object(r["a"])({url:"edit_servers_post",method:"post",data:e})}function g(e){return Object(r["a"])({url:"server_test_link/".concat(e)})}function _(e,t){return Object(r["a"])({url:"groups_list",params:{limit:e,page:t}})}function h(e){return Object(r["a"])({url:"create_groups"})}function b(e){return Object(r["a"])({url:"get_modules_group",method:"post",data:e})}}}]);