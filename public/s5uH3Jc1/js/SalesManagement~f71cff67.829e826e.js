(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SalesManagement~f71cff67"],{6654:function(e,t,a){"use strict";var r=a("bb4c"),s=a.n(r);s.a},"8de4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sales"},[a("h5",{staticClass:"mt-0"},[e._v(" "+e._s(e.$lang.set_product_commission_ratio)+" "),a("el-link",{attrs:{type:"primary",href:"https://www.idcsmart.com/wiki_list/660.html",target:"blank"}},[e._v(e._s(e.$lang.help_document))])],1),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$lang.commodity_commission,name:"grouping"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.commodity_commission)+" "),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.divid_same_group))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("div",{staticClass:"title"},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.addGroup}},[e._v(e._s(e.$lang.add_a_group))])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.load_data)+" ")]):e._e(),e.tableData.length||e.tableLoading?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"group_name",label:e.$lang.group_name}}),a("el-table-column",{attrs:{prop:"bates",label:e.$lang.new_purchase_commission_ratio,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(" "+e._s(r.bates)+"% ")])]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.new_purchase_commission_ratio))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.proportion_will_calculat))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"bates",label:e.$lang.renewal_royalty_ratio,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(" "+e._s(r.renew_bates)+"% ")])]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.renewal_royalty_ratio))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.renewal_will_calculated))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"bates",label:e.$lang.promotion_and_demotion,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(" "+e._s(r.upgrade_bates)+"% ")])]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.promotion_and_demotion))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.downgrade_will_calculat))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"is_renew",label:e.$lang.include_renewal_calculation,align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[1===t.is_renew?a("i",{staticClass:"el-icon-circle-check yes-icon "}):a("i",{staticClass:"el-icon-circle-close no-icon"})]}}])}),a("el-table-column",{attrs:{prop:"updategrade",label:e.$lang.calculate_promotion_and_demotion,align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[1===t.updategrade?a("i",{staticClass:"el-icon-circle-check yes-icon "}):a("i",{staticClass:"el-icon-circle-close no-icon"})]}}])}),a("el-table-column",{attrs:{label:e.$lang.operation,width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.editRow(r)}}},[e._v(e._s(e.$lang.edit)+" ")]),a("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteRow(r)}}},[e._v(e._s(e.$lang.delete)+" ")])]}}])})],1),a("el-pagination",{staticClass:"mt-10",attrs:{"current-page":e.currentPage,"page-sizes":[10,15,20,25,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.currentChange}}),a("el-dialog",e._g(e._b({attrs:{visible:e.dialogVis,title:e.isAdd?e.$lang.add:e.$lang.modify},on:{opened:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,"label-width":"107px"}},[a("el-col",{attrs:{span:23}},[a("el-row",[a("el-col",{staticStyle:{display:"none"},attrs:{span:24}},[a("el-form-item",{attrs:{label:"ID",prop:"id"}},[a("el-input",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.enter_ID,clearable:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$lang.group_name,prop:"group_name"}},[a("el-input",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.enter_a_group_name,clearable:""},model:{value:e.formData.group_name,callback:function(t){e.$set(e.formData,"group_name",t)},expression:"formData.group_name"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$lang.new_order_ratio,prop:"bates"}},[a("div",{staticClass:"limit"},[a("el-input-number",{style:{width:"100%"},attrs:{size:"small",min:1,max:100,precision:2,placeholder:e.$lang.enter_scale,controls:!1,clearable:""},model:{value:e.formData.bates,callback:function(t){e.$set(e.formData,"bates",t)},expression:"formData.bates"}}),a("div",{staticClass:"percentage"},[e._v("%")])],1)])],1),e.formData.is_renew?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$lang.proportion_of_renewal,prop:"renew_bates"}},[a("div",{staticClass:"limit"},[a("el-input-number",{style:{width:"100%"},attrs:{size:"small",min:1,max:100,precision:2,placeholder:e.$lang.enter_scale,controls:!1,clearable:""},model:{value:e.formData.renew_bates,callback:function(t){e.$set(e.formData,"renew_bates",t)},expression:"formData.renew_bates"}}),a("div",{staticClass:"percentage"},[e._v("%")])],1)])],1):e._e(),e.formData.updategrade?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$lang.promotion_and_demotion_ratio,prop:"upgrade_bates"}},[a("div",{staticClass:"limit"},[a("el-input-number",{style:{width:"100%"},attrs:{size:"small",min:1,max:100,precision:2,placeholder:e.$lang.enter_scale,controls:!1,clearable:""},model:{value:e.formData.upgrade_bates,callback:function(t){e.$set(e.formData,"upgrade_bates",t)},expression:"formData.upgrade_bates"}}),a("div",{staticClass:"percentage"},[e._v("%")])],1)])],1):e._e(),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$lang.include_renewal_calculation,prop:"is_renew",required:""}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.is_renew,callback:function(t){e.$set(e.formData,"is_renew",t)},expression:"formData.is_renew"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$lang.calculate_promotion_and_demotion,prop:"updategrade",required:""}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.updategrade,callback:function(t){e.$set(e.formData,"updategrade",t)},expression:"formData.updategrade"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$lang.product_set,prop:"pids"}},[a("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.select_product_keyword,clearable:"",multiple:"",filterable:""},model:{value:e.formData.pids,callback:function(t){e.$set(e.formData,"pids",t)},expression:"formData.pids"}},e._l(e.pidsOptions,(function(t){return a("el-option-group",{key:t.id,attrs:{label:t.name}},e._l(t.children,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)})),1)],1)],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v(e._s(e.$lang.cancel))]),a("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.handelConfirm}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1),a("el-tab-pane",{attrs:{label:e.$lang.ladder_set,name:"ladder"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.ladder_set)+" "),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.sales_reach_turnover_X))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("div",{staticClass:"title"},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.addLadder}},[e._v(e._s(e.$lang.add_ladder))])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData02}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData02.length&&e.tableLoading02?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.load_data)+" ")]):e._e(),e.tableData02.length||e.tableLoading02?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"turnover",label:e.$lang.turnover}},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.turnover))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.under_sale_name))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"bates",label:e.$lang.additional_commission_incentive},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(" "+e._s(r.bates)+"% ")])]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.additional_commission_incentive))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.set_percentage))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{label:e.$lang.operation,width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.editRow02(r)}}},[e._v(e._s(e.$lang.edit)+" ")]),a("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteRow02(r)}}},[e._v(e._s(e.$lang.delete)+" ")])]}}])})],1),a("el-pagination",{staticClass:"mt-10",attrs:{"current-page":e.currentPage02,"page-sizes":[10,15,20,25,50,100],"page-size":e.limit02,layout:"total, sizes, prev, pager, next, jumper",total:e.total02},on:{"size-change":e.handleSizeChange02,"current-change":e.currentChange02}}),a("el-dialog",e._g(e._b({attrs:{visible:e.ladderVis,title:e.isLadderAdd?e.$lang.add:e.$lang.modify},on:{open:e.onLadderOpen,close:e.onLadderClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elLadderForm",attrs:{model:e.ladderFormData,rules:e.addRules,"label-width":"107px"}},[a("el-col",{attrs:{span:22}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$lang.turnover,prop:"turnover"}},[a("el-input-number",{style:{width:"100%"},attrs:{size:"small",min:1,max:9999999,precision:2,controls:!1,placeholder:e.$lang.enter_turnover_tips_text,clearable:""},model:{value:e.ladderFormData.turnover,callback:function(t){e.$set(e.ladderFormData,"turnover",t)},expression:"ladderFormData.turnover"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$lang.additional_commission_incentive,prop:"bates"}},[a("div",{staticClass:"limit"},[a("el-input-number",{style:{width:"100%"},attrs:{size:"small",precision:2,min:0,max:100,controls:!1,placeholder:e.$lang.enter_additional_commission_incentive,clearable:""},model:{value:e.ladderFormData.bates,callback:function(t){e.$set(e.ladderFormData,"bates",t)},expression:"ladderFormData.bates"}}),a("div",{staticClass:"percentage"},[e._v("%")])],1)])],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.ladderclose}},[e._v(e._s(e.$lang.cancel))]),a("el-button",{attrs:{size:"small",type:"primary",loading:e.btnLoading},on:{click:e.handelLadderConfirm}},[e._v(e._s(e.$lang.confirm))])],1)],1)],1),a("el-tab-pane",{attrs:{label:e.$lang.worker_set,name:"personSet"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$lang.worker_set)+" "),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.give_permission))]),a("el-col",{staticClass:"tar",attrs:{span:24}},[a("router-link",{attrs:{to:{path:"/admin-management"},target:"_blank"}},[a("el-link",{attrs:{type:"primary"}},[e._v(e._s(e.$lang.inbound_personnel_setup))])],1)],1)],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("el-table",{attrs:{data:e.tableData03}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData03.length&&e.tableLoading03?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.load_data)+" ")]):e._e(),e.tableData03.length||e.tableLoading03?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"user_nickname",label:e.$lang.real_user_name}}),a("el-table-column",{attrs:{prop:"user_email",label:e.$lang.email}}),a("el-table-column",{attrs:{prop:"user_login",label:e.$lang.user_name}}),a("el-table-column",{attrs:{prop:"role",label:e.$lang.admin_group}}),a("el-table-column",{attrs:{prop:"is_sale",label:e.$lang.is_sale,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(t){return e.changeSettings(r)}},model:{value:r.is_sale,callback:function(t){e.$set(r,"is_sale",t)},expression:"row.is_sale"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.is_sale))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"auto",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.set_admin))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"sale_is_use",label:e.$lang.optional_place_order,align:"center",width:"125"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:!Boolean(r.is_sale)},on:{change:function(t){return e.changeSettings(r)}},model:{value:r.sale_is_use,callback:function(t){e.$set(r,"sale_is_use",t)},expression:"row.sale_is_use"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.optional_place_order))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.user_choose_salesperson))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"only_mine",label:e.$lang.only_view_your_customer,width:"165",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:!Boolean(r.is_sale)},on:{change:function(t){return e.changeSettings(r)}},model:{value:r.only_mine,callback:function(t){e.$set(r,"only_mine",t)},expression:"row.only_mine"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.only_view_your_customer))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.sale_customer_only_view))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"cat_ownerless",label:e.$lang.unassign_customer_visible,width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:!Boolean(r.is_sale)},on:{change:function(t){return e.changeSettings(r)}},model:{value:r.cat_ownerless,callback:function(t){e.$set(r,"cat_ownerless",t)},expression:"row.cat_ownerless"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.unassign_customer_visible))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.open_unassociated_sale))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"all_sale",label:e.$lang.look_performance,align:"center",width:"145"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:!Boolean(r.is_sale)},on:{change:function(t){return e.changeSettings(r)}},model:{value:r.all_sale,callback:function(t){e.$set(r,"all_sale",t)},expression:"row.all_sale"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.look_performance))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.open_view_information))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2),a("el-table-column",{attrs:{prop:"only_oneself_notice",label:e.$lang.only_own_work_reminder,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:!Boolean(r.is_sale)},on:{change:function(t){return e.changeSettings(r)}},model:{value:r.only_oneself_notice,callback:function(t){e.$set(r,"only_oneself_notice",t)},expression:"row.only_oneself_notice"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"mr-5"},[e._v(e._s(e.$lang.only_own_work_reminder))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.$lang.only_receive_work_order))])],1),a("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2)],1),a("el-pagination",{staticClass:"mt-10",attrs:{"current-page":e.currentPage03,"page-sizes":[10,15,20,25,50,100],"page-size":e.limit03,layout:"total, sizes, prev, pager, next, jumper",total:e.total03},on:{"size-change":e.handleSizeChange03,"current-change":e.currentChange03}})],1),a("el-tab-pane",{attrs:{label:e.$lang.set_up,name:"settings"}},[a("el-form",{ref:"settingsForm",attrs:{model:e.settingsFormData,rules:e.settingsRules,size:"small","label-width":"auto"}},[a("el-form-item",{attrs:{label:e.$lang.order_sale_distribution}},[a("el-select",{style:{width:"260px"},attrs:{placeholder:e.$lang.select_allocation_logic},model:{value:e.settingsFormData.sale_setting,callback:function(t){e.$set(e.settingsFormData,"sale_setting",t)},expression:"settingsFormData.sale_setting"}},e._l(e.sale_settingOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("el-form-item",{attrs:{label:e.$lang.register_sale_allocation}},[a("el-select",{style:{width:"260px"},attrs:{placeholder:e.$lang.select_allocation_logic},model:{value:e.settingsFormData.sale_reg_setting,callback:function(t){e.$set(e.settingsFormData,"sale_reg_setting",t)},expression:"settingsFormData.sale_reg_setting"}},e._l(e.sale_settingOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("el-form-item",{attrs:{label:e.$lang.automatic_allocation_logic}},[a("el-select",{style:{width:"260px"},attrs:{placeholder:e.$lang.select_allocation_logic},model:{value:e.settingsFormData.sale_auto_setting,callback:function(t){e.$set(e.settingsFormData,"sale_auto_setting",t)},expression:"settingsFormData.sale_auto_setting"}},e._l(e.sale_auto_settingOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("el-form-item",[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$lang.submit))])],1)],1)],1)],1)],1)],1)},s=[],n=(a("a9e3"),a("96cf"),a("1da1")),l=a("a27e");function i(e,t,a,r,s,n){return Object(l["a"])({url:"salegroup",params:{page:e,limit:t,order:a,sort:r,group_name:s,bates:n}})}function o(e){return Object(l["a"])({url:"sale/edit_salegrouppage",params:{id:e}})}function c(){return Object(l["a"])({url:"sale/add_salegrouppage"})}function u(e){return Object(l["a"])({url:"sale/edit_salegroup",method:"post",data:e})}function d(e){return Object(l["a"])({url:"sale/add_salegroup",method:"post",data:e})}function g(e){return Object(l["a"])({url:"sale/del_salegroup",params:{id:e}})}function p(e,t,a,r){return Object(l["a"])({url:"saleladder",params:{page:e,limit:t,order:a,sort:r}})}function m(e){return Object(l["a"])({url:"sale/del_saleladder",params:{id:e}})}function _(e){return Object(l["a"])({url:"sale/add_saleladder",method:"post",data:e})}function b(e){return Object(l["a"])({url:"sale/edit_saleladderpage",params:{id:e}})}function f(e){return Object(l["a"])({url:"sale/edit_saleladder",method:"post",data:e})}function v(e,t,a){return Object(l["a"])({url:"sale/adminlist",params:{page:e,limit:t,search:a}})}function h(e){return Object(l["a"])({url:"sale/edit_adminlist",method:"post",data:e})}function w(e){return Object(l["a"])({url:"sale/sale_enble",method:"post",data:e})}function $(){return Object(l["a"])({url:"sale/get_sale_enble"})}var k={metaInfo:{title:window.zjmf_cw_lang.sales_settings},data:function(){return{tableLoading03:!1,tableLoading02:!1,tableLoading:!1,labelWidth:window.document.body.clientWidth>768?"130px":null,settingsFormData:{sale_setting:void 0,sale_reg_setting:void 0,sale_auto_setting:void 0},settingsRules:{},activeName:"grouping",toData:[],title:[this.$lang.our_product,this.$lang.product_of_choice],dialogVis:!1,ladderVis:!1,isEdit:!1,isAdd:!1,isLadderEdit:!1,isLadderAdd:!1,tableData:[],tableData02:[],tableData03:[],total:0,limit:Number(localStorage.getItem("limit"))||50,currentPage:1,total02:0,limit02:50,currentPage02:1,total03:0,limit03:50,currentPage03:1,formData:{id:void 0,group_name:void 0,bates:void 0,renew_bates:void 0,upgrade_bates:void 0,is_renew:!1,updategrade:!1,pids:[]},ladderFormData:{turnover:void 0,bates:void 0,is_flag:!1},defaultProps:{label:"name",children:"children"},rules:{id:[],group_name:[{required:!0,message:this.$lang.enter_a_group_name,trigger:"blur"}],bates:[{required:!0,message:this.$lang.enter_scale,trigger:"blur"}],pids:[{required:!0,message:this.$lang.select_a_product_set,trigger:"change"}]},addRules:{turnover:[{required:!0,message:this.$lang.enter_turnover,trigger:"blur"}],bates:[{required:!0,message:this.$lang.enter_commission,trigger:"blur"}]},pidsOptions:[],btnLoading:!1,sale_settingOptions:[{label:this.$lang.not_assign,value:"0"},{label:this.$lang.system_automatic_allocation,value:"1"},{label:this.$lang.customer_choose,value:"2"}],sale_auto_settingOptions:[{label:this.$lang.random_assign,value:"1"},{label:this.$lang.circulation_distribution,value:"2"}]}},methods:{getFourTabsData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$();case 2:a=t.sent,r=a.data,e.settingsFormData=r.data.config_value;case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;this.$refs.settingsForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,w(e.settingsFormData);case 4:r=t.sent,s=r.data,200!==s.status?e.$message.error(s.msg):(e.$message.success(s.msg),e.getFourTabsData());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading=!0,t.next=3,i(e.currentPage,e.limit);case 3:a=t.sent,r=a.data,200!==r.status?e.$message.error(r.msg):(e.total=r.total,e.tableData=r.list),e.tableLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},getLadder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading02=!0,t.next=3,p(e.currentPage02,e.limit02);case 3:if(a=t.sent,r=a.data,200===r.status){t.next=9;break}return e.$message.error(r.msg),e.tableLoading02=!1,t.abrupt("return");case 9:e.tableLoading02=!1,e.tableData02=r.list,e.total02=r.total;case 12:case"end":return t.stop()}}),t)})))()},getSetting:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading03=!0,t.next=3,v(e.currentPage03,e.limit03);case 3:if(a=t.sent,r=a.data,200===r.status){t.next=9;break}return e.$message.error(r.msg),e.tableLoading03=!1,t.abrupt("return");case 9:e.tableLoading03=!1,e.tableData03=r.list,e.total03=r.count;case 12:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.limit=e,a.next=3,i(t.currentPage,t.limit);case 3:if(r=a.sent,s=r.data,200===s.status){a.next=8;break}return t.$message.error(s.msg),a.abrupt("return");case 8:t.total=s.total,t.tableData=s.list;case 10:case"end":return a.stop()}}),a)})))()},currentChange:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentPage=e,a.next=3,i(t.currentPage,t.limit);case 3:if(r=a.sent,s=r.data,200===s.status){a.next=8;break}return t.$message.error(t.$lang.something_error),a.abrupt("return");case 8:t.total=s.total,t.tableData=s.list;case 10:case"end":return a.stop()}}),a)})))()},handleSizeChange02:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.limit02=e,a.next=3,p(t.currentPage02,t.limit02);case 3:if(r=a.sent,s=r.data,200===s.status){a.next=8;break}return t.$message.error(s.msg),a.abrupt("return");case 8:t.total02=s.total,t.tableData02=s.list;case 10:case"end":return a.stop()}}),a)})))()},currentChange02:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentPage02=e,a.next=3,p(t.currentPage02,t.limit02);case 3:if(r=a.sent,s=r.data,200===s.status){a.next=8;break}return t.$message.error(t.$lang.something_error),a.abrupt("return");case 8:t.total02=s.total,t.tableData02=s.list;case 10:case"end":return a.stop()}}),a)})))()},handleSizeChange03:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.limit03=e,a.next=3,v(t.currentPage03,t.limit03);case 3:r=a.sent,s=r.data,200!==s.status&&t.$message.error(s.msg),t.total03=s.count,t.tableData03=s.list;case 8:case"end":return a.stop()}}),a)})))()},currentChange03:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentPage03=e,a.next=3,v(t.currentPage03,t.limit03);case 3:if(r=a.sent,s=r.data,200===s.status){a.next=8;break}return t.$message.error(t.$lang.something_error),a.abrupt("return");case 8:t.total03=s.count,t.tableData03=s.list;case 10:case"end":return a.stop()}}),a)})))()},editRow:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isEdit=!0,t.isAdd=!1,t.dialogVis=!0,a.next=5,o(e.id);case 5:if(r=a.sent,s=r.data,200===s.status){a.next=10;break}return t.$message.error(s.msg),a.abrupt("return",!1);case 10:t.pidsOptions=s.data.group,t.formData=s.data.spg;case 12:case"end":return a.stop()}}),a)})))()},deleteRow:function(e){var t=this;this.$confirm(this.$lang.group_will_delete,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then((function(){g(e.id).then((function(e){200!==e.data.status?t.$message.error(e.data.msg):(t.$message.success(t.$lang.group_deleted),t.getData())}))})).catch((function(){}))},editRow02:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isLadderEdit=!0,t.isAdd=!1,t.ladderVis=!0,a.next=5,b(e.id);case 5:if(r=a.sent,s=r.data,200===s.status){a.next=10;break}return t.$message.error(s.msg),a.abrupt("return");case 10:t.ladderFormData=s.data.ladder;case 11:case"end":return a.stop()}}),a)})))()},deleteRow02:function(e){var t=this;this.$confirm(this.$lang.ladder_will_delete,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then((function(){m(e.id).then((function(e){200!==e.data.status?t.$message.error(e.data.msg):(t.$message.success(t.$lang.ladder_delete),t.getLadder())}))})).catch((function(){}))},onOpen:function(){this.isAdd&&(this.$refs.elForm.resetFields(),this.formData.renew_bates=void 0,this.formData.upgrade_bates=void 0)},onClose:function(){this.$refs.elForm.clearValidate(),this.dialogVis=!1,this.isEdit=!1,this.isAdd=!1,this.pidsOptions=[]},close:function(){this.$emit("update:visible",!1),this.dialogVis=!1,this.isEdit=!1,this.isAdd=!1,this.pidsOptions=[]},onLadderOpen:function(){},onLadderClose:function(){this.$refs.elLadderForm.clearValidate(),this.ladderVis=!1,this.isLadderEdit=!1,this.isLadderAdd=!1},ladderclose:function(){this.$emit("update:visible",!1),this.ladderVis=!1,this.isLadderEdit=!1,this.isLadderAdd=!1},addGroup:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isAdd=!0,e.pidsOptions=[],e.dialogVis=!0,t.next=5,c();case 5:if(a=t.sent,r=a.data,200===r.status){t.next=10;break}return e.$message.error(r.msg),t.abrupt("return");case 10:e.pidsOptions=r.data.group;case 11:case"end":return t.stop()}}),t)})))()},addLadder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isLadderAdd=!0,e.ladderVis=!0;case 2:case"end":return t.stop()}}),t)})))()},handelConfirm:function(){var e=this;this.isEdit?this.$refs.elForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.btnLoading=!0,e.formData.is_renew||(e.formData.renew_bates=""),e.formData.updategrade||(e.formData.upgrade_bates=""),t.next=7,u(e.formData);case 7:r=t.sent,s=r.data,200!==s.status?e.$message.error(s.msg):(e.getData(),e.getLadder(),e.$message.success(s.msg),e.onClose()),e.btnLoading=!1;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.isAdd&&this.$refs.elForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.btnLoading=!0,t.next=5,d(e.formData);case 5:r=t.sent,s=r.data,200!==s.status?e.$message.error(s.msg):(e.getData(),e.getLadder(),e.$message.success(s.msg),e.onClose()),e.btnLoading=!1;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handelLadderConfirm:function(){var e=this;this.isLadderAdd?this.$refs.elLadderForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.btnLoading=!0,t.next=5,_(e.ladderFormData);case 5:r=t.sent,s=r.data,200!==s.status?e.$message.error(s.msg):(e.$message.success(s.msg),e.getLadder(),e.onLadderClose()),e.btnLoading=!1;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.isLadderEdit&&this.$refs.elLadderForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e.btnLoading=!0,t.next=5,f(e.ladderFormData);case 5:r=t.sent,s=r.data,200!==s.status?e.$message.error(s.msg):(e.$message.success(s.msg),e.getLadder(),e.onLadderClose()),e.btnLoading=!1;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},changeSettings:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.is_sale||(e.sale_is_use=0,e.only_mine=0,e.all_sale=0,e.only_oneself_notice=0),r={id:e.id,is_sale:e.is_sale,sale_is_use:e.sale_is_use,only_mine:e.only_mine,all_sale:e.all_sale,only_oneself_notice:e.only_oneself_notice,cat_ownerless:e.cat_ownerless},a.next=4,h(r);case 4:s=a.sent,n=s.data,200!==n.status?(t.$message.error(n.msg),t.getSetting(t.currentPage03,t.limit03)):(t.$message.success(n.msg),t.getSetting(t.currentPage03,t.limit03));case 7:case"end":return a.stop()}}),a)})))()}},created:function(){this.getData(),this.getLadder(),this.getSetting(),this.getFourTabsData()}},y=k,x=(a("6654"),a("2877")),D=Object(x["a"])(y,r,s,!1,null,"6f8689fc",null);t["default"]=D.exports},bb4c:function(e,t,a){}}]);