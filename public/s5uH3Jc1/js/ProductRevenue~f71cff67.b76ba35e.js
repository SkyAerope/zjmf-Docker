(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ProductRevenue~f71cff67"],{2118:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d3b7"),a("ac1f"),a("25f0"),a("5319");function n(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"===e?t:3&t|8;return a.toString(16)}))}},"48fb":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return u}));var n=a("a27e");function r(e){return Object(n["a"])({url:"year_reports",params:e})}function o(){return Object(n["a"])({url:"year_reports_chart"})}function l(e){return Object(n["a"])({url:"new_client",params:e})}function s(e){return Object(n["a"])({url:"product_income",params:e})}function u(e){return Object(n["a"])({url:"forward_client",params:e})}},"773a":function(e,t,a){"use strict";var n=a("e477"),r=a.n(n);r.a},e46f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h5",{staticClass:"mt-0"},[e._v(e._s(e.$lang.products_hint)+" ")]),a("el-row",{style:{marginBottom:"10px"}},[a("div",{staticClass:"my--col"},[a("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.select_year,clearable:""},on:{change:e.getMonth},model:{value:e.query.year,callback:function(t){e.$set(e.query,"year",t)},expression:"query.year"}},e._l(e.yearOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("div",{staticClass:"my--col"},[a("el-select",{style:{width:"100%"},attrs:{size:"small",placeholder:e.$lang.select_month,clearable:""},model:{value:e.query.month,callback:function(t){e.$set(e.query,"month",t)},expression:"query.month"}},e._l(e.monthOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),a("div",{staticClass:"my--col my--col_btn"},[a("el-button",{attrs:{disabled:!e.query.month||!e.query.year,type:"primary",size:"small"},on:{click:e.getProduct}},[e._v(e._s(e.$lang.search))])],1)]),a("el-table",{staticClass:"productserver_sTable",staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.tableData,border:""}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableData.length||e.tableLoading?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"name",label:e.$lang.product}}),a("el-table-column",{attrs:{prop:"new_order_amount",label:e.$lang.new_subscription_revenue},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.renew_order_prefix)+e._s(n.new_order_amount)+e._s(n.renew_order_suffix)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"new_order_num",label:e.$lang.new_order_quantity}}),a("el-table-column",{attrs:{prop:"renew_order_amount",label:e.$lang.renewal_fee_income},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.renew_order_prefix)+e._s(n.renew_order_amount)+e._s(n.renew_order_suffix)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"renew_order_num",label:e.$lang.number_renewal}}),a("el-table-column",{attrs:{prop:"total_amount",label:e.$lang.total_money},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[e._v(" "+e._s(n.renew_order_prefix)+e._s(n.total_amount)+e._s(n.renew_order_suffix)+" ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.query.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.query.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.currentChange}})],1)},r=[],o=(a("4160"),a("159b"),a("96cf"),a("1da1")),l=a("2118"),s=a("48fb"),u={metaInfo:{title:window.zjmf_cw_lang.product_revenue},data:function(){return{tableLoading:!1,monthNum:0,tableData:[],monthList:[this.$lang.january,this.$lang.february,this.$lang.march,this.$lang.april,this.$lang.may,this.$lang.june,this.$lang.july,this.$lang.august,this.$lang.september,this.$lang.october,this.$lang.november,this.$lang.december],monthOptions:[],yearOptions:[{label:"2019年",value:2019},{label:"2020年",value:2020}],query:{year:void 0,month:parseInt(this.$moment().format("MM")),search_type:void 0,limit:50,page:void 0},total:void 0}},created:function(){this.getProduct(),this.getMonth()},mounted:function(){},methods:{tableRowClassName:function(e){var t=e.row;e.rowIndex;return t.products?"group-row":"product-row"},getMonth:function(){this.monthNum=parseInt(this.query.year)===parseInt(this.$moment().format("YYYY"))?parseInt(this.$moment().format("MM")):12,this.monthOptions=[];for(var e=0;e<this.monthNum;e++){var t=this.monthList[e],a={value:e+1,label:t};this.monthOptions.push(a)}},currentChange:function(e){this.query.page=e,this.getProduct()},handleSizeChange:function(e){this.query.limit=e,this.getProduct()},getProduct:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading=!0,t.next=3,Object(s["c"])(e.query);case 3:if(a=t.sent,n=a.data,e.total=n.total,r=[],200===n.status){t.next=9;break}return t.abrupt("return",!1);case 9:(n.data||[]).forEach((function(e){e.uid=Object(l["a"])(),r.push(e),e.products?(e.products||[]).forEach((function(e){e.uid=Object(l["a"])(),r.push(e)})):e.products=[]})),e.total=n.groups_count,e.yearOptions=n.years,e.query.year=n.years[n.years.length-1].value,e.tableData=r,e.tableLoading=!1;case 15:case"end":return t.stop()}}),t)})))()}},computed:{},watch:{}},i=u,c=(a("773a"),a("2877")),d=Object(c["a"])(i,n,r,!1,null,"35cfbc5a",null);t["default"]=d.exports},e477:function(e,t,a){}}]);