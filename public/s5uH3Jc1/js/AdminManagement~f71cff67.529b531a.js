(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AdminManagement~f71cff67"],{b98d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin"},[n("h5",[e._v(e._s(e.$lang.admin_management_tips_text))]),n("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.toAdd}},[e._v(e._s(e.$lang.add_employee))]),n("el-table",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData.filter((function(t){return!e.search||t.user_login.toLowerCase().includes(e.search.toLowerCase())}))}},[n("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableData.length&&e.tableLoading?n("span",[n("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableData.length||e.tableLoading?e._e():n("span",[e._v(e._s(e.$lang.no_data))])]),n("el-table-column",{attrs:{label:"ID",prop:"id",width:"70",align:"center"}}),n("el-table-column",{attrs:{label:e.$lang.real_name_des,prop:"user_nickname"}}),n("el-table-column",{attrs:{label:e.$lang.email_address_text,prop:"user_email"}}),n("el-table-column",{attrs:{label:e.$lang.user_name,prop:"user_login"}}),n("el-table-column",{attrs:{label:e.$lang.management_role,prop:"role"}}),n("el-table-column",{attrs:{label:e.$lang.fpddbm,prop:"dept"}}),n("el-table-column",{attrs:{label:e.$lang.is_sales,prop:"is_sale",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.is_sale?n("i",{staticClass:"el-icon-circle-check yes-icon"}):e._e(),0==t.row.is_sale?n("i",{staticClass:"el-icon-circle-close no-icon"}):e._e()]}}])}),n("el-table-column",{attrs:{label:e.$lang.sales_is_open,prop:"sale_is_use",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.sale_is_use?n("i",{staticClass:"el-icon-circle-check yes-icon"}):e._e(),0==t.row.sale_is_use?n("i",{staticClass:"el-icon-circle-close no-icon"}):e._e()]}}])}),n("el-table-column",{attrs:{label:e.$lang.operation,width:"125",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"span-primary",attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.editAdmin(t.$index,t.row)}}},[e._v(e._s(e.$lang.edit)+" ")]),n("el-button",{staticClass:"span-danger",attrs:{size:"small",type:"text",icon:"el-icon-delete",disabled:1===t.row.id},on:{click:function(n){return e.deleteAdmin(t.row)}}},[e._v(e._s(e.$lang.delete))])]}}])})],1),n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,15,20,25,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],i=(n("a9e3"),n("96cf"),n("1da1")),s=n("c9da"),l={metaInfo:{title:window.zjmf_cw_lang.employee_management},data:function(){return{tableLoading:!1,tableData:[],search:"",row:[],total:0,limit:Number(localStorage.getItem("limit"))||50,currentPage:1}},methods:{editAdmin:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.$router.push({name:"adminEdit",query:{id:t.id}});case 1:case"end":return e.stop()}}),e)})))()},toAdd:function(){this.$router.push({name:"adminEdit"})},change:function(){this.$forceUpdate()},getAdminData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading=!0,t.next=3,Object(s["e"])(e.limit,e.currentPage);case 3:if(n=t.sent,a=n.data,200===a.status){t.next=8;break}return e.$message.error(a.msg),t.abrupt("return");case 8:e.tableData=a.list,e.total=a.count,e.tableLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},deleteAdmin:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==e.id){n.next=4;break}t.$message.error(t.$lang.id_one_no_del),n.next=14;break;case 4:return n.next=6,t.$confirm(t.$lang.is_del_user_tips_text,t.$lang.delete_tips_text,{confirmButtonText:t.$lang.sure_del_text,cancelButtonText:t.$lang.cancel,type:"warning"}).catch((function(e){return e}));case 6:if(a=n.sent,"confirm"===a){n.next=9;break}return n.abrupt("return",t.$message.info(t.$lang.cancel_del_text));case 9:return n.next=11,Object(s["c"])(e.id);case 11:r=n.sent,i=r.data,200!==i.status?t.$message.error(i.msg):(t.$message.success(i.msg),t.getAdminData());case 14:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.limit=e,n.next=3,Object(s["e"])(t.limit,t.currentPage);case 3:if(a=n.sent,r=a.data,200===r.status){n.next=8;break}return t.$message.error(r.msg),n.abrupt("return");case 8:t.total=r.count,t.tableData=r.list;case 10:case"end":return n.stop()}}),n)})))()},handleCurrentChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.currentPage=e,n.next=3,Object(s["e"])(t.limit,t.currentPage);case 3:if(a=n.sent,r=a.data,200===r.status){n.next=8;break}return t.$message.error(t.$lang.something_error),n.abrupt("return");case 8:t.tableData=r.list;case 9:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getAdminData()}},c=l,o=n("2877"),u=Object(o["a"])(c,a,r,!1,null,"5a099565",null);t["default"]=u.exports},c9da:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d}));var a=n("a27e");function r(e,t){return Object(a["a"])({url:"adminuser",params:{page:t,limit:e}})}function i(e){return Object(a["a"])({url:"adminuser/".concat(e,"/"),method:"delete"})}function s(e){return Object(a["a"])({url:"adminuser/update",method:"post",data:e})}function l(){return Object(a["a"])({url:"create_page"})}function c(e){return Object(a["a"])({url:"adminuser/".concat(e),method:"get"})}function o(e){return Object(a["a"])({url:"adminuser",method:"post",data:e})}function u(){return Object(a["a"])({url:"user/get_black_list"})}function d(e){return Object(a["a"])({url:"user/remove_black_list",method:"post",data:e})}}}]);